require({cache:{"sys/xform/mobile/controls/event/EventDataListItem":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dijit/_WidgetBase","dojo/topic"],function(h,e,g,a,c,f,b){return e("sys.xform.mobile.controls.event.EventDataListItem",[f],{key:null,isMul:false,data:[],headers:[],selected:false,baseClass:"muiEventItem",buildRendering:function(){this.inherited(arguments);this.contentNode=a.create("div",{className:"muiEventContent"},this.domNode)},postCreate:function(){var i=this;this.inherited(arguments);this.subscribe("/sys/xform/event/checked","_setSelected");this.subscribe("/sys/xform/event/selectAll","_setSelectAll");this.connect(this.contentNode,"click",function(j){var k=new Date();if(i.clickTime&&(k.getTime()-i.clickTime<500)){return}i.clickTime=k.getTime();this._selectData(j)})},startup:function(){this.inherited(arguments);this.doRender()},doRender:function(){var i=a.create("div",{className:"muiEventSelArea "+(this.isMul?"muiEventSelMul":"muiEventSelSgl")},this.contentNode);this.selNode=a.create("div",{className:"muiEventSel"},i);h.forEach(this.data.itemVals,function(l,k){var n=a.create("div",{className:"muiEventItem"},this.contentNode);var o=a.create("div",{className:"muiEventInfo"},n);var m=this.headers[k];a.create("div",{className:"muiEventTitle"+(dojoConfig.dingXForm==="true"?" muiDingEventTitle":""),innerHTML:m.fieldNameForm?m.fieldNameForm:m.fieldName},o);var j=a.create("div",{className:"muiEventValue",innerHTML:l},o);if(m.hiddenFlag=="1"){c.set(n,"display","none")}if(k==0){g.add(j,"muiEventValueMain")}},this)},_setSelected:function(i){if(this.key==i.key){if(!this.isMul&&this.id!=i.id){if(this.selected){this.selected=false;a.empty(this.selNode);g.remove(this.selNode,"muiEventSeled");b.publish("/sys/xform/event/unchecked",this)}}}},_selectData:function(){this.selected=!this.selected;if(this.selected){a.create("i",{className:"fontmuis muis-form-selected-cor"},this.selNode);g.add(this.selNode,"muiEventSeled");b.publish("/sys/xform/event/checked",this)}else{a.empty(this.selNode);g.remove(this.selNode,"muiEventSeled");b.publish("/sys/xform/event/unchecked",this)}},_setSelectAll:function(i){if(this.key==i.key){if(i.selected){if(!this.selected){this._selectData()}}else{if(this.selected){this._selectData()}}}}})})},"sys/xform/mobile/controls/event/MoreSearchLayout":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/topic","mui/i18n/_i18n!sys/xform/mobile/mui-xform","mui/header/HeaderItem","mui/folder/_Folder","mui/dialog/Dialog","dojo/_base/lang","dojo/_base/array","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(g,c,h,b,f,k,j,a,i,e){return g("sys.xform.mobile.controls.event.MoreSearchLayout",[f,k],{baseClass:"muiHeaderItem muiHeaderItemIcon",icon:"fontmuis muis-menu",searchItems:[],searchInputs:[],show:function(){if(!this.searchContentNode){this.searchContentNode=this.buildSearchContent()}var l=this;var m=[{title:e["mui.button.cancel"],fn:function(n){n.hide()}},{title:b["mui.event.search.ok"],fn:function(n){l.ok();n.hide()}},{title:b["mui.event.search.reset"],fn:function(){l.reset()}}];this.dialog=j.element({element:l.searchContentNode,buttons:m,position:"bottom",showClass:this.showClass?this.showClass:"muiDialogSelect",callback:a.hitch(this,function(){h.publish(this.SELECT_CALLBACK,this);this.dialog=null})})},initFilter:function(m,n,l){this.argu=m;this.dataSource=n;this.searchItems=l},buildSearchContent:function(){var l=c.create("div",{className:"searchWrap"});for(var m=0;m<this.searchItems.length;m++){this.buildSearchItem(this.searchItems[m],l);if(m===0){this.connect(this.searchInputs[0].dom,"change","_searchValChange")}}return l},_searchValChange:function(l){var m=l.target.value;h.publish("/sys/xform/event/search",this,{value:m})},buildSearchItem:function(o,l){var n=c.create("div",{className:"searchItem"},l);c.create("span",{innerHTML:o.sdesc+"："},n);var m=c.create("input",{type:"text"},n);this.searchInputs.push({item:o,dom:m})},searchValues:function(){var m=this.argu.outerSearchParams;var l=[];for(var o=0;o<this.searchInputs.length;o++){var n=this.searchInputs[o];if(n.item.group){i.forEach(m,function(p){if(p.group==n.item.group){p.value=n.dom.value;l.push(p)}})}else{n.item.value=n.dom.value;l.push(n.item)}}this.argu.paramsJSON.outerSearchs=JSON.stringify(l);h.publish("/sys/xform/event/search",this,{argu:this.argu,dataSource:this.dataSource})},ok:function(){this.searchValues()},reset:function(){for(var l=0;l<this.searchInputs.length;l++){this.searchInputs[l].dom.value=""}}})})},"sys/xform/mobile/controls/Prompt":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-prop","sys/xform/mobile/controls/xformUtil","dijit/registry","mui/form/_FormBase","dojo/query","dojo/dom","dojo/dom-class","dojo/dom-attr","dojo/dom-style","dojo/on","dojo/_base/lang","dojo/topic"],function(h,e,c,g,a,p,n,f,o,m,j,l,b,i){var k=h("sys.xform.mobile.controls.Prompt",[p],{content:"",contentShow:false,buildRendering:function(){this.inherited(arguments);o.add(this.domNode,"lui_prompt_tooltip");this.iconDom=n("[name='"+this.fdId+"']",this.domNode)[0];o.add(this.domNode,"lui_mobile_tooltip");o.add(this.iconDom,"mui_prompt_tooltip_drop");this.contentDom=n("[name='"+this.fdId+"_content']",this.domNode)[0];this.setStyle(this.contentDom);this.content=this.contentDom.innerHTML},postCreate:function(){this.inherited(arguments);l(this.domNode,"click",b.hitch(this,this.promptLabelClick))},startup:function(){this.inherited(arguments);if(this.hidden==="true"){j.set(this.domNode,"display","none")}j.set(this.domNode,"min-width","1rem")},setStyle:function(q){if(this.font){j.set(q,"fontFamily",this.font)}if(this.size){j.set(q,"fontSize",this.size)}if(this.color){j.set(q,"color",this.color)}if(this.b=="true"){j.set(q,"fontWeight","bold")}if(this.i=="true"){j.set(q,"fontStyle","bold","italic")}if(this.underline=="true"){j.set(q,"textDecoration","underline")}},promptLabelClick:function(u){u=u||window.event;u.cancelBubble=true;if(u.preventDefault){u.preventDefault()}if(u.stopPropagation){u.stopPropagation()}var v=new Date().getTime();var q=this.ctime;if(q!="undefined"&&(v-q<500)){return false}this.ctime=v;if(this.contentShow){j.set(this.contentDom,"display","none");this.contentShow=false}else{var t=this.htmlUnEscape(this.content);this.contentDom.innerHTML=t;var x=n("a",this.contentDom);var s="";var r="window.open('url','_self')";var w="_blank";x.forEach(function(A,z){s=m.get(A,"href");if(m.get(A,"target")){w=m.get(A,"target")}m.set(A,"onclick",r.replace("url",s).replace("target",w));m.set(A,"href","javascript:void(0);")});j.set(this.contentDom,"zIndex","2000");j.set(this.contentDom,"display","inline-block");this.contentElementPosition();this.contentShow=true}},contentElementPosition:function(){var A=this.domNode.offsetLeft+document.body.scrollLeft;var w=this.domNode.offsetTop;var u=document.body.scrollWidth;var B=document.body.scrollHeight;var s=j.get(this.contentDom,"width");var t=j.get(this.contentDom,"height");offset={};var v=g.isInDetail(this);if(A>220){j.set(this.contentDom,"marginLeft","-250px")}else{if(A+240+31>u){j.set(this.contentDom,"marginLeft",-A/2+"px");j.set(this.contentDom,"bottom","30px")}else{j.set(this.contentDom,"marginLeft","15px")}}if((w-t)<0){j.set(this.contentDom,"bottom",-(t+10)+"px")}var z=this.findDetailTableScrollView();if(z){j.set(z.domNode,"overflow","");var r=n(".muiDetailTableAdd",n(".detailTableContent",z.domNode)[0])[0];if(r){var q=n(".mui-plus",r)[0];if(q){m.set(q,"style","position:static")}}}},findDetailTableScrollView:function(){var q=this.findTableNormal();if(q){var r=n(this.domNode).closest(".mblScrollableView")[0];if(r){return a.byNode(r)}}return null},findTableNormal:function(){var r=this.domNode;if(r){var q=r.parentNode;while(q){if(o.contains(q,"detailTableNormal")||o.contains(q,"detailTableSingleRow")){return q}q=q.parentNode}}return null},htmlUnEscape:function(q){if(q==null||q==" "){return""}q=q.replace(/&amp;/g,"&");q=q.replace(/&quot;/g,'"');q=q.replace(/&lt;/g,"<");q=q.replace(/&nbsp;/g," ");return q.replace(/&gt;/g,">")}});return k})},"sys/xform/mobile/controls/massdata/MassData":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-construct","dojo/_base/lang","mui/util","sys/xform/mobile/controls/massdata/_ViewTempMixin","sys/xform/mobile/controls/massdata/_RequestDataMixin","sys/xform/mobile/controls/massdata/template/_MassDataToolBarMixin","mui/base64","dojo/topic","dojo/query","dojo/parser","dojo/dom-style"],function(h,g,c,b,j,f,o,e,l,i,n,a,k){var m=h("sys.xform.mobile.controls.massdata.MassData",[g,f,o],{pageno:"1",pageSize:"10",totalSize:"0",inputParams:null,outputParams:null,excelcolumns:null,columns:{},pageNum:{},datas:[],contentWgt:null,pagingWgt:null,allColInvalid:true,buildRendering:function(){this.inherited(arguments);this.mainModelName=_xformMainModelClass;this.mainFormId=_xformMainModelId;this.initColumns()},postCreate:function(){this.inherited(arguments)},startup:function(){this.inherited(arguments);if(typeof this.right!="undefined"&&this.right=="edit"){var p=c.create("input",{type:"hidden",name:this.name},this.domNode)}this.subscribe("/sys/xform/massdata/page",b.hitch(this,function(q){if(typeof this.controlId!="undefined"&&q.controlId==this.controlId){if(this.pageNum[this.controlId]){this.pageNum[this.controlId]=q.pageno}}else{this.pageno=q.pageno}this.reRender()}))},initColumns:function(){this.setRecordDatas({});if(typeof this.right!="undefined"&&this.right=="edit"){this.defer(function(){if(q!="EXCEL"){var t=n(".massdata-toolbar",this.domNode);var s=this;t[0].innerHTML="<div data-dojo-type='mui/tabbar/TabBar'   class='massdata-tabBar'><li data-dojo-type='sys/xform/mobile/controls/massdata/template/_MassDataToolBarMixin' class='mblTabBarButton massdataTarButton' data-dojo-props='controlId:\""+this.controlId+"\"'>获取数据</li></div>";a.parse(t[0]).then(function(){var u=n(".massdata-toolbar .mblTabBarButton",s.domNode);var v=n(".massdata-toolbar .massdataTarButton",s.domNode);k.set(v[0],"padding","0rem");k.set(u[0],"width","8rem")})}},500)}var q=this._source;if(q=="EXCEL"){this.excelcolumns=this.excelcolumns||"{}";this.excelcolumns=$.parseJSON(this.excelcolumns.replace(/quot;/g,'"'));if(typeof this.controlId!="undefined"){if(!this.columns[this.controlId]){this.columns[this.controlId]={}}this.columns[this.controlId]=$.extend(this.columns[this.controlId],this.excelcolumns)}else{this.columns=$.extend(this.columns,this.excelcolumns)}}else{if(typeof this.controlId!="undefined"&&!this.pageNum[this.controlId]){this.pageNum[this.controlId]=this.pageno}this.inputParams=this.inputParams||"{}";this.inputParams=$.parseJSON(this.inputParams.replace(/quot;/g,'"'));this.outputParams=this.outputParams||"{}";this.outputParams=$.parseJSON(this.outputParams.replace(/quot;/g,'"'));if(typeof this.controlId!="undefined"){if(!this.columns[this.controlId]){this.columns[this.controlId]={}}for(var p in this.outputParams){var r=this.outputParams[p];this.columns[this.controlId][l.decode(r.fieldId)]={title:r.fieldTitle}}}else{for(var p in this.outputParams){var r=this.outputParams[p];this.columns[l.decode(r.fieldId)]={title:r.fieldTitle}}}}},onDataLoad:function(p){this.setDatas(p);this.allColInvalid=true;this.setRecordDatas(p);this.reRender()},reRender:function(){var q={};if(typeof this.controlId!="undefined"){if(!this.pageNum[this.controlId]){this.pageNum[this.controlId]=this.pageno}q.pageno=this.pageNum[this.controlId];q.columns=this.columns[this.controlId]}else{q.pageno=this.pageno;q.columns=this.columns}q.pageSize=this.pageSize;q.totalSize=this.totalSize;q.controlId=this.controlId;var p=this.divideDatasByPage();p=this.getValidDatas(p,q.columns);q.datas=p;this.contentWgt.render(q);if(p.length>0){this.pagingWgt.render(q)}this.contentWgt.resize();i.publish("/mui/list/resize")},setDatas:function(p){p=p||{};if(p.hasOwnProperty("records")){this.datas=p.records;this.totalSize=this.datas.length}else{this.datas=[];this.totalSize="0"}},divideDatasByPage:function(){var q=[];var p=this.datas;var s=parseInt((this.pageno-1)*this.pageSize);var r=parseInt(this.pageno*this.pageSize);if(typeof this.controlId!="undefined"){if(!this.pageNum[this.controlId]){this.pageNum[this.controlId]=this.pageno}s=parseInt((this.pageNum[this.controlId]-1)*this.pageSize);r=parseInt(this.pageNum[this.controlId]*this.pageSize)}if(p.length>=s&&p.length<r){q=p.slice(s)}else{if(p.length<s){}else{if(p.length>=r){q=p.slice(s,r)}}}return q},getValidDatas:function(p,s){var t=[];for(var r=0;r<p.length;r++){var u=p[r];var v={};for(var q in s){if(u.hasOwnProperty(q)){v[q]=u[q]}}if(JSON.stringify(v)!="{}"){t.push(v)}}return t},setRecordDatas:function(p){if(this.pageNum[this.controlId]){this.pageNum[this.controlId]="1"}p=p||{};$("input[name='"+this.name+"']").val(JSON.stringify(p))}});return m})},"sys/xform/mobile/controls/mutiTab/TabView":function(){define(["dojo/_base/declare","dojox/mobile/View","mui/NativeView"],function(a,b){return a("sys.xform.mobile.controls.MutiTab.TabView",[b],{})})},"sys/xform/mobile/controls/Relevance":function(){define(["dojo/_base/declare","mui/form/_FormBase","mui/util","dojo/dom-construct","dojo/_base/json","sys/xform/mobile/controls/relevance/RelevanceDialog","mui/dialog/Confirm","mui/i18n/_i18n!sys/xform/mobile/mui-xform","sys/xform/mobile/controls/xformUtil","dojo/query","dojo/dom-style","dojo/topic","dojo/dom-class","dojo/request"],function(declare,_FormBase,util,domConstruct,json,RelevanceDialog,Confirm,Msg,xUtil,query,domStyle,topic,domClass,request){var claz=declare("sys.xform.mobile.controls.Relevance",[_FormBase],{viewUrl:"/sys/xform/controls/relevance.do?method=viewDoc",name:null,fdId:null,fdControlId:null,fdMainModelName:null,btnName:Msg["mui.relevance"],formFilePath:null,curIds:null,curSubjects:null,curFdModelNames:null,curIsCreators:null,isUseNew:"false",isMul:true,inputParams:null,fdKey:null,fdTemplateModelName:null,isBase:true,isSimpleCategory:false,orient:"none",buildRendering:function(){var _extendFilePath=document.getElementsByName("extendDataFormInfo.extendFilePath")[0];if(_extendFilePath){this.formFilePath=_extendFilePath.value}this.inherited(arguments);this._buildValue();var curTable=query(this.domNode).closest("table.muiSimple");if(curTable.length>0){}},postCreate:function(){this.inherited(arguments);this.subscribe("/sys/xform/relevance/setvalue","_setvalue")},_buildValue:function(){this.inherited(arguments);this.hiddeNode=domConstruct.create("input",{type:"hidden",name:this.name},this.valueNode);this.ListNode=domConstruct.create("div",{className:"muiFormRelevanceListBox"},this.valueNode);var setBuildName="build"+util.capitalize(this.showStatus);this[setBuildName]?this[setBuildName]():"";var setMethdName=this.showStatus+"ValueSet";this.showStatusSet=this[setMethdName]?this[setMethdName]:new Function()},buildEdit:function(){},buildReadOnly:function(){},buildHidden:function(){},_setvalue:function(srcObj,evt){if(evt&&this.name==srcObj.key){if(this.curIds!=evt.curIds){var docIds=evt.curIds.split(";");var subjects=evt.subjects.split(";");var fdModelNames=evt.fdModelNames.split(";");var isCreators=evt.isCreators.split(";");var values=[];for(var i=0;i<docIds.length;i++){var val={};val.docId=docIds[i];val.subject=subjects[i];val.fdModelName=fdModelNames[i];val.isCreator=isCreators[i];val.checked="true";val.openRight=isCreators[i];values.push(val)}this.set("value",JSON.stringify(values))}}},_setValueAttr:function(value){this.inherited(arguments);this.showStatusSet(value);this.hiddeNode.value=value.replace(/&quot;/g,'"');topic.publish("/mui/list/resize",this)},viewValueSet:function(value){this.showDoc(value)},editValueSet:function(value){this.showDoc(value);this.setOutParams()},showDoc:function(value){var self=this;if(this.value&&this.value!=""){try{var val=eval(this.value.replace(/&quot;/g,'"'));if(val.length>0){var isHiddenCss="";if(val.length>5&&this.showStatus!="edit"){this.hiddenBoxNode=domConstruct.create("div",{className:"muiFormRelevanceHideBox"},this.ListNode);var hideShowBtn=domConstruct.create("div",{className:"muiFormRelevanceBtnHide fontmuis muis-drop-down"},this.ListNode);this.connect(hideShowBtn,"click","_ReleHideShow");isHiddenCss="muiForemRelevanceHidArticle"}if(!this.valOpt){this.valOpt=domConstruct.create("ul",{className:isHiddenCss});domConstruct.place(this.valOpt,this.ListNode,"first")}this.valOpt.innerHTML="";var docIds=[];var subjects=[];var fdModelNames=[];var isCreators=[];for(var i=0;i<val.length;i++){var v=val[i];docIds.push(v.docId);subjects.push(v.subject);fdModelNames.push(v.fdModelName);isCreators.push(v.isCreator);var item=this.getItemDom(v);domConstruct.place(item,this.valOpt,"last")}this.curIds=docIds.join(";");this.curSubjects=subjects.join(";");this.curFdModelNames=fdModelNames.join(";");this.curIsCreators=isCreators.join(";")}else{if(this.valOpt){this.valOpt.innerHTML="";this.curIds="";this.curSubjects="";this.curFdModelNames="";this.curIsCreators=""}}}catch(e){}}else{if(this.valOpt){this.valOpt.innerHTML="";this.curIds="";this.curSubjects="";this.curFdModelNames="";this.curIsCreators=""}}if(this.showStatus=="edit"&&!this.rTitleNode){var topOpt=domConstruct.create("div",{className:"muiFormRelevanceBtnPlus"});if(this.orient=="vertical"){domClass.add(topOpt,"BtnPlusVertical")}var addOpt=domConstruct.create("span",{className:"muiFormRelevanceBtnIcon fontmuis muis-new"},topOpt);if(this.btnName){var btnText=domConstruct.create("span",{className:"muiFormRelevanceBtnText",innerHTML:this.btnName},topOpt)}this.connect(topOpt,"click",function(evt){var activeElement=document.activeElement;if(activeElement&&activeElement.blur){activeElement.blur()}var inputParams=null;if(self.inputParams){var inputParamsMapping=JSON.parse(self.inputParams.replace(/quot;/g,'"'));var inputParamsValueMap={};for(var fid in inputParamsMapping){var param=inputParamsMapping[fid];var id=param.fieldId;var idform=param.fieldIdForm;if(!id||!idform){continue}inputParamsValueMap[fid]=self.getFormFiledValue(id)}inputParams=JSON.stringify(inputParamsValueMap).replace(/"/g,"quot;")}if(self.dialog==null){self.dialog=new RelevanceDialog()}var dataUrl=util.formatUrl("/sys/xform/controls/relevance.do?method=getAllList");dataUrl+="&fdControlId="+self.fdControlId+"&extendXmlPath="+self.formFilePath+"&fdMainModelNameMobile="+self.fdMainModelName;request.get(dataUrl,{handleAs:"json",sync:true}).then(function(responseText){if(responseText){if(responseText[0].mainModelName){self.fdMainModelName=responseText[0].mainModelName}else{self.fdMainModelName=responseText[0].fdMainModelName}self.fdKey=responseText[0].fdKey;self.fdId=responseText[0].fdId;self.fdTemplateModelName=responseText[0].fdTemplateModelName;self.isSimpleCategory=responseText[0].isSimpleCategory;self.isBase=responseText[0].isBase}});self.dialog.select({key:self.name,fdControlId:self.fdControlId,fdKey:self.fdKey,fdId:self.fdId,extendXmlPath:self.formFilePath,fdMainModelName:self.fdMainModelName,fdTemplateModelName:self.fdTemplateModelName,isBase:self.isBase,isSimpleCategory:self.isSimpleCategory,curIds:self.curIds,curSubjects:self.curSubjects,isMul:self.isMul,curFdModelNames:self.curFdModelNames,curIsCreators:self.curIsCreators,isUseNew:self.isUseNew,inputParams:encodeURIComponent(inputParams)})});domConstruct.place(topOpt,this.valueNode,"last");this.rTitleNode=topOpt}},getFormFiledValue:function(id){var param="";if(/\.(\w+)/g.test(id)){param=id.match(/\.(\w+)/g)[0].replace(".","").toLowerCase();id=id.match(/(\S+)\./g)[0].replace(".","")}var valueInfo=[];var wgts=xUtil.getXformWidgetsBlur(null,id);for(var j=0;j<wgts.length;j++){if(wgts[j].declaredClass=="mui.form.Address"||wgts[j].declaredClass=="sys.xform.mobile.controls.NewAddress"){if(param=="name"){valueInfo.push(wgts[j].curNames)}else{if(param=="id"){valueInfo.push(wgts[j].curIds)}}}else{if(/_text/.test(id)){valueInfo.push(wgts[j].text)}else{valueInfo.push(wgts[j].value)}}}if(!valueInfo||valueInfo.length==0){valueInfo="null"}return valueInfo},getItemDom:function(value){var self=this;var item=domConstruct.create("li",{className:"muiFormRelevanceDocLi"});domConstruct.create("i",{className:"fontmuis muis-associated-document",style:{"float":"left","margin-right":"5px"}},item);var doc=domConstruct.create("a",{className:"muiFormRelevanceDocLink"},item);var myValue=value.subject?value.subject:"";doc.title=myValue;doc.innerHTML=myValue;if(this.showStatus=="edit"){domClass.add(doc,"muiFormRelevanceDocDelIcon");var delOpt=domConstruct.create("i",{className:"fontmuis muis-delete-document",style:{"float":"right","margin-right":"15px",color:"red"}},item);delOpt.id=value.docId}this.connect(delOpt,"click","_deleDoc");this.connect(doc,"click",function(evt){var fdControlId=self.fdControlId;if(/(\w+\.\d+\.\w+)/g.test(self.name)){fdControlId=self.name.match(/(\w+\.\d+\.\w+)/g)[0]}if(this.showStatus=="edit"){Confirm(Msg["mui.relevance.delete_msg"],null,function(data){if(data){var paramMap={};paramMap.fdId=self.fdId;paramMap.fdMainModelName=self.fdMainModelName;paramMap.fdControlId=fdControlId;paramMap.fdDocId=value.docId;paramMap.fdModelName=value.fdModelName;var url=util.setUrlParameterMap(self.viewUrl,paramMap);url=util.formatUrl(url);window.open(url,"_self")}},false)}else{var paramMap={};paramMap.fdId=self.fdId;paramMap.fdMainModelName=self.fdMainModelName;paramMap.fdControlId=fdControlId;paramMap.fdDocId=value.docId;paramMap.fdModelName=value.fdModelName;var url=util.setUrlParameterMap(self.viewUrl,paramMap);url=util.formatUrl(url);window.open(url,"_self")}});return item},_deleDoc:function(evt){if(evt){var id=evt.target.id;var value=this.get("value");if(value){var val=eval(this.value.replace(/&quot;/g,'"'));if(val.length>0){var bool=false;for(var i=0;i<val.length;i++){if(id==val[i].docId){val.splice(i,1);bool=true;break}}if(bool){this.set("value",val.length>0?JSON.stringify(val):"")}}}}},buildAutoAdaptionView:function(){if(this.showStatus!="hidden"){this.inherited(arguments);if(this.autoAdaptionViewNode){this.autoAdaptionViewNode.innerText="";this._buildItem()}}},buildSingleRowView:function(){if(this.showStatus!="hidden"){this.inherited(arguments);if(this.autoAdaptionViewNode){this.autoAdaptionViewNode.innerText="";this._buildItem()}}},_buildItem:function(){var val=eval(this.value.replace(/&quot;/g,'"'));if(val&&val.length>0){for(var i=0;i<val.length;i++){var v=val[i];var item=this.getItemDom(v);domConstruct.place(item,this.autoAdaptionViewNode,"last");var cancelNode=query(".mui-cancel",item)[0];if(cancelNode){domStyle.set(cancelNode,"display","none")}}}},_ReleHideShow:function(evt){if(evt){var el=evt.target;if(this.hasClass(el,"muis-drop-down")){this.removeClass(el,"muis-drop-down");this.addClass(el,"muis-drop-up");domStyle.set(this.hiddenBoxNode,"display","none")}else{this.removeClass(el,"muis-drop-up");this.addClass(el,"muis-drop-down");domStyle.set(this.hiddenBoxNode,"display","block")}domClass.toggle(this.valOpt,"muiForemRelevanceHidArticle")}},hasClass:function(elements,cName){return !!elements.className.match(new RegExp("(\\s|^)"+cName+"(\\s|$)"))},addClass:function(elements,cName){if(!this.hasClass(elements,cName)){elements.className+=" "+cName}},removeClass:function(elements,cName){if(this.hasClass(elements,cName)){elements.className=elements.className.replace(new RegExp("(\\s|^)"+cName+"(\\s|$)")," ")}},setOutParams:function(){var self=this;if(self.outputParams){var fdModelIds=[];var fdModelNames=[];var val="";if(self.value){val=eval(this.value.replace(/&quot;/g,'"'));for(var i=0;i<val.length;i++){var item=val[i];fdModelIds.push(item.docId);fdModelNames.push(item.fdModelName)}}var outputParamsMapping=JSON.parse(self.outputParams.replace(/quot;/g,'"'));for(var fid in outputParamsMapping){var param=outputParamsMapping[fid];var fieldIdForm=param.fieldIdForm;var fieldId=param.fieldId;if(!fieldIdForm||!fieldId){continue}var fieldDictType=param.fieldDictType;var fieldDataTypeForm=param.fieldDataTypeForm;var msg="";if(self.value){var url=util.formatUrl("/sys/xform/controls/relevance.do?method=getOutInfo");url+="&fieldId="+fieldId+"&fieldDictType="+fieldDictType+"&fieldDataTypeForm="+fieldDataTypeForm+"&fdModelIds="+fdModelIds.join(";")+"&fdModelNames="+fdModelNames.join(";");request.get(url,{handleAs:"json",sync:true}).then(function(responseText){if(responseText){for(var i=0;i<responseText.length-1;i++){msg+=responseText[i].outValue+";"}msg+=responseText[responseText.length-1].outValue}})}if(fieldIdForm.indexOf(".")>-1){var fields=fieldIdForm.split(".");var wgts=xUtil.getXformWidgetsBlur(null,fields[0]);if(wgts&&wgts.length>0){if(fields[1]=="id"){wgts[0].set("curIds",msg)}else{if(fields[1]=="name"){wgts[0].set("curNames",msg)}}}}else{var wgts=xUtil.getXformWidgetsBlur(null,fieldIdForm);for(var i=0;i<wgts.length;i++){self._filedSetValue(wgts[i],msg,fieldIdForm)}}}}},_filedSetValue:function(wgt,val,prop){if(wgt){if(wgt.declaredClass=="mui.form.Address"||wgt.declaredClass=="sys.xform.mobile.controls.NewAddress"){if(val instanceof Array){wgt.set("curIds",val[0]);wgt.set("curNames",val[1]!=null?val[1]:val[0])}else{wgt.set("curIds",val);wgt.set("curNames",val)}}else{if(wgt.declaredClass=="mui.form.RadioGroup"){var childrenArray=wgt.getChildren();for(var i=0;i<childrenArray.length;i++){if(childrenArray[i].value==val&&childrenArray[i]._onClick){childrenArray[i]._onClick()}}}else{if(wgt.declaredClass=="mui.form.CheckBoxGroup"){var childrenArray=wgt.getChildren();var valArray=val.split(";");for(var i=0;i<childrenArray.length;i++){if(childrenArray[i]._onClick){if(childrenArray[i].value&&valArray.indexOf(childrenArray[i].value)>-1){childrenArray[i].checked=false}else{childrenArray[i].checked=true}childrenArray[i]._onClick()}}}else{wgt.set("value",val)}}}}else{if(this.textName&&prop.indexOf("_text")>-1&&this.textName.indexOf(prop)>-1){this.set("text",val)}}}});return claz})},"sys/xform/mobile/controls/EventDataDialog":function(){define(["dojo/_base/declare","dojo/topic","dojo/dom","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/html","dojo/_base/array","mui/util","dojo/touch","dojox/mobile/_css3","dijit/registry","dojo/dom-class","dijit/_WidgetBase","mui/history/listener"],function(i,l,g,e,n,b,k,o,j,h,q,a,p,f,c){var m=i("sys.xform.mobile.controls.EventDataDialog",[f],{isMul:false,pageAble:false,templURL:"sys/xform/mobile/controls/event/event_select.tmpl",modelingType:"",key:null,dataSource:null,argu:null,selectedDatas:[],_dialogDivPrefix:"__cate_dialog_",postCreate:function(){this.inherited(arguments);l.subscribe("/sys/xform/event/selected",b.hitch(this,"returnDialog"));l.subscribe("/sys/xform/event/cancel",b.hitch(this,"closeDialog"))},_init:function(r){this.isMul=r.isMul;this.key=r.key;this.pageAble=r.pageAble;this.argu=r.argu;this.dataSource=r.dataSource;this.selectedDatas=r.argu.selectedDatas},returnDialog:function(s,r){if(r){if(s.key==this.key){l.publish("/sys/xform/event/setvalue",r);this.closeDialog(s)}}},showAnimate:function(){p.add(this.dialogDiv,"fadeIn animated");n.set(this.dialogDiv,"display","block");n.set(this.dialogDiv,"background-color","rgba(0, 0, 0, 0.6)");p.add(this.dialogContainerDiv,"fadeInRight animated");n.set(this.dialogContainerDiv,"display","block");var r=this;setTimeout(function(){p.remove(r.dialogDiv,"fadeIn");p.remove(r.dialogContainerDiv,"fadeInRight")},500)},closeDialog:function(s){if(this.dialogDiv&&s.key==this.key){n.set(this.dialogDiv,q.name("transform"),"translate3d(100%, 0, 0)");var r=this;setTimeout(function(){if(r.parseResults&&r.parseResults.length){o.forEach(r.parseResults,function(t){if(t.destroy){t.destroy()}});delete r.parseResults}e.destroy(r.dialogDiv);r.dialogDiv=null},410)}c.go({step:-1})},initSelData:function(){var t=this.argu.outerSearchParams;var s=[];o.forEach(t,function(x){if(x.isHidden&&x.isHidden=="true"){return}s.push(x)},this);var w=a.byId("_eventdata_sgl_search_list_"+this.key);var u=a.byId("_eventdata_sgl_list_"+this.key);if(s&&s.length>0){if(w){w.initSearchBars(this.argu,this.dataSource,s)}var r=a.byId("_eventdata_sgl_filter_"+this.key);if(r){r.initFilter(this.argu,this.dataSource,s)}}else{n.set(w.getParent().domNode,{display:"none"});u.getParent().resize()}u.setArgu(this.argu);u.setSelectedDatas(this.selectedDatas);u.setData(this.dataSource);var v=a.byId("_eventdata_sgl_selection_"+this.key);v.setArgu(this.argu)},_closeDialog:function(r){var s=r.target;if(this.dialogDiv&&s===this.dialogDiv){this.__doCloseDialog()}},__doCloseDialog:function(){p.add(this.dialogContainerDiv,"fadeOutRight animated");p.add(this.dialogDiv,"fadeOut animated");this.defer(function(){if(this.dialogContainerDiv){n.set(this.dialogContainerDiv,"display","none")}if(this.dialogDiv){n.set(this.dialogDiv,"display","none")}},500);setTimeout(b.hitch(this,function(){if(this.parseResults&&this.parseResults.length){o.forEach(this.parseResults,function(r){if(r.destroy){r.destroy()}});delete this.parseResults}e.destroy(this.dialogDiv);this.dialogDiv=null;this._working=false}),410)},_select$1:function(t){this._init(t);if(this.templURL&&!this._working){var s=this._dialogDivPrefix+this.key;this._working=true;this.dialogDiv=g.byId(s);if(this.dialogDiv==null){var r=this;require(["dojo/text!"+j.urlResolver(this.templURL,this)],function(v){r.dialogDiv=e.create("div",{id:s,className:"muiCateDiaglog",tabindex:"0"},document.body,"last");r.dialogContainerDiv=e.create("div",{className:"muiCateDiaglogContainer muiEventContainer",style:{width:"100%"}},r.dialogDiv);r.dialogDiv.focus();r.defer(function(){r.connect(r.dialogDiv,"click","_closeDialog")},500);j.disableTouch(r.dialogDiv,h.move);var u=new k._ContentSetter({node:r.dialogContainerDiv,parseContent:true,cleanContent:true,onBegin:function(){this.content=b.replace(this.content,{argu:r});this.inherited("onBegin",arguments)}});u.set(v);u.parseDeferred.then(function(w){r.parseResults=w;n.set(r.dialogDiv,q.name("transform"),"translate3d(0, 0, 0)");r.initSelData()});u.tearDown();r.showAnimate()})}}},select:function(s){var u=b.hitch(this,function(){this._select$1(s)});var t=b.hitch(this,function(){window.beforeSelectCateHistoryId=null;this.__doCloseDialog()});var r=c.push({forwardCallback:u,backCallback:t});window.beforeSelectCateHistoryId=r.previousId}});return m})},"sys/xform/mobile/controls/fSelect/FSelectSelection":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/_base/array","dojox/mobile/ScrollableView","dojo/dom","dojo/dom-construct","dojo/dom-style","dojo/dom-class","dojo/request","dojo/topic","mui/util","mui/dialog/Tip","mui/iconUtils","sys/xform/mobile/controls/fSelect/FSelectAllCheckBox","mui/i18n/_i18n!sys/xform/mobile/mui-xform"],function(h,g,m,n,f,c,k,o,e,j,i,q,b,l,a){var p=h("sys.xform.mobile.controls.fSelect.FSelectSelection",[g],{baseClass:"muiFSelectSec",key:null,isMul:false,count:0,CHECKED_EVENT:"/sys/xform/fSelect/checked",UNCHECKED_EVENT:"/sys/xform/fSelect/unchecked",SUBMIT_EVENT:"/sys/xform/fSelect/submit",buildRendering:function(){this.inherited(arguments);this.containerNode=c.create("div",{className:"muiFSelectContainer"},this.domNode);this.leftArea=c.create("div",{className:"muiFSelectSecLeft"},this.containerNode);var r=this._createSelectAllCheckBox();this.selectAllCheckboxArea=r.selectAllCheckboxArea;c.place(this.selectAllCheckboxArea,this.leftArea);this.rightArea=c.create("div",{className:"muiFSelectSecRight"},this.containerNode);this.buttonNode=c.create("span",{className:"muiFSelectSecBtn",innerHTML:a["mui.event.selection.ok"]},this.rightArea)},postCreate:function(){this.inherited(arguments);this.subscribe(this.CHECKED_EVENT,"_addSelItme");this.subscribe(this.UNCHECKED_EVENT,"_delSelItem");this.subHandle=this.connect(this.buttonNode,"click","_subSelItem")},_createSelectAllCheckBox:function(){var r=new l({key:this.key,isMul:this.isMul});r.startup();return r},_subSelItem:function(){j.publish(this.SUBMIT_EVENT,this)},_addSelItme:function(){var r=arguments[0];if(!r.isSelectAll){this.count=this.count+1;this._resizeSelection()}},_delSelItem:function(){if(this.count>0){this.count=this.count-1}this._resizeSelection()},_delCount:function(){if(this.count>0){this.count=0;this._resizeSelection()}},_resizeSelection:function(){this.buttonNode.innerHTML=a["mui.event.selection.ok"]+"("+this.count+")";this.buttonNode.className="muiFSelectSecBtn"}});return p})},"sys/xform/mobile/controls/ChinaValue":function(){define(["dojo/_base/declare","dojo/dom-construct","sys/xform/mobile/controls/xformUtil","mui/form/Input","dojo/query","dojo/dom-style","dojo/dom-class","dojo/dom-attr","dojo/NodeList-traverse"],function(c,a,b,e,i,f,j,h){var g=c("sys.xform.mobile.controls.ChinaValue",[e],{inputClass:"muiInput muiFormChina",_inDetailTable:null,opt:true,buildRendering:function(){this.inherited(arguments);j.add(this.domNode,"muiFormChinaValue")},postCreate:function(){this.inherited(arguments)},startup:function(){this.inherited(arguments);var k=[];if("true"==this.isrow&&this.relatedid!=null&&this.relatedid!=""&&this.relatedid.indexOf(".")>-1){k=i(this.domNode).parents(".detailTableNormalTd table tr");if(k.length==0){k=i(this.domNode).parents(".detailTableSimpleTd table tr")}}if(k.length>0){this.xformAreaNode=k[0]}else{this.xformAreaNode=document.forms[0]}if(/\.(\d+)\./g.test(this.name)){this._inDetailTable=true}else{this._inDetailTable=false}this.subscribe(this.EVENT_VALUE_CHANGED,"_upperValue");this._upper()},buildOptIcon:function(k){var l=a.create("i",{className:"mui mui-uper"},k);this.connect(l,"click","_toupper")},buildEdit:function(){this.buildReadOnly();f.set(this.inputNode,{display:"none"});this.textNode=a.create("div",{className:"muiInput_View"},this.domNode);var k=this.buildXFormStyle();if(k){h.set(this.textNode,"style",k)}},buildView:function(){this.inherited(arguments);this.inputNode=a.create("input",{name:this.name,className:this.inputClass,type:"hidden"},this.domNode)},viewValueSet:function(k){this.textNode.innerHTML=k;this.inputNode.value=k},_upperValue:function(k,m){if(this.relatedid!=null&&this.relatedid!=""){if(k&&this!=k){var l=k.get("name");if(l==null||l==""){return}var p=this.relatedid;var o;if(this._inDetailTable==true){o=this.name.match(/\.(\d+)\./g);o=o?o:[]}if(l.indexOf(".value(")>-1){if(/\.(\d+)\./g.test(l)){l=l.match(/\((\w+)\.(\d+)\.(\w+)/g)[0].replace("(","")}else{l=l.match(/\((\w+)/g)[0].replace("(","")}}else{return}if(l!=null&&l!=""){var n=l;if(this._inDetailTable==true){p=p.replace(".",o[0])}else{l=l.replace(/\.(\d+)\./g,".")}if(l==p){this._upper(n)}}}}},_toupper:function(k,l){this.inputNode.focus();this._upper()},_upper:function(m){if(this.relatedid!=null&&this.relatedid!=""){var n=b.getXformWidgetsBlur(this.xformAreaNode,this.relatedid,true);var p=this.relatedid;var o;if(this._inDetailTable==true){o=this.name.match(/\.(\d+)\./g);o=o?o:[]}if(this._inDetailTable==true){p=p.replace(".",o[0])}for(var l=0;l<n.length;l++){var k=b.parseName(n[l]);if(m&&k!=m){continue}if(!this._inDetailTable){k=k.replace(/\.(\d+)\./g,".")}if(k.indexOf(p)>-1){this._fillValue(n[l])}}}},_fillValue:function(m){var l=m.value;if(l==null){l=0}var k=l.toString().replace(/,/g,"");k.replace(/%/g,"");var n=this._parseChinaValue(k);this.inputNode.value=n;this.set("value",n)},editValueSet:function(k){this.textNode.innerHTML=k;this.inputNode.value=k},_parseChinaValue:function(w){var x="";if(!isNaN(w)){if(w>9999999999999||w<-9999999999999){x="超出大写可计算范围";return x}if(w<0){x="负";w=Math.abs(w)}var p=new String(Math.round(w*100));var n="零壹贰叁肆伍陆柒捌玖";var m=" 万仟佰拾亿仟佰拾万仟佰拾元角分";var u=p.length;var q;var o;var s=0;var l;if(p=="0"){x="零元整";return x}m=m.substr(m.length-u,u);for(var r=0;r<u;r++){l=parseInt(p.substr(r,1),10);if(r!=(u-3)&&r!=(u-7)&&r!=(u-11)&&r!=(u-15)){if(l==0){q="";o="";s=s+1}else{if(l!=0&&s!=0){q="零"+n.substr(l,1);o=m.substr(r,1);if(o=="角"){q=n.substr(l,1)}else{q="零"+n.substr(l,1)}s=0}else{q=n.substr(l,1);o=m.substr(r,1);s=0}}}else{if(l!=0&&s!=0){q="零"+n.substr(l,1);o=m.substr(r,1);s=0}else{if(l!=0&&s==0){q=n.substr(l,1);o=m.substr(r,1);s=0}else{if(l==0&&s>=3){q="";o="";s=s+1}else{q="";o=m.substr(r,1);s=s+1}}}if(r==(u-11)||r==(u-3)){o=m.substr(r,1)}}x=x+q+o}var k=0;if(u>2){k=parseInt(p.substr(u-2,1),10)}if(l==0&&k==0){x=x}var t=new String(w);if(t.indexOf(".")<0){x+="整"}else{var v=true;t=t.substr(t.indexOf(".")+1);for(var r=0;r<t.length;r++){if(parseInt(t[r])!==0){v=false;break}}if(v){x+="整"}}}return x}});return g})},"sys/xform/mobile/controls/mutiTab/MutiTab":function(){define(["dojo/_base/declare","mui/nav/StaticNavBar","sys/xform/mobile/controls/mutiTab/TabItem","dijit/registry","dojo/topic","dojo/query"],function(c,g,f,a,b,e){return c("sys.xform.mobile.controls.MutiTab",[g],{itemRenderer:f,postCreate:function(){this.subscribe("/mui/validate/afterValidate","_afterValidate")},_afterValidate:function(s,q){var k=this.memory;var n;for(var l=0;l<k.length;l++){var r=k[l];var t=e("[name='"+r.moveTo+"']",this.domNode.parentNode)[0];if(!t){continue}var p=a.byNode(t);if(!p){continue}var o=false;for(var h=0;h<q.length;h++){var m=p.getIndexOfChild(q[h]);if(m!=-1){o=true;break}}if(o){n=r.moveTo;break}}if(n){b.publish("/mui/navitem/selected",this,{key:n})}}})})},"sys/xform/mobile/controls/DateFormat":function(){define(["dojo/_base/declare","dojo/dom-construct","sys/xform/mobile/controls/xformUtil","mui/form/Input","dojo/query","dojo/dom-style","dojo/dom-class","dojo/date/locale"],function(c,a,b,e,h,f,i,j){var g=c("sys.xform.mobile.controls.DateFormat",[e],{inputClass:"muiInput muiFormDate",_inDetailTable:null,opt:true,buildRendering:function(){this.inherited(arguments);i.add(this.domNode,"muiFormDateFormat")},postCreate:function(){this.inherited(arguments)},buildOptIcon:function(k){var l=a.create("i",{className:"mui mui-format"},k);this.connect(l,"click","_toformat")},buildEdit:function(){this.buildReadOnly();f.set(this.inputNode,{display:"none"});this.textNode=a.create("div",{className:"muiInput_View"},this.domNode)},buildView:function(){this.inherited(arguments);this.inputNode=a.create("input",{name:this.name,className:this.inputClass,type:"hidden"},this.domNode)},viewValueSet:function(k){this.textNode.innerHTML=k;this.inputNode.value=k},startup:function(){this.inherited(arguments);var k=[];if("true"==this.isRow&&this.relatedid!=null&&this.relatedid!=""&&this.relatedid.indexOf(".")>-1){k=h(this.nodes).parents(".detailTableNormalId table tr");if(k.length==0){k=h(this.nodes).parents(".detailTableSimpleId table tr")}}if(k.length>0){this.xformAreaNode=k[0]}else{this.xformAreaNode=document.forms[0]}if(/\.(\d+)\./g.test(this.name)){this._inDetailTable=true}else{this._inDetailTable=false}this.subscribe(this.EVENT_VALUE_CHANGED,"dateFormat");this._format()},dateFormat:function(m,n){if(this.relatedid!=null&&this.relatedid!=""){if(m!=null&&this!=m){var l=m.get("name");if(l==null||l==""){return}var p=this.relatedid;var o;if(this._inDetailTable==true){o=this.name.match(/\.(\d+)\./g);o=o?o:[]}if(l.indexOf(".value(")>-1){if(/\.(\d+)\./g.test(l)){l=l.match(/\((\w+)\.(\d+)\.(\w+)/g)[0].replace("(","")}else{l=l.match(/\((\w+)/g)[0].replace("(","")}}else{return}if(l!=null&&l!=""){var k=l;if(this._inDetailTable==true){p=p.replace(".",o[0])}else{l=l.replace(/\.(\d+)\./g,".")}if(l==p){this._format(k)}}}}},_toformat:function(k,l){this.inputNode.focus();this._format()},_format:function(k){if(this.relatedid!=null&&this.relatedid!=""){var n=b.getXformWidgetsBlur(this.xformAreaNode,this.relatedid,true);var p=this.relatedid;var o;if(this._inDetailTable==true){o=this.name.match(/\.(\d+)\./g);o=o?o:[]}if(this._inDetailTable==true){p=p.replace(".",o[0])}for(var m=0;m<n.length;m++){var l=b.parseName(n[m]);if(k&&l!=k){continue}if(!this._inDetailTable){l=l.replace(/\.(\d+)\./g,".")}if(l.indexOf(p)>-1){this._fillValue(n[m])}}}},_fillValue:function(n){var l=n.value;var k=n.type;if(l==null){l=0}var m=this._parseDateValue(l,k,this.dateformattype);this.inputNode.value=m;this.set("value",m)},editValueSet:function(k){this.textNode.innerHTML=k;this.inputNode.value=k},splicValue:function(s,n){var l="";var r=(s.split("/")).length-1;if(r==1&&s.length==7){var k=s.split("/");var m=null;var q=null;for(var p=0;p<k.length;p++){if(k[p].length===4){m=k[p]}if(k[p].length===2){q=parseInt(k[p])-1}}var o=new Date();o.setFullYear(m,q,1);l=this.privateformat(o,Com_Parameter.Date_format)}else{l=s}return l},getDateFormatValue:function(l,n,k){var m="";var o=(l.split("/")).length-1;if(l.indexOf(":")>-1&&l.indexOf("/")==-1){return l}else{m=this.privateformat(new Date(n),k);if(o==1&&l.indexOf(":")==-1){if(k.indexOf("月")>-1){m=m.substring(0,8)}else{m=m.substring(0,7)}}return m}},privateformat:function(n,l){var p={"M+":n.getMonth()+1,"d+":n.getDate(),"H+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),S:n.getMilliseconds()};if(/(y+)/.test(l)){l=l.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length))}for(var m in p){if(new RegExp("("+m+")").test(l)){l=l.replace(RegExp.$1,(RegExp.$1.length==1)?(p[m]):(("00"+p[m]).substr((""+p[m]).length)))}}return l},_parseDateValue:function(o,n,k){var m="";if(o){try{o=o.replace(new RegExp("-","g"),"/");var p=this.splicValue(o,k);m=this.getDateFormatValue(o,p,k)}catch(l){console.log(l.message)}}return m}});return g})},"sys/xform/mobile/controls/fSelect/FSelectSearchBar":function(){define(["dojo/_base/declare","dijit/_Contained","dijit/_Container","dijit/_WidgetBase","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/topic","dojo/query","dojo/_base/lang","mui/util","mui/i18n/_i18n!sys/xform/mobile/mui-xform","mui/search/SearchBar","dojo/_base/array"],function(h,o,e,g,n,f,k,j,m,a,i,c,b,l){return h("sys.xform.mobile.controls.fSelect.FSelectSearchBar",[g,e,o],{jumpToSearchUrl:false,needPrompt:false,searchUrl:"",key:null,showLayer:false,emptySearch:true,children:[],data:[],postCreate:function(){this.children=[];this.inherited(arguments);this.subscribe("/mui/search/submit",a.hitch(this,"searchItem"));this.subscribe("/mui/search/cancel",a.hitch(this,"searchItem"))},initSearchBars:function(p,q){this.data=p;this.append(this.createSearchItem(""))},createSearchItem:function(p){var r=c["mui.fSelect.search.enter"];var q=new b({jumpToSearchUrl:this.jumpToSearchUrl,needPrompt:this.needPrompt,searchUrl:this.searchUrl,key:this.key,emptySearch:this.emptySearch,placeHolder:r,showLayer:this.showLayer,outerSearch:p});q.startup();this.searchBar=q;this.connect(this.searchBar.clearNode,"onclick","_onClear");this.children.push(q);return q},_onClear:function(){this.defer(function(){j.publish("/mui/search/cancel",this)},450)},append:function(p){f.place(p.containerNode,this.containerNode,"last")},searchItem:function(r,q){if(r.key&&r.key==this.key){var t=this.children;var p=[];for(var s=0;s<t.length;s++){var u=t[s];u.outerSearch={};u.outerSearch.value=u.searchNode.value;p.push(u.outerSearch)}this.paramsJSON=JSON.stringify(u.outerSearch);j.publish("/sys/xform/fSelect/search",this,{argu:this.paramsJSON})}}})})},"sys/xform/mobile/controls/detailsTable/sDetailsTableScript":function(){define(["dojo/parser","dojo/dom","dojo/dom-construct","dojo/dom-style","dojo/dom-attr","dojo/dom-class","dojo/query","dijit/registry","dojo/topic","dojo/on","mui/dialog/Tip","dojo/ready","mui/form/validate/Validation"],function(b,f,e,h,j,m,k,a,g,i,n,l,c){window._sDetailsTableScript={init:function(o,p,r,u){window.initShow=function(){if(dojoConfig.dingXForm&&dojoConfig.dingXForm==="true"){$(".close_details_div").css("display","block");$(".details_img").attr("src",Com_Parameter.ContextPath+"sys/xform/mobile/resource/img/closed2x.png")}else{$(".close_details_div").css("display","none")}};var v=window.location.search;var w="";if(v.indexOf("?")!=-1){var s=v.substr(1).split("&");for(var q=0;q<s.length;q++){var t=s[q].split("=");if(t[0]=="method"){w=t[1];break}}}if("edit"==w){initShow()}if("view"==w){$(".close_details_div").css("display","none")}if(window["_editShow_"+o]){window["detail_"+o+"_add"]=function(z){z=z||window.event;if(z.stopPropagation){z.stopPropagation()}else{z.cancelBubble=true}window["detail_"+o+"_addRow"]();var x=DocList_TableInfo[p];if(x&&x.lastIndex>5){initShow()}};window["detail_"+o+"_addRow"]=function(z){var x=DocList_AddRow(p);x.dojoClick=true;b.parse(x).then(function(){var A=DocList_TableInfo[p];if(A._getcols==null){A.fieldNames=[];A.fieldFormatNames=[];DocListFunc_AddReferFields(A,x,"INPUT");DocListFunc_AddReferFields(A,x,"TEXTAREA");DocListFunc_AddReferFields(A,x,"SELECT");A._getcols=1}window["detail_"+o+"_fixNo"]();g.publish("/mui/form/valueChanged",null,{row:x,tableId:o});window["detail_"+o+"_resize"](x);if(z){z(x)}})};window["detail_"+o+"_resize"]=function(A,z){var C;var B=A||z;if(B){for(var D=B.parentNode;D!=null;D=D.parentNode){if(m.contains(D,"detailTableContent")){break}if(m.contains(D,"mblScrollableView")){C=D;break}}if(C){var F=a.byNode(C);var x=F.containerNode.offsetHeight;var E=F.getParent();if(E&&E.resizeH){}}}};window["detail_"+o+"_del"]=function(x){var z=$(x).closest("tr")[0];window["detail_"+o+"_delRow"](z)};window["detail_"+o+"_delRow"]=function(B){$(B).find("*[widgetid]").each(function(E,F){var G=a.byNode(F);if(G&&G.destroy){G.destroy()}});var x=DocListFunc_GetParentByTagName("TABLE",B);var D=Com_ArrayGetIndex(x.rows,B);var A=DocList_TableInfo[x.id];DocList_DeleteRow_ClearLast(B);if(A&&A.lastIndex<=5){if(dojoConfig.dingXForm&&dojoConfig.dingXForm==="true"){$(".close_details_div").css("display","none")}}for(var z=D;z<A.lastIndex;z++){var C=A.DOMElement.rows[z];k("*[widgetid]",C).forEach(function(H){var J=a.byNode(H);if(J.needToUpdateAttInDetail){var K=J.needToUpdateAttInDetail;for(var F=0;F<K.length;F++){if(J[K[F]]){var I=k("[name='"+J[K[F]]+"']",C);if(I.length>0){I[0].name=window["detail_"+o+"_repalceIndexInfo"](I[0].name,z-A.firstIndex)}J[K[F]]=window["detail_"+o+"_repalceIndexInfo"](J[K[F]],z-A.firstIndex)}}}else{if(J.name){var G=k("[name='"+J.name+"']",C);if(G.length>0){G[0].name=window["detail_"+o+"_repalceIndexInfo"](G[0].name,z-A.firstIndex)}J.name=window["detail_"+o+"_repalceIndexInfo"](J.name,z-A.firstIndex)}else{if(J.idField){var E=k("[name='"+J.idField+"']",C);if(E.length>0){E[0].name=window["detail_"+o+"_repalceIndexInfo"](E[0].name,z-A.firstIndex)}var L=k("[name='"+J.nameField+"']",C);if(L.length>0){L[0].name=window["detail_"+o+"_repalceIndexInfo"](L[0].name,z-A.firstIndex)}J.idField=window["detail_"+o+"_repalceIndexInfo"](J.idField,z-A.firstIndex);J.nameField=window["detail_"+o+"_repalceIndexInfo"](J.nameField,z-A.firstIndex)}}}})}window["detail_"+o+"_fixNo"]();g.publish("/mui/form/valueChanged",null,{tableId:o,eventType:"detailsTable-delRow"});window["detail_"+o+"_resize"](B,x)};window["detail_"+o+"_repalceIndexInfo"]=function(z,x){z=z.replace(/\[\d+\]/g,"[!{index}]");z=z.replace(/\.\d+\./g,".!{index}.");z=z.replace(/!\{index\}/g,x);return z};window["detail_"+o+"_fixNo"]=function(){$("#"+p).find(".muiDetailTableNo").each(function(x){$(this).children("span").text("<bean:message  bundle='sys-xform-base' key='Designer_Lang.controlDetailsTable_the'/> "+(x+1)+" <bean:message  bundle='sys-xform-base' key='Designer_Lang.controlDetailsTable_item'/>")})};window["_sys_xfrom_detailsTable_requiredInit_"+o]=function(x){var C="required";var G=x+"_position";var B=Data_GetResourceString("sys-xform:sysForm.detailsTable.tipMessage");var A="<input id='"+G+"' type='text' style='display:table-cell;width:0px;height:1px;border:0px;' subject='"+B+"' validate='"+C+"'/>";var D=document.getElementById(x);$(D).after(A);DocList_Xform_DetailsTable_SetInputValue($("#"+G),x);var E;if(G==null||c==null){return}if(x==null){E="table[showStatisticRow]"}else{E="#"+x}var F=$("#"+G);var z=new c();$(document).on("table-delete-new table-add-new",E,function(I,H){if(H&&H.table){DocList_Xform_DetailsTable_SetInputValue(F,H.table.id);z.validateElement(F[0])}})}}g.subscribe("parser/done",function(){var C=0;window.close_details_fun=function(D){if(dojoConfig.dingXForm&&dojoConfig.dingXForm==="true"){var F=$(D).find("#details_span");var E=F[0].innerHTML;if("收起"==E){$(D).find("#details_img").attr("src",Com_Parameter.ContextPath+"sys/xform/mobile/resource/img/open2x.png");F[0].innerHTML="展开";open_details_fun("closed",D)}else{$(D).find("#details_img").attr("src",Com_Parameter.ContextPath+"sys/xform/mobile/resource/img/closed2x.png");F[0].innerHTML="收起";open_details_fun("open",D)}}};window.open_details_fun=function(D,E){var F=$(E).parent().closest("tr").find(".detailTrDing");if(F&&F.length>4){for(var G=0;G<F.length;G++){var H=$(F[G]).children("td").eq(C).children("span").text().trim();if(H&&H>4){if("closed"==D){if(H==5){$(F[G]).css({opacity:0.3})}else{$(F[G]).css("display","none")}}else{$(F[G]).css({opacity:1});$(F[G]).css("display","table-row")}}}}};if(DocList_TableInfo[o]==null){DocListFunc_Init()}if(window["_editShow_"+o]){C=1;if(window["_emptyFormData_"+o]){try{setTimeout(function(){for(var D=0;D<r;D++){window["detail_"+o+"_addRow"]()}},100)}catch(A){}}if(u==="true"){window["_sys_xfrom_detailsTable_requiredInit_"+o]("TABLE_DL_"+o)}}var z=k('[statistic-celltr-title="true"]');var B=k('[celltr-title="true"]');if(z&&z.length>0){z[0].dojoClick=true}if(B&&B.length>0){for(var x=0;x<B.length;x++){B[x].dojoClick=true}}if(dojoConfig.dingXForm&&dojoConfig.dingXForm==="true"){Com_IncludeFile("dingTop.css",Com_Parameter.ContextPath+"km/review/km_review_ui/dingSuit/css/","css",true)}})}}})},"sys/xform/mobile/controls/Validator":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-prop","sys/xform/mobile/controls/xformUtil","dijit/registry","mui/form/Input","dojo/query","dojo/dom","dojo/dom-class","dojo/dom-attr","mui/form/validate/Reminder","dojo/dom-style","mui/form/validate/Validation","mui/form/_ValidateMixin","dojo/topic","dojo/_base/lang","mui/i18n/_i18n!sys/xform/mobile/mui-xform","dojo/NodeList-traverse"],function(q,c,f,e,g,n,a,o,h,p,b,k,i,l,m,s,j){var r=q("sys.xform.mobile.controls.Validator",[n],{inputClass:"muiInput muiFormCalc",TipCache:[],validation:new i(),buildRendering:function(){this.inherited(arguments)},postCreate:function(){this.inherited(arguments)},startup:function(){this.inherited(arguments);this.domNode.setAttribute("validate","validatorControl_"+this.id);k.set(this.domNode,{display:"inline"});var u=[];if("true"==this.isrow){u=a(this.domNode).parents(".detailTableNormalTd table tr");if(u.length==0){u=a(this.domNode).parents(".detailTableSimpleTd table tr")}}if(u.length>0){this.xformAreaNode=u[0]}else{this.xformAreaNode=document}var t=Com_GetUrlParameter(window.top.location.href,"method");this.validation.addValidator("validatorControl_"+this.id,null,this.proxy());this.subscribe(this.EVENT_VALUE_CHANGED,s.hitch(this,this._calcValue))},proxy:function(){var t=this;return function(){return t._performTransition.call(t)}},buildEdit:function(){this.inherited(arguments)},buildHidden:function(){this.inherited(arguments)},buildView:function(){this.inherited(arguments)},_performTransition:function(){if(lbpm&&lbpm.globals.saveDraft){return true}var t=this._calc();var v=true;for(var u=0;u<t.length;u++){var w=t[u];if(w){var x=w.expression||{};if(!w.isPass&&x.expressionShow=="0"&&!w.isEmpty){v=false}if(w.isPass&&x.expressionShow=="1"&&!w.isEmpty){v=false}}}return v},_calcValue:function(t,v){var u=this._isValidate(t);if(this!=t&&u){this._calc()}h.add(this.domNode,"showTitle")},_isValidate:function(w){if(!w){return false}var u=e.parseXformName(w);if(!this.expression){return false}this.expression=this._htmlUnEscape(this.expression);var t=JSON.parse(this.expression||"");var z=false;var v;for(var x=0;x<t.length;x++){var A=t[x]||{};v=A.expressionId||"";if(u!=null&&u!=""&&(v.indexOf(u)>-1)){z=true;break}}return z},htmlEscape:function(t){if(t==null||t==" "){return""}t=t.replace(/&/g,"&#38;");t=t.replace(/\"/g,"&#34;");t=t.replace(/</g,"&#60;");return t.replace(/>/g,"&#62;")},_htmlUnEscape:function(t){if(t==null||t==" "){return""}t=t.replace(/&amp;/g,"&");t=t.replace(/&quot;/g,'"');t=t.replace(/&#39;/g,"'");t=t.replace(/&lt;/g,"<");return t.replace(/&gt;/g,">")},_calc:function(){var I=[];if("true"==this.validator){this.expression=this._htmlUnEscape(this.expression);if(this.expression==null||this.expression==""||this.expression=="undefined"){return true}var B=a("[widgetid]",this.xformAreaNode);var t=JSON.parse(this.expression||"");if(B.length>0){var E=null;for(var C=0;C<t.length;C++){var H=t[C].expressionId||"";E={};var K=false;var L=true;for(var N=0;N<B.length;N++){var F=g.byNode(B[N]);if((F.name)&&(F.name).indexOf("extendDataFormInfo.value")!=0){continue}var A=e.parseXformName(F);var w=A+"_text";if(A!=null&&A!=""&&(H.indexOf(A)>-1)){var x=false;L=false;if(F.textId){var D=F.textId.replace(/\.\d\./,".");if(H.indexOf(D)>-1){x=true}}if(A.indexOf(".")>-1&&"true"==this.isrow){if(this._getTableRr(this.domNode)==this._getTableRr(B[N])){var v=E[A];if(!v){v=[];E[A]=[]}var M=this._parserCalcValue(F,H);var z=this._parserCalcValue(F,H,true);if(M==="empty"){K=true;break}v.push(M);E[A]=v;v=[];v.push(z);E[w]=v}}else{if(E==null){E={}}var v=E[A];if(!v){v=[];E[A]=[]}var M=this._parserCalcValue(F,H);var z=this._parserCalcValue(F,H,true);if(M==="empty"){K=true;break}v.push(M);E[A]=v;v=[];v.push(z);E[w]=v}}}var G=(K||L)?true:this._fillValue(H,E);var J=this._getTip(H);var u={};if("isEmpty"===G){u.isEmpty=true;G=true}u.isPass=G;u.expressionId=H;if(K||u.isEmpty){u.isEmpty=true;I.push({isPass:G,expression:t[C],isEmpty:true})}else{I.push({isPass:G,expression:t[C]})}this._showTip(u,this.domNode,J)}}}return I},_showTip:function(u,z,v){var x=this._findExpression(u.expressionId);if(x){var w=x.expressionShow==1;var t=this._findTipCache(x.expressionId,z);if(u.isEmpty){if(t&&t.isShow){this._isShowAdvice(false,t.advice);t.isShow=false}return}if(t){if(x.expressionShow==1){if(u.isPass){if(!t.isShow){this._isShowAdvice(true,t.advice);t.isShow=true}}if(!u.isPass){if(t.isShow){this._isShowAdvice(false,t.advice);t.isShow=false}}}else{if(!u.isPass){if(!t.isShow){this._isShowAdvice(true,t.advice);t.isShow=true}}if(u.isPass){if(t.isShow){this._isShowAdvice(false,t.advice);t.isShow=false}}}}else{if(x.expressionShow==1&&u.isPass){this._initTipElement(x.expressionId,z,v)}else{if(x.expressionShow==0&&!u.isPass){this._initTipElement(x.expressionId,z,v)}}}}},_findExpression:function(x){var v=JSON.parse(this.expression||"");var w;var t;for(var u=0;u<v.length;u++){w=v[u];t=w.expressionId||"";if(t.replace(/\s/g,"")===x.replace(/\s/g,"")){return w}}},_isShowAdvice:function(t,u){if(t){k.set(u,{display:"block"})}else{k.set(u,{display:"none"})}},_findTipCache:function(v,u){for(var t=0;t<this.TipCache.length;t++){if(this.TipCache[t]&&v==this.TipCache[t].expressionId&&u==this.TipCache[t].executeDom){return this.TipCache[t]}}return null},_initTipElement:function(v,A,x){var w=this.htmlEscape(x);var t=new b(A.parentNode,w);p.remove(A.parentNode,this.validation.serialAttrName);this.validation._serializeElement(A.parentNode||A);var z=p.get(A.parentNode,this.validation.serialAttrName);t.show=this._validaorReminderShow;t._buildRenderDom=this._buildRenderDom;t.show(z);var u=t.renderDom;this.TipCache.push({expressionId:v,executeDom:A,advice:u,isShow:true})},_buildRenderDom:function(u){this.renderDom=c.place("<div></div>",this.element,"last");h.add(this.renderDom,"muiValidate");p.set(this.renderDom,"id",u);this.contentDom=c.create("div",{className:"muiValidateContent"},this.renderDom);c.create("div",{className:"muiValidateShape"},this.contentDom);var t=c.create("div",{className:"muiValidateInfo"},this.contentDom);c.create("span",{className:"muiValidateIcon"},t);c.create("span",{className:"muiValidateMsg",innerHTML:this._resolverError()},t)},_validaorReminderShow:function(t){this._buildRenderDom(t);k.set(this.renderDom,{display:"block"})},_getTip:function(w){if(!w){return j["mui.validator.checkFailMsg"]}var v=JSON.parse(this.expression||"");for(var u=0;u<v.length;u++){var t=v[u].expressionId;if(t.replace(/\s/g,"")===w.replace(/\s/g,"")){return v[u].message||j["mui.validator.checkFailMsg"]}}return j["mui.validator.checkFailMsg"]},_isDetailTableRr:function(u){if(u.tagName=="TR"&&"true"!=u.getAttribute("data-celltr")){for(var t=u.parentNode;t!=null;t=t.parentNode){if(t.tagName=="TABLE"){return(/^TABLE_DL_/.test(t.id))}}return true}return false},_getTableRr:function(u){for(var t=u.parentNode;t!=null;t=t.parentNode){if(this._isDetailTableRr(t)){return t}}return null},_fillValue:function(t,x){if(x==null||x=={}){return}var w=t;var z=new RegExp();for(var v in x){var u="";u=x[v].join(" + ");z.compile("\\$"+v+"\\$","gi");w=w.replace(z,u)}w=w.replace(".name","");if(w.indexOf("$")>-1){return"isEmpty"}var A=false;try{A=new Function("return ("+w+");").apply(this);return A}catch(B){A=false;return A}},_parserCalcValue:function(z,C,B){var A="empty";if(z.declaredClass=="mui.form.Address"||z.declaredClass=="sys.xform.mobile.controls.NewAddress"){if(!(z.get("validate")&&z.get("validate").indexOf("required")>-1)&&z.curIds==""){return A}var v=e.parseXformName(z);if(C&&C.indexOf("$"+v+"$.name")>-1){return"'"+z.curNames+"'"}return"'"+z.curIds+"'"}var u=this._getDataTypeObj(z);var E=u.dataType||"String";E=E.replace("[]","");E=E.toLocaleLowerCase();var M=z.get("value");if(!(z.get("validate")&&z.get("validate").indexOf("required")>-1)&&(M==""||M==null)){return A}M=""+M;var x=(E=="datetime"||E=="time")&&/(\d:)/g.test(M);var J=/^\d{4}-\d{2}-\d{2}/.test(M);var I=/^\d{2}\/\d{2}\/\d{4}/.test(M);var G=/^\d{4}-\d{2}/.test(M);var F=/^\d{2}\/\d{4}/.test(M);var K,D;if(x&&(J||I)){var L=M.split(/ +/);K=this._parseDate(L[0],J);D=this._parseTime(L[1]);return(new Date(K[0],parseFloat(K[1])-1,K[2],D[0],D[1],[2])).getTime()}if(x){D=this._parseTime(M);var w=0;for(var H=0;H<D.length;H++){w+=parseFloat(D[H]*Math.pow(60,D.length-H))}w=w*1000;return w}if((J||I)){K=this._parseDate(M,J);return(new Date(K[0],parseFloat(K[1])-1,K[2])).getTime()}if(G||F){if(G&&M.split("-").length==2){return(new Date(M)).getTime()}else{if(F&&M.split("/").length==2){let K=M.split("/");return(new Date(K[1],K[0])).getTime()}}}M=M.replace(/\,/g,"");if(u&&u.dataType&&u.dataType.toLocaleLowerCase()==="string"){if(B){M=z.get("text")}M=M||"";M=M.replace(/'/g,"&#39;");M=M.replace(/\n/g,"");M=M.replace("<br/>","");M="'"+M+"'"}else{M=parseFloat(M)}return M},_parseDate:function(u,t){var w;if(t){return u.split("-")}else{w=[];var v=u.split("/");w[0]=v[2];w[1]=v[0];w[2]=v[1]}return w},_parseTime:function(t){return t.split(":")},_getDataTypeObj:function(w){var v=this._getControlTypeByObj(w);var t="string";var x="";if(v&&v.controlType==="inputText"){var u=w.get("datatype");if(u==="number"){t="number"}else{if(w.get("validate")&&w.get("validate").indexOf("number")>-1){t="number"}}x="inputText"}if(v){if(v.controlType==="datetime"){t="datetime";x="datetime"}if(v.controlType==="calculation"){t="number";x="calculation"}if(v.controlType==="address"||v.controlType==="new_address"){t="string";x="address"}if(v.controlType==="inputRadio"){t=w.get("datatype");x="inputRadio"}if(v.controlType==="select"){t=w.get("datatype");x="select"}}return{dataType:t,controlType:x}},_getControlTypeByObj:function(w){if(w==null){return""}var u=w.get("name");var v=w.domNode;var t=o.byId("_xform_"+u);var x=t.getAttribute("_xform_type");return{controlType:x,dom:v}},_default_value:function(u,t){if(u==null||isNaN(u)){return t}return u},_preDealExpression:function(){var t=c.create("div",{innerHTML:this.expression});this.expression=f.get(t,"textContent")}});return r})},"sys/xform/mobile/controls/CirculationOpinionShow":function(){define(["dojo/_base/declare","dojo/dom-construct","sys/xform/mobile/controls/xformUtil","dojo/query","mui/form/_FormBase"],function(e,a,c,f,g){var b=e("sys.xform.mobile.controls.CirculationOpinionShow",[g],{buildRendering:function(){this.auditShow=f(".muiFormEleAuditShowWrap",this.domNode);if(this.auditShow.length>0){for(var h=0;h<this.auditShow.length;h++){this.auditShow[h].style.textAlign="left"}}this.inherited(arguments);if(this.newMui){a.place(this.tipNode,this.domNode,"first")}a.destroy(this.rightIcon)}});return b})},"sys/xform/mobile/controls/RelationRadio":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/ready","dojo/dom-construct","dojo/dom-prop","dojo/dom-style","sys/xform/mobile/controls/xformUtil","dijit/registry","dojo/request","mui/util","mui/dialog/Tip","dojo/query","dojo/topic","mui/form/RadioGroup","sys/xform/mobile/controls/RelationCommonBase"],function(i,n,p,e,b,l,h,a,g,k,q,o,j,f,c){var m=i("sys.xform.mobile.controls.RelationRadio",[f,c],{defvalue:null,_buildValue:function(){this.inherited(arguments);var s="build"+k.capitalize(this.showStatus);this[s]?this[s]():"";var r=this.showStatus+"ValueSet";this.showStatusSet=this[r]?this[r]:new Function()},buildRendering:function(){this.inherited(arguments);this._buildValue()},buildEdit:function(){this.hiddenTextNode=e.create("input",{type:"hidden",name:this.textName},this.domNode)},buildReadOnly:function(){this.inherited(arguments);this.hiddenTextNode=e.create("input",{type:"hidden",name:this.textName},this.domNode)},buildHidden:function(){this.inherited(arguments);this.hiddenTextNode=e.create("input",{type:"hidden",name:this.textName},this.domNode)},buildView:function(){if(this.valueNode){e.destroy(this.valueNode)}this.valueNode=e.create("div",{className:"muiRadioWrap_View "},this.domNode)},postCreate:function(){this.inherited(arguments);if(this.edit){this.subscribe("/mui/form/valueChanged","_execChange")}},startup:function(){this.inherited(arguments);if(this.edit){this.queryData(true)}if(this.showStatus=="view"){if(this.value&&this.value!=""){if(!(this.text&&this.text!="")){this.queryData(true)}}}},addItems:function(r,v,x){var t=[];if(r!=null&&v!=null){var w="";x=x?x:false;var u=true;for(var s=0;s<r.length;s++){if(x&&u&&this.value==r[s]){w=r[s];t.push({text:v[s],value:r[s],checked:true});u=false}else{t.push({text:v[s],value:r[s],checked:false})}}this.set("values",t);this.set("value",w)}e.empty(this.valueNode);this.generateList(this.values);this._working=false;j.publish("/mui/list/resize",this)},_execChange:function(r,s){this.listenInputWgt(r,s,this.bindDom)},_setValueAttr:function(t){var u="";var s=false;for(var r=0;r<this.values.length;r++){if(t==this.values[r].value){u=this.values[r].text;s=true;break}}if(!s){t=""}this.text=u;this.inherited(arguments);this.showStatusSet(t)},viewValueSet:function(r){if(r!=null&&r!=""){this.set("text",this.getTextByValue(r));this.valueNode.innerHTML=this.text}},editValueSet:function(r){this.inherited(arguments);this.hiddenNode.value=r;this.hiddenTextNode.value=this.text},getTextByValue:function(s){var t="";if(s==undefined){return t}for(var r=0;r<this.values.length;r++){if(s==this.values[r].value){t+=this.values[r].text;break}}return t}});return m})},"sys/xform/mobile/controls/newAddress/address_common":function(){define(["mui/util","mui/createUtils","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(a,b,i){var g=b.createTemplate;function f(k){var j=[];if(k.className){j=j.concat(k.className)}var h={key:"{categroy.key}",height:"3rem",channel:k.channel,visible:k.visible?true:false};if(k.titleNode){h.titleNode=k.titleNode}if(k.detailUrl){h.detailUrl=k.detailUrl}return g("div",{dojoType:"mui/address/AddressCategoryPath",dojoMixins:k.mixins||[],dojoProps:h})}function e(k){var h=["mui/address/AddressItemListMixin"];if(k.mixins){h=h.concat(k.mixins)}h=h.join(",");var j='<ul data-dojo-type="mui/address/AddressList" data-dojo-mixins="'+h+"\" data-dojo-props=\"dataUrl:'{categroy.dataUrl}',deptLimit:'{categroy.deptLimit}',beforeSelectCateHistoryId: '{categroy.beforeSelectCateHistoryId}',isMul:{categroy.isMul},key:'{categroy.key}',channel:'"+k.channel+"',curIds:'{categroy.curIds}',curNames:'{categroy.curNames}',selType:{categroy.type},exceptValue:'{categroy.exceptValue}',scope:'{categroy.scope}'\"></ul>";return j}function c(n){var m=n.mul;var l=g("div",{className:"muiCateSearchArea muiAddressSearchArea"},g("div",{id:"_address_search_{categroy.key}",dojoType:"mui/address/AddressSearchBar",dojoProps:{key:"{categroy.key}",searchUrl:"{categroy.searchUrl}",orgType:"$${categroy.type}$$",exceptValue:"{categroy.exceptValue}",height:"4rem"}}));var k=l;var j=g("div",{dojoType:"dojox/mobile/ScrollableView",dojoMixins:["mui/address/AddressViewScrollResizeMixin","mui/category/AppBarsMixin"],dojoProps:{key:"{categroy.key}",channel:"all",scrollBar:false,threshold:100}},[e({key:"{categroy.key}",channel:"all"})]);var h=g("div",{id:"allCateView_{categroy.key}",dojoType:"dojox/mobile/View"},[f({key:"{categroy.key}",channel:"all",height:"3rem",titleNode:i["mui.mobile.address.allCate"],visible:false,mixins:"mui/address/AddressOrgCategoryPathMixin"}),j]);k+=g("div",{id:"defaultView_{categroy.key}",dojoType:"dojox/mobile/View"},[h]);k+=g("div",{id:"searchView_{categroy.key}",className:"muiAddressView",dojoType:"dojox/mobile/ScrollableView",dojoMixins:"mui/address/AddressViewScrollResizeMixin",dojoProps:{key:"{categroy.key}",channel:"search",scrollBar:false,threshold:100}},["<ul data-dojo-type=\"mui/address/AddressList\" data-dojo-mixins=\"mui/address/AddressItemListMixin,mui/address/AddressSearchListMixin\" data-dojo-props=\"searchUrl:'{categroy.searchUrl}',dataUrl:'{categroy.dataUrl}',history:true,deptLimit:'{categroy.deptLimit}',beforeSelectCateHistoryId: '{categroy.beforeSelectCateHistoryId}',isMul:{categroy.isMul},key:'{categroy.key}',channel:'search',curIds:'{categroy.curIds}',curNames:'{categroy.curNames}',selType:{categroy.type},orgType:{categroy.type},exceptValue:'{categroy.exceptValue}',scope:'{categroy.scope}'\"></ul>"]);if(m){k+=g("div",{dojoType:"mui/address/AddressSelection",dojoProps:{key:"{categroy.key}",beforeSelectCateHistoryId:"{categroy.beforeSelectCateHistoryId}",curIds:"{categroy.curIds}",curNames:"{categroy.curNames}",fixed:"bottom"}})}return k}return{html:c}})},"sys/xform/mobile/controls/mutiTab/TabItem":function(){define(["dojo/_base/declare","mui/nav/NavItem","dojo/query","dijit/registry","dojo/dom-class"],function(c,a,f,b,e){return c("sys.xform.mobile.controls.MutiTab.TabItem",[a],{onItemSelected:function(j,h){if(!j||typeof this.key=="undefined"||typeof h=="undefined"||typeof h.key=="undefined"||this.key!=h.key){return}var g=false;var l=j.getChildren();for(var k=0;k<l.length;k++){if(l[k].id!=this.id){continue}g=true;break}if(!g){return}this._onClick({target:this.domNode})},_onClick:function(j){if(j){var i=j.target;this.beingSelected(i)}var g=this.moveTo;var h=this.mutiTabId;var k=b.getEnclosingWidget(this.domNode.parentNode);if(!h&&k){h=k.id}if(h&&k){f("[mutiTabId='"+h+"']",k.domNode.parentNode).forEach(function(m,l){e.replace(m,"muiFormTabViewNone","muiFormTabViewBlock")});f("[name='"+g+"']",k.domNode.parentNode).forEach(function(m,l){e.replace(m,"muiFormTabViewBlock","muiFormTabViewNone")})}}})})},"sys/xform/mobile/controls/relevance/RelevanceNextPageViewMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/topic","dojo/dom-construct","dojo/query","dojox/mobile/viewRegistry","dojo/when","dojo/dom-style","dojo/_base/array","dojo/dom","dojox/mobile/_css3","mui/i18n/_i18n!sys/xform/mobile/mui-xform"],function(e,a,f,l,j,k,i,g,h,c,m,b){return e("sys.xform.mobile.controls.relevance.RelevanceNextPageViewMixin",null,{push:false,_pushItem:null,_pushDom:null,_createPushDom:function(){if(!this._pushDom){this._pushDom=l.toDom('<div style="width:100%;text-align:center;"><span><i class="mui mui-loading mui-spin"></i>'+b["mui.event.nextPage.loadMore"]+"</span></div>");l.place(this._pushDom,this.containerNode,"last")}},_setPushAttr:function(n){this._set("push",n);if(!n){g.set(this._pushDom,{display:"none"})}else{g.set(this._pushDom,{display:"table"})}},pushDone:function(){this.set("push",false)},_buildPushHandle:function(){var n=this;return{work:function(){},done:function(){n.pushDone()},error:function(){n.pushDone()}}},onAfterScroll:function(n){if(n.afterBottom&&!this.push){this.set("push",true);var o=this._buildPushHandle();f.publish("/mui/list/onPush",this,o)}return this.inherited(arguments)},adjustDestination:function(r,q,p){var n=this._pushDom.offsetHeight;if(r.y+p.o.h<n&&!this.push){this.set("push",true);var o=this._buildPushHandle();f.publish("/mui/list/onPush",this,o)}return this.inherited(arguments)},startup:function(){if(this._started){return}this.inherited(arguments);this._createPushDom();this.set("push",false);this.subscribe("/sys/xform/relevance/toTop","handleToTopTopic")},handleToTopTopic:function(n){if(n.key==this.key){var o=j(".mblScrollableViewContainer",this.domNode)[0];if(!n.listDatas||n.listDatas.length>0){g.set(o,m.name("transform"),"translate3d(0, 0, 0)")}else{}}}})})},"sys/xform/mobile/controls/fSelect/FSelectAllCheckBox":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dojo/dom-attr","dojo/dom-style","dijit/_WidgetBase","dojo/topic","dojo/query","dijit/registry","mui/i18n/_i18n!sys/xform/mobile/mui-xform"],function(j,g,b,m,e,l,i,f,h,k,a,c){return g("sys.xform.mobile.controls.event.EventDataSelectAllCheckBox",[f],{key:null,isMul:false,selected:false,isSelectAll:true,buildRendering:function(){this.inherited(arguments);this.selectAllCheckboxArea=e.create("div",{className:"muiFSelectSelectAllCheckboxArea"},this.domNode);this.selectAllCheckbox=e.create("div",{className:"muiFSelectSelectAllCheckbox"},this.selectAllCheckboxArea);this.selectAll=e.create("span",{innerHTML:c["mui.event.selectAll"],className:"muiFSelectAllText"},this.selectAllCheckboxArea)},postCreate:function(){this.inherited(arguments);this.subscribe("/sys/xform/fSelect/checked","_checked");this.subscribe("/sys/xform/fSelect/unchecked","unchecked");this.subscribe("/sys/xform/fSelect/searchData","unchecked");this.subscribe("/sys/xform/fSelect/unSelectAll","unchecked");this.connect(this.selectAllCheckboxArea,"click",function(n){var o=new Date().getTime();if(this._lastClickTime){if((o-this._lastClickTime)<500){return}this._lastClickTime=o}this._lastClickTime=o;this.defer(function(p){this._select(p)},350)})},startup:function(){this.inherited(arguments)},_checked:function(o){var r=o.getParent();if(r==null){return}var n=true;if(o.key==this.key&&o!=this){var q=r.get("domNode")||{};var s=q.children||[];for(var p=0;p<s.length;p++){var t=a.byNode(s[p]);if(t&&t.get("selected")===false){n=false;break}}if(n&&!this.selected){this.selected=!this.selected;e.create("i",{className:"fontmuis muis-form-selected-cor"},this.selectAllCheckbox);m.add(this.selectAllCheckbox,"selected")}}},unchecked:function(n){if(n.key==this.key&&this.selected){this.selected=!this.selected;e.empty(this.selectAllCheckbox);m.remove(this.selectAllCheckbox,"selected")}},_select:function(n){if(n){if(n.stopPropagation){n.stopPropagation()}if(n.cancelBubble){n.cancelBubble=true}if(n.preventDefault){n.preventDefault()}if(n.returnValue){n.returnValue=false}}this.selected=!this.selected;if(this.selected){e.create("i",{className:"fontmuis muis-form-selected-cor"},this.selectAllCheckbox);m.add(this.selectAllCheckbox,"selected")}else{e.empty(this.selectAllCheckbox);m.remove(this.selectAllCheckbox,"selected")}h.publish("/sys/xform/fSelect/selectAll",this)}})})},"sys/xform/mobile/controls/detailsTable/sDetailsTableAutoAdaptionScript":function(){define(["dojo/parser","dojo/dom","dojo/dom-construct","dijit/registry","dojo/topic","mui/device/adapter","dojo/ready","mui/form/validate/Validation","dojo/query","dojo/dom-class","dojo/dom-style","sys/xform/mobile/controls/xformUtil","dojo/_base/array","mui/form/_FormBase","mui/dialog/Confirm","dojo/_base/lang","mui/history/listener"],function(b,i,g,a,j,r,q,e,n,p,k,h,l,m,o,c,f){window._sDetailsTableAutoAdaptionScript={init:function(u,v,w,x,t){if(window["_isSingleRowMode_"+u]){j.subscribe("mui/switch/statChanged",function(z){window["autoAdpation_"+u+"_action"](z)})}window["autoAdpation_"+u+"_action"]=function(N){var K="detailsTableAutoAdaption_"+v;if(N.id==K){var B=N.value;var L=i.byId("_"+v);var z=n("[widgetid]",L);var J=$(L).closest(".mblScrollableView");var D;if(J&&J[0]){D=a.byNode(J[0])}var G=n("label",L);var H=n("td",L);var F="muiDetailTableAutoAdaption";for(var E=0;E<G.length;E++){if(B==="on"){p.add(G[E],F)}if(B==="off"){p.remove(G[E],F)}}for(var E=0;E<H.length;E++){if(B==="on"){p.add(H[E],F)}if(B==="off"){p.remove(H[E],F)}}var I=n(".muiDetailTableDel",L);for(var E=0;E<I.length;E++){if(B==="on"){p.add(I[E],F)}if(B==="off"){p.remove(I[E],F)}}var A=n(".muiDetailTableDel i",L);for(var E=0;E<A.length;E++){if(B==="on"){p.add(A[E],F)}if(B==="off"){p.remove(A[E],F)}}if(B==="on"){D.disableTouchScroll=true;var C=D.containerNode.offsetHeight;var M=D.getParent();if(M&&M.resizeH){}}if(B==="off"){D.disableTouchScroll=false;D.scrollDir="h";D._v=(D.scrollDir.indexOf("v")!=-1);D._h=(D.scrollDir.indexOf("h")!=-1);var C=D.containerNode.offsetHeight;var M=D.getParent();if(M&&M.resizeH){}}j.publish("/mui/form/detailTableAutoAdaption",N);j.publish("/mui/list/resize",D)}};var s=null;window["detail_"+u+"_show"]=function(D,E,I){var z=c.hitch(this,function(){var L=function(M,N){if(M){window["detail_"+u+"_hide"]()}else{window["detail_"+u+"_cancel"]()}};o("","是否保存此次编辑？",L)});var K=f.push({backCallback:z});window.beforeSelectCateHistoryId=K.previousId;var J=i.byId("dt_wrap_"+u+"_view");var G=a.byNode(J);if(s==null){s=a.byId(t)}if(s.isdbClick&&s.isdbClick()){return}else{s.lastTime=new Date().getTime()}s.set("validateNext",false);var H=i.byId(v);var C=i.byId("_"+v);var B=window["detail_"+u+"_getRowIndex"](I,C);n("tr[class='contentRow']",H).forEach(function(M,L){if(B===L){k.set(M,"display","")}else{k.set(M,"display","none")}});if(s.domNode.parentNode==J.parentNode){var A=s.performTransition("dt_wrap_"+u+"_view",1,"slide");if(A){J.style.display="block"}var F=a.byId("dt_wrap_"+u+"_hview");k.set(F.containerNode,"width","100%");setTimeout(function(){F.resize();G.resize();var L=n(".addBottomTip",J);if(L.length>0){L[0].style.display="none"}},500)}};window["detail_"+u+"_getRowIndex"]=function(A,D){if(!A){return null}var z=0;var E=n(A).closest("tr[class='contentRow']");var B=n("tr[class='contentRow']",D);for(var C=0;C<B.length;C++){if(E[0]&&(E[0]===B[C])){z=C;break}}return z};window["detail_"+u+"_parseTable"]=function(){var z=i.byId("dt_wrap_"+u+"_view");if(s==null){s=a.byId(t)}if(!s){setTimeout(function(){window["detail_"+u+"_parseTable"]()},100);return}if(s.domNode.parentNode!=z.parentNode){g.place(z,s.domNode.parentNode,"last");b.parse(z).then(function(){if(DocList_TableInfo[u]==null){DocListFunc_Init()}if(window["_editShow_"+u]){if(window["_emptyFormData_"+u]){try{for(var A=0;A<w;A++){window["detail_"+u+"_addEditRow"]()}}catch(B){}}}j.publish("/mui/form/rowValueChanged",null,{tableId:u});j.publish("/mui/datailTable/init",null,{tableId:u})})}};window["detail_"+u+"_back"]=function(){var A=a.byId("dt_wrap_"+u+"_view");A.set("validateNext",false);var z=A.performTransition(s.id,-1,"slide");s.set("validateNext",true);if(s.validate){s.validate()}if(A.oldGetValidateElements){A.getValidateElements=A.oldGetValidateElements}return z};window["detail_"+u+"_cancel"]=function(){k.set(s.domNode,"display","block");var z=i.byId("dt_wrap_"+u+"_view");k.set(z,"display","none");if(z.oldGetValidateElements){z.getValidateElements=z.oldGetValidateElements}if(window["_isSingleRowMode_"+u]){var A=a.byId("detailsTableAutoAdaption_"+v);if(A){if(A.value==="on"){}}}window["detail_"+u+"_resize"](null,i.byId("_TABLE_DL_"+u));if(s){s.set("validateNext",true)}if(window.beforeSelectCateHistoryId){f.goNoop({historyId:window.beforeSelectCateHistoryId});window.beforeSelectCateHistoryId=null}};window["detail_"+u+"_hide"]=function(){if(s.isdbClick&&s.isdbClick()){return}else{s.lastTime=new Date().getTime()}var z=a.byId("dt_wrap_"+u+"_view");z.oldGetValidateElements=z.getValidateElements;z.getValidateElements=function(){var B=[];if(z.domNode){var C;n("tr[class='contentRow']",z.domNode).forEach(function(E,D){if(k.get(E,"display")!=="none"){C=E;return false}});l.forEach(n("[widgetid]",C),function(E){var D=a.byNode(E);if((D instanceof m)&&D.edit==true){B.push(D)}});l.forEach(n("[validate]",C),function(D){B.push(D)})}return B};if(z.validate){if(z.validate()){k.set(s.domNode,"display","block");k.set(z.domNode,"display","none")}}else{r.goBack(true)}z.getValidateElements=z.oldGetValidateElements;if(window["_isSingleRowMode_"+u]){var A=a.byId("detailsTableAutoAdaption_"+v);if(A){j.publish("mui/standDetailTable/singleRowView",u);if(A.value==="on"){window["autoAdpation_"+u+"_action"](A)}}}window["detail_"+u+"_resize"](null,i.byId("_TABLE_DL_"+u));if(s){s.set("validateNext",true)}if(window.beforeSelectCateHistoryId){f.goNoop({historyId:window.beforeSelectCateHistoryId});window.beforeSelectCateHistoryId=null}};window["detail_"+u+"_resize"]=function(B,A){var D;var C=B||A;if(C){for(var E=C.parentNode;E!=null;E=E.parentNode){if(p.contains(E,"detailTableContent")){break}if(p.contains(E,"mblScrollableView")){D=E;break}}if(D){var G=a.byNode(D);var z=G.containerNode.offsetHeight;var F=G.getParent();if(F&&F.resizeH){}}}j.publish("/mui/list/resize",B)};if(window["_editShow_"+u]){window["detail_"+u+"_add"]=function(z){z=z||window.event;if(z.stopPropagation){z.stopPropagation()}else{z.cancelBubble=true}window["detail_"+u+"_addRow"]()};window["detail_"+u+"_addRow"]=function(A){window["detail_"+u+"_addEditRow"](A);window["detail_"+u+"_addViewRow"]();if(window["_isSingleRowMode_"+u]){var z=a.byId("detailsTableAutoAdaption_"+v);if(z){j.publish("mui/standDetailTable/singleRowView",u);if(z.value==="on"){window["autoAdpation_"+u+"_action"](z)}}}};window["detail_"+u+"_addEditRow"]=function(A){var z=DocList_AddRow(v);b.parse(z).then(function(){var C=DocList_TableInfo[v];if(C._getcols==null){C.fieldNames=[];C.fieldFormatNames=[];DocListFunc_AddReferFields(C,z,"INPUT");DocListFunc_AddReferFields(C,z,"TEXTAREA");DocListFunc_AddReferFields(C,z,"SELECT");C._getcols=1}window["detail_"+u+"_fixNo"]();var B=a.byId("dt_wrap_"+u+"_view");if(B.resize){B.resize()}j.publish("/mui/form/rowValueChanged",null,{row:z,tableId:u,eventType:"detailsTable-addRow"});if(A){A(z)}})};window["detail_"+u+"_addViewRow"]=function(A){var z=DocList_AddRow("_"+v);window["detail_"+u+"_resize"](z);z.onclick=function(C){var B=C.srcElement;window["detail_"+u+"_show"](null,null,B)}};window["detail_"+u+"_del"]=function(A){event=arguments.callee.caller.arguments[0];if(event.stopPropagation){event.stopPropagation()}if(event.cancelBubble){event.cancelBubble=true}if(event.preventDefault){event.preventDefault()}var z=i.byId("_"+v);var B=window["detail_"+u+"_getRowIndex"](A,z);window["detail_"+u+"_delViewRow"](A);window["detail_"+u+"_delEditRow"](B);j.publish("/mui/form/rowValueChanged",null,{tableId:u,eventType:"detailsTable-delRow"})};window["detail_"+u+"_delViewRow"]=function(A){var B=$(A).closest("tr")[0];var z=DocListFunc_GetParentByTagName("TABLE",B);window["_detail_"+u+"_delRow"](B);window["detail_"+u+"_resize"](B,z)};window["detail_"+u+"_delEditRow"]=function(B){var A=i.byId(v);var z=window["_detail_"+u+"_getContentRowByIndex"](B,A);if(z){window["_detail_"+u+"_delRow"](z)}};window["_detail_"+u+"_getContentRowByIndex"]=function(z,B){var A;n("tr[class='contentRow']",B).forEach(function(D,C){if(z===C){A=D;return false}});return A};window["detail_"+u+"_delRow"]=function(B){var A=i.byId(v);var z=i.byId("_"+v);var D=window["detail_"+u+"_getRowIndex"](B,A);var C=window["_detail_"+u+"_getContentRowByIndex"](D,z);window["detail_"+u+"_delViewRow"](C);window["detail_"+u+"_delEditRow"](D)};window["_detail_"+u+"_delRow"]=function(D){$(D).find("*[widgetid]").each(function(G,H){var I=a.byNode(H);if(I&&I.destroy){I.destroy()}});var z=DocListFunc_GetParentByTagName("TABLE",D);if(!z){return}var F=Com_ArrayGetIndex(z.rows,D);var C=DocList_TableInfo[z.id];DocList_DeleteRow_ClearLast(D);for(var B=F;B<C.lastIndex;B++){var E=C.DOMElement.rows[B];n("*[widgetid]",E).forEach(function(J){var L=a.byNode(J);if(L.needToUpdateAttInDetail){var M=L.needToUpdateAttInDetail;for(var H=0;H<M.length;H++){if(L[M[H]]){var K=n("[name='"+L[M[H]]+"']",E);if(K.length>0){K[0].name=window["detail_"+u+"_repalceIndexInfo"](K[0].name,B-C.firstIndex)}L[M[H]]=window["detail_"+u+"_repalceIndexInfo"](L[M[H]],B-C.firstIndex)}}}else{if(L.name){var I=n("[name='"+L.name+"']",E);if(I.length>0){I[0].name=window["detail_"+u+"_repalceIndexInfo"](I[0].name,B-C.firstIndex)}L.name=window["detail_"+u+"_repalceIndexInfo"](L.name,B-C.firstIndex)}else{if(L.idField){var G=n("[name='"+L.idField+"']",E);if(G.length>0){G[0].name=window["detail_"+u+"_repalceIndexInfo"](G[0].name,B-C.firstIndex)}var N=n("[name='"+L.nameField+"']",E);if(N.length>0){N[0].name=window["detail_"+u+"_repalceIndexInfo"](N[0].name,B-C.firstIndex)}L.idField=window["detail_"+u+"_repalceIndexInfo"](L.idField,B-C.firstIndex);L.nameField=window["detail_"+u+"_repalceIndexInfo"](L.nameField,B-C.firstIndex)}}}})}window["detail_"+u+"_fixNo"]();var A=a.byId("dt_wrap_"+u+"_view");if(A&&A.resize){A.resize()}};window["detail_"+u+"_repalceIndexInfo"]=function(A,z){A=A.replace(/\[\d+\]/g,"[!{index}]");A=A.replace(/\.\d+\./g,".!{index}.");A=A.replace(/!\{index\}/g,z);return A};window["detail_"+u+"_fixNo"]=function(){$("#"+v).find(".muiDetailTableNo").each(function(z){$(this).children("span").text("<bean:message  bundle='sys-xform-base' key='Designer_Lang.controlDetailsTable_the'/> "+(z+1)+" <bean:message  bundle='sys-xform-base' key='Designer_Lang.controlDetailsTable_item'/>")})};window["_sys_xfrom_detailsTable_requiredInit_"+u]=function(z){var D="required";var H=z+"_position";var C=Data_GetResourceString("sys-xform:sysForm.detailsTable.tipMessage");var B="<input id='"+H+"' type='text' style='display:table-cell;width:0px;height:1px;border:0px;' subject='"+C+"' validate='"+D+"'/>";var E=document.getElementById(z);$(E).after(B);DocList_Xform_DetailsTable_SetInputValue($("#"+H),z);var F;if(H==null||e==null){return}if(z==null){F="table[showStatisticRow]"}else{F="#"+z}var G=$("#"+H);var A=new e();$(document).on('table-delete-new table-add-new table-add"',F,function(K,J){var I=J.table||document.getElementById("TABLE_DL_"+u);if(J&&I){DocList_Xform_DetailsTable_SetInputValue(G,I.id);A.validateElement(G[0])}})}}j.subscribe("parser/done",function(){if(DocList_TableInfo["_"+u]==null){DocListFunc_Init()}if(window["_editShow_"+u]){if(window["_emptyFormData_"+u]){try{for(var z=0;z<w;z++){window["detail_"+u+"_addViewRow"]()}}catch(D){}}if(x==="true"){window["_sys_xfrom_detailsTable_requiredInit_"+u]("_TABLE_DL_"+u)}}var B=n('[statistic-celltr-title="true"]');var E=n('[celltr-title="true"]');if(B&&B.length>0){B[0].dojoClick=true}if(E&&E.length>0){for(var z=0;z<E.length;z++){E[z].dojoClick=true}}window["detail_"+u+"_parseTable"]();if(window["_isSingleRowMode_"+u]){j.publish("mui/standDetailTable/singleRowView",u);var A=a.byId("detailsTableAutoAdaption_"+v);if(A){var C=n(".muiFormEleTitle",A.containerNode);if(C.length>0){p.add(C[0],"autoAdaptionSwitchTitle")}j.publish("mui/switch/statChanged",A,A._value)}j.subscribe("/mui/form/rowValueChanged",function(J,I){if(J){var H;var G=h.parseName(J);if(G&&/\.(\d+)\./g.test(G)){var F=G.indexOf(".");H=G.substring(0,F)}if(H===u){if(A){j.publish("mui/standDetailTable/singleRowView",u);if(A.value==="on"){window["autoAdpation_"+u+"_action"](A)}}}}})}})}}})},"sys/xform/mobile/controls/FormulaLoad":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-construct","dojo/query","dijit/registry","sys/xform/mobile/controls/xformUtil","dojo/request","dojo/parser","mui/util","dojo/topic","mui/form/_FormBase","dojo/ready","dojo/dom-attr","dojo/dom-class","mui/form/_AutoAdaptionMixin","dojo/touch","mui/i18n/_i18n!sys/xform/mobile/mui-xform"],function(r,b,h,g,k,j,e,c,a,o,f,m,q,l,p,i,n){var s=r("sys.xform.mobile.controls.FormulaLoad",[b,p],{inputClass:"muiInput",valueField:"",scrollDir:"h",optClass:"mui mui-insert mui-rotate-45",EVENT_VALUE_CHANGED:"/mui/form/valueChanged",isAutoLoad:function(){return this.loadType.indexOf("autoLoad")>-1},isManualLoad:function(){return this.loadType.indexOf("manualLoad")>-1},postCreate:function(){this.inherited(arguments)},radioGroupTmpl:"<div data-dojo-type=\"mui/form/RadioGroup\" data-dojo-props=\"name:'!{name}',subject:&quot;!{subject}&quot;,mul:'!{mul}',concentrate:'!{concentrate}',showStatus:'!{showStatus}',onValueChange:'!{onValueChange}',store:!{store},required:!{required},validate:'!{validate}',xformStyle:'!{xformStyle}'\" class=\"muiField\"></div>",checkboxGroupTmpl:"<div data-dojo-type=\"mui/form/CheckBoxGroup\" data-dojo-props=\"name:'!{name}',subject:&quot;!{subject}&quot;,mul:'!{mul}',concentrate:'!{concentrate}',showStatus:'!{showStatus}',onValueChange:'!{onValueChange}',store:!{store},required:!{required},validate:'!{validate}',xformStyle:'!{xformStyle}'\" class=\"muiField\"></div>",selectTmpl:"<div data-dojo-type=\"mui/form/Select\" data-dojo-props=\"name:'!{name}',subject:&quot;!{subject}&quot;,mul:!{mul},concentrate:'!{concentrate}',showStatus:'!{showStatus}',onValueChange:'!{onValueChange}',store:!{store},required:!{required},validate:'!{validate}',showPleaseSelect:true,xformStyle:'!{xformStyle}'\" class=\"muiField\"></div>",buildRendering:function(){this.inherited(arguments);l.add(this.domNode,"oldMui muiFormEleWrap");if(dojoConfig.newMui){if(this.showStatus=="view"){this.tipNode=h.create("div",{className:"muiFormEleTip"},this.domNode);if(this.subject){this.titleNode=h.create("span",{className:"muiFormEleTitle",innerHTML:a.formatText(this.subject)},this.tipNode)}}}l.add(this.domNode," showTitle");this._buildValue();if(this.showStatus=="edit"){if(this.returnType=="radio"){this.subscribe("mui/form/radio/change","addRadioValue")}if(this.returnType=="checkbox"){this.subscribe("mui/form/checkbox/valueChange","addCheckboxValue")}if(this.returnType=="select"){this.buildSelectOnInitialize();this.subscribe("mui/form/select/callback","addSelectValue")}if(this.isManualLoad()){this.subscribe("/mui/form/valueChanged","_manualLoad")}if(this.returnType=="text"){this.connect(this.domNode,i.press,function(u){if(u.stopPropagation){u.stopPropagation()}if(u.cancelBubble){u.cancelBubble=true}if(u.preventDefault){u.preventDefault()}if(u.returnValue){u.returnValue=false}})}var t=this;m(function(){t.defer(function(){t.autoLoad()},30)})}},_setValueAttr:function(v){this.inherited(arguments);var t=this.value||"";this._set("value",v);if(t!=v){if(this.onValueChange){var u=this.onValueChange+"(this.get('value'),this);";new Function(u).apply(this,[this])}o.publish(this.EVENT_VALUE_CHANGED,this,{oldValue:t,value:v})}if(this._started){if(this.validate!=""&&this.edit&&this.validateImmediate){if(this.validation){this.validation.validateElement(this)}}}},_buildValue:function(){this.inherited(arguments);var t="build"+a.capitalize(this.showStatus);this[t]?this[t]():""},buildEdit:function(){if(this.returnType=="text"){l.add(this.domNode," muiFormStatusEdit")}this.buildAdd()},buildAdd:function(){if(this.returnType=="text"){this.contentNode=h.create("input",{name:this.textName,className:this.inputClass},this.domNode);var t=this.buildXFormStyle();if(t){q.set(this.contentNode,"style",t)}q.set(this.contentNode,"subject",this.subject);q.set(this.contentNode,"readOnly","readOnly");if(this.required){q.set(this.contentNode,"required",true);q.set(this.contentNode,"validate","required");this.requiredNode=h.create("div",{className:"muiFieldRequired",innerHTML:"*"},this.domNode,"last")}this.valueNode=h.create("input",{name:this.name,type:"hidden"},this.domNode)}else{this.contentNode=h.create("input",{name:this.textName,type:"hidden"},this.domNode)}},buildView:function(){this.div=h.create("div",{name:this.name,className:"muiSelInput","data-id":this.value},this.domNode);var t=this.buildXFormStyle();if(t){q.set(this.div,"style",t)}this.div.innerText=this.text},startup:function(){this.inherited(arguments);var t=[];if(this.isRow){t=g(this.domNode).parents(".detailTableNormalTd table tr");if(t.length==0){t=g(this.domNode).parents(".detailTableSimpleTd table tr")}}if(t.length>0){this.xformAreaNode=t[0]}else{this.xformAreaNode=document.forms[0]}this.isInDetail=j.isInDetail(this)},_destroy:function(){var u=g("[widgetid]",this.xformAreaNode);for(var t=0;t<u.length;t++){var v=k.byNode(u[t]);if(v){if(v.get("name")==this.name&&v.get("formulaLoad")!="true"){v.destroy()}}}},_manualLoad:function(u,t){var w="";var v=false;if(u){var w=j.parseName(u);v=this.isRelationControl(w)}if(v){this.autoLoad()}},isRelationControl:function(v){var z=this.controlIds;var w=j.parseName(this);var u=false;if(/\.(\d+)\./g.test(w)){if(/\.(\d+)\./g.test(v)){var x=w.match(/\.(\d+)\./g)[0];var t=v.match(/\.(\d+)\./g)[0];if(x==t){if(z.indexOf(v.replace(t,"."))>-1){u=true}}}else{if(z.indexOf(v)>-1){u=true}}}else{if(this.isInDetail){var A=v.match(/\.(\d+)\./g);A=A?A:[];if(A.length>0){v=v.replace(A[0],".")}if(z.indexOf(v)>-1){u=true}}else{v=v?v.replace(/\.(\d+)\./g,"."):v;if(z.indexOf(v)>-1){u=true}}}return u},autoLoad:function(){var A=[];var u={};if(this.controlIds!=null&&this.controlIds!=""){A=this.controlIds.split(";");for(var w=0;w<A.length;w++){var x=this.getControlValue(A[w]);u[A[w]]=x}}var z=this.requestData(u);var v={type:"POST",sync:true};var t=this;e(Com_Parameter.ContextPath+"sys/xform/sys_form/formulaCalculation.do?method=getDataJSON&"+z,v).then(function(B){if(B!=""&&B.indexOf("[")>-1){B=JSON.parse(B)}t.renderData(B,t);if(t.returnType=="select"){t.setSelectValue(B,t)}if(t.returnType=="radio"||t.returnType=="checkbox"){t.setRadioOrCheckboxValue(B,t)}})},getControlValue:function(C){var u=this.get("name");var w=u.match(/\.(\d+)\./g);if(w!=null){var t=u.match(/\((\w+)\./g)[0].replace("(","").replace(".","")}var B=[];var v="";var x="";if(this.isRow&&C.indexOf(".")>-1){v=j.getXformWidgetValues("TABLE_DL_"+t,C.replace(".",w),false);var z=j.getXformWidget("TABLE_DL_"+t,C.replace(".",w));x=z?z.datatype:""}if(!this.isRow&&C.indexOf(".")<0){v=j.getXformWidgetValues(null,C,false);var z=j.getXformWidget(null,C);x=z?z.datatype:""}if(x=="number"){if(typeof(v)=="object"){for(var A in v){v[A]=typeof(v[A])=="string"?v[A].replace(/,/g,""):v[A]}}}B.push(v);if(!B||B.length==0||v===""){B="null"}return B},requestData:function(t){var z="";var v=new Array();var u=document.getElementsByName("extendDataFormInfo.mainModelName")[0].value;var x=document.getElementsByName("extendDataFormInfo.extendFilePath")[0].value;var A=_xformMainModelId;t.fdControlId=j.parseXformName(this);for(var w in t){if(t[w]!="null"){v.push(encodeURIComponent(w)+"="+encodeURIComponent(t[w]))}}v.push("modelName="+encodeURIComponent(u));v.push("extendFilePath="+encodeURIComponent(x));v.push("modelId="+A);z=v.join("&");return z},renderData:function(u,t){if(!t.domNode){return}if(t.returnType=="select"){t.buildSelect(u,t.selectDom,t)}if(t.returnType=="radio"){t.buildRadioOrCheckGroup(u,t.radioGroupTmpl,t)}if(t.returnType=="checkbox"){t.buildRadioOrCheckGroup(u,t.checkboxGroupTmpl,t)}if(t.returnType=="text"){t.buildText(u,t)}o.publish("/mui/list/resize",t)},buildText:function(v,z){var x=g("input[name='"+z.textName+"']",z.domNode);if(v instanceof Array){var A=[];var t=[];for(var w=0;w<v.length;w++){for(var C in v[w]){if(C.toLowerCase()=="fdid"){A.push(v[w][C])}if(C.toLowerCase()=="fdname"){t.push(v[w][C])}}}var B=A.join(";");var u=t.join(";");z.contentNode.value=u;z.valueNode.value=B;z.set("value",B);z.set("text",u)}else{z.contentNode.value=v;z.valueNode.value=v;z.set("value",v);z.set("text",v)}},buildSelectOnInitialize:function(){var u=[{value:"",text:n["mui.ControlPleaseSelect"],selected:false}];this.valueField=this.get("name");var t=this.selectTmpl.replace("!{name}",this.name).replace("!{mul}",false).replace("!{subject}",this.subject).replace("!{concentrate}",false).replace("!{showStatus}",this.showStatus).replace("!{onValueChange}","__xformDispatch").replace("!{store}",JSON.stringify(u).replace(/\"/g,"'")).replace("!{required}",this.required);if(this.required){t=t.replace("!{validate}","required")}var v=this.buildXFormStyle()||"";t=t.replace("!{xformStyle}",v);this.selectDom=h.toDom(t);h.place(this.selectDom,this.domNode,"last");c.parse(this.domNode)},buildSelect:function(w,u,t){var A=new Array();A.push({value:"",text:n["mui.ControlPleaseSelect"]});if(w instanceof Array){for(var v=0;v<w.length;v++){var x={};for(field in w[v]){if(field=="fdId"){x.value=w[v][field]+""}if(field=="fdName"){x.text=w[v][field]+""}x.checked=false}A.push(x)}}var z=k.byNode(u);z.set("store",A);z.generateList(A)},setSelectValue:function(x,t){var w=g("input[name='"+t.textName,t.domNode);w[0].value=t.text;var v=t.value;var z=k.byNode(t.selectDom);if(x!=null){for(var u=0;u<x.length;u++){for(field in x[u]){if(x[u][field]===false){x[u][field]="false"}if(field=="fdId"&&v==x[u][field]){z.set("value",v);return}}}}z.set("value","")},buildRadioOrCheckGroup:function(u,z,A){A._destroy();var x=new Array();if(u instanceof Array){for(var v=0;v<u.length;v++){var t={checked:false};for(field in u[v]){if(field=="fdId"){t.value=u[v][field]}if(field=="fdName"){t.text=u[v][field]+""}if(A.value.indexOf(t.value)>-1){t.checked=true}}x.push(t)}}if(x.length>0){var C=JSON.stringify(x);jsonArray=C.replace(/\"/g,"'");var B=z.replace("!{name}",A.name).replace("!{mul}",false).replace("!{concentrate}",false).replace("!{showStatus}",this.showStatus).replace("!{onValueChange}","__xformDispatch").replace("!{store}",jsonArray).replace("!{required}",A.required).replace("!{subject}",A.subject);if(A.required){B=B.replace("!{validate}","required")}var w=this.buildXFormStyle()||"";B=B.replace("!{xformStyle}",w);if(A.returnType=="checkbox"){A.checkboxDom=h.toDom(B);h.place(A.checkboxDom,A.domNode,"last")}if(A.returnType=="radio"){A.radioDom=h.toDom(B);h.place(A.radioDom,A.domNode,"last")}return c.parse(A.domNode)}},setRadioOrCheckboxValue:function(v,t){var u=g("input[name='"+t.textName,t.domNode);u[0].value=t.text},addRadioValue:function(v,t){this.inherited(arguments);if(!t){return}if(t.name==("_"+this.name+"_group")){var w=v.text;var u=g("input[name='"+this.name.substring(0,this.name.lastIndexOf(")"))+"_text)']",this.domNode);u[0].value=w;this.value=v.value;this.set("text",v.text);this.params.text=v.text;this.set("value",v.value);this.params.value=v.value}},addCheckboxValue:function(u,A){this.inherited(arguments);if(!A){return}if(A.name=="_"+this.name.replace(".","_")+"_single"){var C=g("[name='_"+this.name.replace(".","_")+"_single']");var z=[],t=[];for(var v=0;v<C.length;v++){var x=C[v];var B=k.byNode(x);if(B.checked){z.push(B.value);t.push(B.text)}}this.set("value",z.join(";"));this.set("text",t.join(";"));this.params.text=t.join(";");var w=g("input[name='"+this.name.substring(0,this.name.lastIndexOf(")"))+"_text)']",this.domNode);w[0].value=t.join(";")}},addSelectValue:function(u){this.inherited(arguments);if(u.name==this.name){this.value=u.value;this.set("text",u.text);this.params.text=u.text;this.set("value",u.value);this.params.value=u.value;if(!(u.text==n["mui.ControlPleaseSelect"])){var t=g("input[name='"+this.name.substring(0,this.name.lastIndexOf(")"))+"_text)']",this.domNode);t[0].value=u.text}}},buildXFormStyle:function(){var u=this.get("xformStyle");if(u){var t;if(typeof KMSSData!="undefined"){try{var v=new KMSSData();v.AddBeanData("sysFormDefaultSettingService");v=v.GetHashMapArray();if(v.length>0){t=v[0].showMobileStyle}}catch(w){}}if(t=="true"){return u}}}});return s})},"sys/xform/mobile/controls/RelationSelect":function(){define(["dojo/_base/declare","mui/form/Select","dojo/topic","sys/xform/mobile/controls/RelationCommonBase","dojo/dom-construct","sys/xform/mobile/controls/xformUtil","dojo/_base/lang","dojo/dom-style","dojo/parser","dojo/dom-class","mui/dialog/Dialog","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","mui/i18n/_i18n!sys/xform/mobile/mui-xform","mui/form/_CompositeContainedMixin","mui/util"],function(k,a,m,f,i,j,c,n,b,q,p,e,g,h,l){var o=k("sys.xform.mobile.controls.RelationSelect",[a,f,h],{bindDom:null,isSearch:true,searchOpt:null,dialogContentClass:"muiDialogRelationSelectContent",showPleaseSelect:true,needToUpdateAttInDetail:["name","textName","valueField"],postCreate:function(){this.inherited(arguments);if(this.edit){this.searchOpt="jumpToSearchUrl:false,needPrompt:false,searchUrl:'',key:'"+j.parseXformName(this)+"',emptySearch:true";this.subscribe(this.SELECT_CALLBACK,"_changeStatus");if(this.bindDom&&this.bindDom!=""){this.subscribe("/mui/form/valueChanged","resetValue")}}},startup:function(){this.inherited(arguments);if(this.edit){this.queryData(true,true);if(this.value&&this.value!=""){m.publish(this.SELECT_CALLBACK,this)}this.subscribe("/mui/search/submit",c.hitch(this,"searchItem"));this.subscribe("/mui/search/cancel",c.hitch(this,"cancelSearchItem"))}else{if(this.showStatus=="view"){if(this.value&&this.value!=""){if(!(this.text&&this.text!="")){this.queryData(true,true);m.publish(this.SELECT_CALLBACK,this)}}}}},searchItem:function(t,r){if(t&&t.containerNode&&t.containerNode==this.searchNode){var s=r.keyword;if(s!=""){var w=[];for(var u=0;u<this.values.length;u++){var v=this.values[u];if(v.text.toUpperCase().indexOf(s.toUpperCase())>-1){w.push(v)}}this.set("values",w);if(this.dialog.searchItemContent){i.empty(this.dialog.searchItemContent)}else{this.dialog.searchItemContent=i.create("ul",{className:"muiRadioGroupPopList muiFormSelectSearchElement"},this.contentNodeWrap)}this.renderListItem(this.dialog.searchItemContent);b.parse(this.dialog.searchItemContent);this.set("values",this.valuesBackup);if(this.dialogScroll){this.dialogScroll.scrollTo({y:0})}n.set(this.contentNode,{display:"none"});n.set(this.dialog.searchItemContent,{display:"block"})}else{n.set(this.contentNode,{display:"block"});if(this.dialog.searchItemContent){n.set(this.dialog.searchItemContent,{display:"none"})}}}},buildDialog:function(r){if(this.dialog){return}this.contentContainNode=i.create("div",{className:"muiFormSelectContainElement"});if(this.isSearch){this.searchInputNode=i.create("div",{className:"muiDialogElementSearchDiv"});if(!this.searchOpt){this.searchOpt="height:'3.8rem'"}this.searchNode=i.create("div",{"data-dojo-type":"mui/search/SearchBar","data-dojo-props":this.searchOpt},this.searchInputNode)}this.contentNodeWrap=i.create("div",{},this.contentContainNode);this.contentNode=i.create("ul",{className:"muiRadioGroupPopList"},this.contentNodeWrap);this.renderListItem(this.contentNode);var s=[];if(this.mul){s=[{title:e["mui.button.ok"],fn:c.hitch(this,this._closeDialog)}]}this.dialog=p.element({title:this.subject||e["mui.form.select"],element:this.contentContainNode,buttons:s,fixElement:this.searchInputNode,position:"bottom",showClass:this.showClass?this.showClass:"muiDialogSelect",callback:c.hitch(this,function(){m.publish(this.SELECT_CALLBACK,this);this.dialog=null}),onDrawed:c.hitch(this,function(t){if(this.dialogContentClass){q.add(t.contentNode,this.dialogContentClass)}this.doReduce(t)})});if(this.dialogContentClass){q.add(this.dialog.contentNode,this.dialogContentClass)}},doReduce:function(t){var w=t.htmlWdgts;var x=this.get("value");this.dialogScroll=w[0];for(var u=0;u<w.length;u++){var z=w[u];if(x!=z.value){continue}var A=z.checkboxNode.offsetTop;var v=z.checkboxNode.clientHeight;var r=t.contentNode.clientHeight;var s=this.contentNode.clientHeight;if(A+v<r){break}if(s-A<r){y=s-r}else{y=A-(r-v)/2}w[0].scrollTo({y:-y},true)}},cancelSearchItem:function(r){if(r.key&&r.key==j.parseXformName(this)){this.set("values",this.valuesBackup);n.set(this.contentNode,{display:"block"});if(this.dialog.searchItemContent){n.set(this.dialog.searchItemContent,{display:"none"})}}},resetValue:function(s,t){if(s){var u=s.get("name");if(u==null||u==""){return}var r=this;this.execFunByDom({evtObjName:u,bindDoms:this.bindDom},function(){r.set("value","")})}},buildEdit:function(){this.inherited(arguments);this.hiddenTextNode=i.create("input",{type:"hidden",name:this.textName},this.domNode)},buildReadOnly:function(){this.inherited(arguments);this.hiddenTextNode=i.create("input",{type:"hidden",name:this.textName},this.domNode)},buildHidden:function(){this.inherited(arguments);this.hiddenTextNode=i.create("input",{type:"hidden",name:this.textName},this.domNode)},editValueSet:function(r){if(r||!this.showPleaseSelect){q.add(this.domNode,"showTitle");if(this.getTextByValue(r)!=""){this.set("text",this.getTextByValue(r))}else{this.set("text","");return}}else{this.set("text","")}this.selectNode.value=r;this.hiddenTextNode.value=this._get("text")},_setTextAttr:function(r){if(r){var s=this.filtText(r);if(s){this.inputContent.innerHTML=s;this.text=s}}else{this.inputContent.innerHTML="";this.text=""}},filtText:function(u){var v="";if(u==undefined){return true}u=l.decodeHTML(u);var s=u.split(";");for(var r=0;r<s.length;r++){for(var t=0;t<this.values.length;t++){var w=this.values[t].text;w=l.decodeHTML(w);if(s[r]==w){v+=(r==0?this.values[t].text:";"+this.values[t].text);break}}}return v},_changeStatus:function(r){if(r==this){this._working=false}},addItems:function(r,u,w){var t=[];if(r!=null&&u!=null){if(!this.required){t.push({text:g["mui.ControlPleaseSelect"],value:""})}var v="";w=w?w:false;for(var s=0;s<r.length;s++){if(w==true&&(this.value&&this.value==r[s])){v=r[s]}t.push({text:u[s],value:r[s]})}this.values=t;this.valuesBackup=t;if(w){this.set("value",v)}}},_onClick:function(){this.queryData();this.buildDialog()}});return o})},"sys/xform/mobile/controls/newAddress/address_sgl":function(){define(["./address_common"],function(b){function a(f,e){var c=b.html({mul:false});e(c)}return{load:function(f,c,e){a(f,e)}}})},"sys/xform/mobile/controls/event/EventSearchBarList":function(){define(["dojo/_base/declare","dijit/_Contained","dijit/_Container","dijit/_WidgetBase","dojo/dom-construct","dojo/topic","mui/i18n/_i18n!sys/xform/mobile/mui-xform","mui/search/SearchBar","dojo/_base/array"],function(g,j,c,f,e,h,b,a,i){return g("sys.xform.mobile.controls.event.EventSearchBarList",[f,c,j],{key:null,children:[],outerSearchParams:null,postCreate:function(){this.children=[];this.inherited(arguments);this.subscribe("/mui/search/submit","searchItem");this.subscribe("/mui/search/cancel","searchItem");this.subscribe("/sys/xform/event/search/change","searchChange")},initSearchBars:function(l,m,k){this.argu=l;this.dataSource=m;if(k.length>0){this.searchBar=this.createSearchItem(k[0]);this.append(this.searchBar)}},searchChange:function(k,l){if(k.key==this.key){this.searchBar.set("keyword",l.value)}},createSearchItem:function(k){var m=b["mui.event.search.enter"]+" "+k.sdesc;var l=new a({jumpToSearchUrl:false,needPrompt:false,searchUrl:"",key:this.key,emptySearch:true,placeHolder:m,showLayer:false,outerSearch:k});l.startup();this.children.push(l);return l},append:function(k){e.place(k.containerNode,this.containerNode,"last")},searchItem:function(m){if(m.key&&m.key==this.key){var o=this.children;var k=[];var l=this.argu.outerSearchParams;for(var n=0;n<o.length;n++){var p=o[n];if(p.outerSearch.group){i.forEach(l,function(q){if(q.group&&q.group==p.outerSearch.group){q.value=p.searchNode.value;k.push(q)}})}else{p.outerSearch.value=p.searchNode.value;k.push(p.outerSearch)}}this.argu.paramsJSON.outerSearchs=JSON.stringify(k);h.publish("/sys/xform/event/search",this,{argu:this.argu,dataSource:this.dataSource})}}})})},"sys/xform/mobile/controls/massdata/_ViewTempMixin":function(){define(["dojo/_base/declare","mui/list/item/_TemplateItemMixin","dojo/text!sys/xform/mobile/controls/massdata/template/massdata.html","sys/xform/mobile/controls/massdata/template/MassDataTable","sys/xform/mobile/controls/massdata/template/Paging","mui/table/ScrollableHContainer"],function(f,e,c,g,a,h){var b=f("sys.xform.mobile.controls.massdata._ViewTempMixin",[e],{templateString:c});return b})},"sys/xform/mobile/controls/RelationChoose":function(){define(["dojo/_base/declare","dojo/ready","dojo/dom-style","mui/util","mui/form/_FormBase","dojo/dom-construct","sys/xform/mobile/controls/RelationEventBase","dojo/topic","mui/form/_PlaceholderMixin","dojo/dom-class","dojo/dom","dojo/query","sys/xform/mobile/controls/xformUtil"],function(g,o,j,i,n,e,c,h,b,m,f,l,a){var k=g("sys.xform.mobile.controls.RelationChoose",[n,c,b],{baseClass:"muiFormEleWrap popup  relationChoose",viewUrl:"/sys/xform/maindata/main_data_show/sysFormMainDataShow.do?method=show",textName:null,dataFdId:null,dataSourceId:null,dataModelName:null,dataFdIdVal:null,dataSourceIdVal:null,dataModelNameVal:null,selectedDatasVal:null,needToUpdateAttInDetail:["name","textName","dataFdId","dataSourceId","dataModelName","selectedDatas"],inputParams:null,_inDetailTable:null,inputDomIds:null,outputDomIds:null,opt:true,buildRendering:function(){this.inherited(arguments);this.textName=this.insertStrInXformName("text",this.name);this.dataFdId=this.insertStrInXformName("dataFdId",this.name);this.dataSourceId=this.insertStrInXformName("dataSourceId",this.name);this.dataModelName=this.insertStrInXformName("dataModelName",this.name);this.selectedDatas=this.insertStrInXformName("selectedDatas",this.name);this.valueNode.tabIndex=3;this.inputContent=e.create("div",{className:"muiSelInput muiFormItem"},this.valueNode);this.textNode=e.create("div",{className:"relationChooseText"},this.inputContent);this._width=/width:\s*(\d+)px(?:;)?/gi.exec(this._style);if(this._width&&this._width[1]){this._width=parseInt(this._width[1])}this.contentNode=this.textNode;if(/\.(\d+)\./g.test(this.name)){this._inDetailTable=true}else{this._inDetailTable=false}this._buildValue()},_buildValue:function(){this.value=l("[name='"+this.name+"']")[0].value;this.text=l("[name='"+this.textName+"']")[0].value;this.selectedDatasVal=l("[name='"+this.selectedDatas+"']")[0].value;this.inherited(arguments);var q="build"+i.capitalize(this.showStatus);this[q]?this[q]():"";var p=this.showStatus+"ValueSet";this.showStatusSet=this[p]?this[p]:new Function()},buildEdit:function(){this.hiddenValueNode=l("[name='"+this.name+"']")[0];this.hiddenTextNode=l("[name='"+this.textName+"']")[0];this.hiddenDataFdId=this._buildHiddenInput(this.dataFdId,"relationChooseDataFdId",this.dataFdIdVal,this.inputContent);this.hiddenDataSourceId=this._buildHiddenInput(this.dataSourceId,"relationChooseDataSourceId",this.dataSourceIdVal,this.inputContent);this.hiddenDataModelName=this._buildHiddenInput(this.dataModelName,"relationChooseDataModelName",this.dataModelNameVal,this.inputContent);this.hiddenSelectedDatas=l("[name='"+this.selectedDatas+"']")[0]},_rebindNode:function(p){if(p!=this){return}this.hiddenValueNode=l("[name='"+this.name+"']")[0];this.hiddenTextNode=l("[name='"+this.textName+"']")[0]},_buildHiddenInput:function(r,s,t,p){var q=e.create("input",{type:"hidden",name:r,className:s},p);if(t){q.value=t}return q},buildReadOnly:function(){this.inherited(arguments);this.textNode=e.create("div",{className:"relationChooseText"},this.inputContent)},buildHidden:function(){this.inherited(arguments);this.textNode=e.create("div",{className:"relationChooseText"},this.inputContent)},postCreate:function(){this.inherited(arguments);if(this.edit){this._bindClick();this.subscribe("/sys/xform/event/selected","_fillDataInfo");this.subscribe("/sys/xform/event/nextpage","_getNextDataInfo");this.subscribe("/sys/xform/event/cancel","_clearDataInfo");this.subscribe("/sys/xform/event/singleView/rebindNode","_rebindNode")}},_fillDataInfo:function(q,p){this.inherited(arguments);if(p){if(this.name==q.key){this.buildTextItem(p)}}},startup:function(){this.inherited(arguments);var q=this.inputDomIds;var p=this.outputDomIds;if(q&&q!=""){this.subscribe("/mui/form/valueChanged","addInputBind")}var r=document.getElementById(this.textId)?"#"+this.textId:'[name*="'+this.textId+'"]';if(r&&r!=""&&p&&p!=""){this.subscribe("/mui/form/valueChanged","addOutputBind")}this.initDisplay()},initDisplay:function(){var q=this;var s={};if(q.dataFdIdVal&&q.dataFdIdVal!=""){s.isLink=false;s.datas=[];var p=q.dataFdIdVal.split(";");var t=q.text.split(";");if(p.length==t.length){for(var r=0;r<p.length;r++){var u={};u.dataId=p[r];u.dataSubject=t[r];s.datas.push(u)}}else{console.info("选择框的显示值长度和数据记录长度不一致，很可能是因为显示值含有分号导致不匹配！")}s.dataModelName=q.dataModelNameVal}else{s.isLink=false}q._buildDisplayBlock(s)},_buildDisplayBlock:function(q){var C=this;var v=e.create("div",{className:"relationChooseTextItem"});if(this.edit){m.add(v,"relationChooseTextItemEdit")}if(q.isLink){var t=q.datas;if(t.length==0){return}for(var s=0;s<t.length;s++){var r=t[s];var z=e.create("ui",{},v);var B=e.create("li",{},z);var u=e.create("a",{},B);u.innerHTML=r.dataSubject;if(C.showStatus=="view"){var x={};x.fdId=r.dataId;x.modelName=q.dataModelName;var p=i.setUrlParameterMap(C.viewUrl,x);p=i.formatUrl(p);C.connect(u,"click",function(D){window.open(p,"_self")})}if(this._width===0){j.set(z,"display","none")}}}else{if(C.text&&C.text!=""){var A=e.create("span",{},v);A.innerHTML=C.text;if(this._width===0){j.set(A,"display","none")}}else{return}}if(C.showStatus=="edit"){var w=e.create("i",{className:"fontmuis muis-epid-close"},v);C.closeNode=w;C.connect(w,"click",function(D){e.empty(C.textNode);C.stopPropagation(D);C.set("value","");C.set("text","")});if(this._width===0){j.set(w,"display","none")}}e.place(v,C.textNode,"last")},addInputBind:function(q,s){if(q){var u=q.get("name");if(u==null||u==""){return}var t=this.inputDomIds;var w;if(this._inDetailTable==true){w=this.name.match(/\.(\d+)\./g);w=w?w:[]}if(u.indexOf(".value(")>-1){if(/\.(\d+)\./g.test(u)){u=u.match(/\((\w+)\.(\d+)\.(\w+)/g)[0].replace("(","")}else{u=u.match(/\((\w+)/g)[0].replace("(","")}}else{return}if(u!=null&&u!=""){if(t){var v=t.split(";");for(var r=0;r<v.length;r++){var p=v[r];if(/-fd(\w+)/g.test(p)){p=p.match(/(\S+)-/g)[0].replace("-","")}if(this._inDetailTable==true){p=p.replace(".",w[0])}if(u==p){e.empty(this.textNode);this.set("value","");this.set("text","");break}}}}}},addOutputBind:function(A,u){if(A&&A===this){var x=A.get("name");if(x==null||x==""){return}var z=A.inputDomIds;var s=A.get("outputDomIds");var w;if(A._inDetailTable==true){w=A.name.match(/\.(\d+)\./g);w=w?w:[]}if(x.indexOf(".value(")>-1){if(/\.(\d+)\./g.test(x)){x=x.match(/\((\w+)\.(\d+)\.(\w+)/g)[0].replace("(","")}else{x=x.match(/\((\w+)/g)[0].replace("(","")}}else{return}if(x!=null&&x!=""){if(s){var q=s.split(";");for(var r=0;r<q.length;r++){var t=q[r];if(/-fd(\w+)/g.test(t)){t=t.match(/(\S+)-/g)[0].replace("-","")}if(A._inDetailTable==true){t=t.replace(".",w[0]);if(x.indexOf(".0.")!=-1){x=x.split(".0.")[1]}}var v=a.getXformWidget(null,x);if(A.textId.includes(x)&&(v.get("value")==null||v.get("value")=="")){if(t!=this.textId&&t.indexOf(A.textId)==-1){var p=a.getXformWidget(null,t);a.setXformWidgetValues(p,"",t)}}}}}}},addRowBind:function(p,q){if(p==null){if(q&&q.row){this._bindClick(q.row)}}},_bindClick:function(){var p=this;if(this._inDetailTable==true){p.textNodeOnClickEvent=p.connect(p.textNode,"click",function(q){q.stopPropagation();p._execClick(p)})}else{o(function(){p.textNodeOnClickEvent=p.connect(p.textNode,"click",function(){p._execClick(p)})})}},_setValueAttr:function(p){this.inherited(arguments);this.showStatusSet(p)},editValueSet:function(p){this.hiddenValueNode.value=p},viewValueSet:function(p){this.inherited(arguments)},isEcho:function(){if(this.source==="MAINDATAINSYSTEM"||this.source==="MAINDATACUSTOM"){return true}return false},_setTextAttr:function(p){this.inherited(arguments);if(this.edit){if(p&&p!=""){this.hiddenTextNode.value=p}else{this.hiddenTextNode.value="";this.hiddenDataFdId.value="";this.hiddenDataSourceId.value="";this.hiddenDataModelName.value="";this.hiddenSelectedDatas.value="";this.selectedDatasVal=""}}this.text=p;h.publish("/mui/list/resize",this)},_readOnlyAction:function(q){this.inherited(arguments);var p=this;if(this.closeNode){if(q){j.set(p.closeNode,"display","none");p.disconnect(p.textNodeOnClickEvent)}else{j.set(p.closeNode,"display","inline-block");p.disconnect(p.textNodeOnClickEvent);p.textNodeOnClickEvent=p.connect(p.textNode,"click",function(){p._execClick(p)})}}},buildTextItem:function(w){var A=w.rows;var x=this;e.empty(x.textNode);var p={};if(w.hasRowsContext||(w.argu&&w.argu.hasRowsContext)){p.isLink=true;p.datas=[];var t="";var q="";var u="";for(var s=0;s<A.length;s++){var z=A[s];p.dataModelName=z.fdModelName;var r={};r.dataId=z.fdId;r.dataSubject=z.fdSubject;t+=z.fdId+";";q=z.fdModelName;u=z.fdSourceId;p.datas.push(r)}x.hiddenDataFdId.value=t.replace(/;$/gi,"");x.hiddenDataSourceId.value=u;x.hiddenDataModelName.value=q}else{p.isLink=false}if(x.isEcho()){if(A){var v=JSON.stringify(A);v=v.replace(/\"/g,"quot;");x.hiddenSelectedDatas.value=v;x.selectedDatasVal=v}}x._buildDisplayBlock(p)},stopPropagation:function(p){if(p.stopPropagation){p.stopPropagation()}if(p.cancelBubble){p.cancelBubble=true}if(p.preventDefault){p.preventDefault()}if(p.returnValue){p.returnValue=false}},insertStrInXformName:function(p,q){if(/\(*\)$/g.test(q)){q=q.replace(/\)$/g,"_"+p+")")}return q}});return k})},"sys/xform/mobile/controls/relevance/RelevanceDialog":function(){define(["dojo/_base/declare","dojo/topic","dojo/dom","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/html","dojo/_base/array","mui/util","dojo/touch","dojox/mobile/_css3","dijit/registry","dojo/dom-class","dijit/_WidgetBase"],function(h,k,f,c,l,b,j,m,i,g,p,a,o,e){var n=h("sys.xform.mobile.controls.relevance.RelevanceDialog",[e],{templURL:"sys/xform/mobile/controls/relevance/relevance_mul.jsp",key:null,_dialogDivPrefix:"__cate_dialog_",_init:function(q){k.subscribe("/sys/xform/relevance/main/submit",b.hitch(this,"returnDialog"));this.key=q.key;this.fdControlId=q.fdControlId;this.extendXmlPath=q.extendXmlPath;this.fdMainModelName=q.fdMainModelName;this.curIds=q.curIds;this.curSubjects=q.curSubjects;this.curFdModelNames=q.curFdModelNames;this.curIsCreators=q.curIsCreators;this.isUseNew=q.isUseNew;this.inputParams=q.inputParams;this.isMul=q.isMul;this.fdKey=q.fdKey;this.fdId=q.fdId;this.fdTemplateModelName=q.fdTemplateModelName;this.isBase=q.isBase;this.isSimpleCategory=q.isSimpleCategory;if(!this.isMul){this.templURL="sys/xform/mobile/controls/relevance/relevance_sgl.jsp"}},returnDialog:function(r,q){if(q){if(r.key==this.key){k.publish("/sys/xform/relevance/setvalue",this,q);this.closeDialog(r)}}},showAnimate:function(){o.add(this.dialogDiv,"fadeIn animated");l.set(this.dialogDiv,"display","block");l.set(this.dialogDiv,"background-color","rgba(0, 0, 0, 0.6)");o.add(this.dialogContainerDiv,"fadeInRight animated");l.set(this.dialogContainerDiv,"display","block");var q=this;setTimeout(function(){o.remove(q.dialogDiv,"fadeIn");o.remove(q.dialogContainerDiv,"fadeInRight")},500)},closeDialog:function(r){if(this.dialogDiv&&r.key==this.key){l.set(this.dialogDiv,p.name("transform"),"translate3d(100%, 0, 0)");var q=this;setTimeout(function(){if(q.parseResults&&q.parseResults.length){m.forEach(q.parseResults,function(s){if(s.destroy){s.destroy()}});delete q.parseResults}c.destroy(q.dialogDiv);q.dialogDiv=null;q._working=false},410)}},initSelData:function(){},_closeDialog:function(q){var r=q.target;if(this.dialogDiv&&r===this.dialogDiv){this.__doCloseDialog()}},__doCloseDialog:function(){o.add(this.dialogContainerDiv,"fadeOutRight animated");o.add(this.dialogDiv,"fadeOut animated");this.defer(function(){if(this.dialogContainerDiv){l.set(this.dialogContainerDiv,"display","none")}if(this.dialogDiv){l.set(this.dialogDiv,"display","none")}},500);setTimeout(b.hitch(this,function(){if(this.parseResults&&this.parseResults.length){m.forEach(this.parseResults,function(q){if(q.destroy){q.destroy()}});delete this.parseResults}c.destroy(this.dialogDiv);this.dialogDiv=null;this._working=false}),410)},select:function(s){this._init(s);if(this.templURL&&!this._working){var r=this._dialogDivPrefix+this.key;this._working=true;this.dialogDiv=f.byId(r);if(this.dialogDiv==null){var q=this;require(["dojo/text!"+i.urlResolver(this.templURL,this)],function(u){q.dialogDiv=c.create("div",{id:r,className:"muiCateDiaglog",tabindex:"0"},document.body,"last");q.dialogContainerDiv=c.create("div",{className:"muiCateDiaglogContainer "},q.dialogDiv);q.dialogDiv.focus();q.defer(function(){q.connect(q.dialogDiv,"click","_closeDialog")},500);i.disableTouch(q.dialogDiv,g.move);var t=new j._ContentSetter({node:q.dialogContainerDiv,parseContent:true,cleanContent:true,onBegin:function(){this.content=b.replace(this.content,{argu:q});this.inherited("onBegin",arguments)}});t.set(u);t.parseDeferred.then(function(v){q.parseResults=v;l.set(q.dialogDiv,p.name("transform"),"translate3d(0, 0, 0)");q.initSelData()});t.tearDown();q.showAnimate()})}}}});return n})},"sys/xform/mobile/controls/advancedDt/Paging":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-construct","dojo/dom-class","dojo/_base/lang","dojo/dom-style","dojo/topic","mui/i18n/_i18n!sys/xform/mobile/mui-xform"],function(f,e,c,j,a,h,g,b){var i=f("sys.xform.mobile.controls.advancedDt.Paging",[e],{render:function(k){if(!this.buttonDomNode){this.buttonDomNode=c.create("div",{className:"muiDetailTableMore"},this.domNode)}this.buttonDomNode.innerHTML="";var l=Math.ceil(k.totalSize/k.pageSize);this.pageno=k.pageno;this.controlId=k.controlId;this.hasNext=l>k.pageno;this.hasPre=k.pageno>1;if(this.hasNext){this.createPageElement();j.remove(this.buttonDomNode,"hide")}else{j.add(this.buttonDomNode,"hide")}},createPageElement:function(){var k=c.create("span",{className:"muiDetailTableMoreText",innerHTML:b["mui.detailTable.more"]},this.buttonDomNode);var l=c.create("i",{className:"mui-detail-table-forward-icon icon-drop-down"},this.buttonDomNode);this.on("click",a.hitch(this,function(m){if(this.hasNext){g.publish("/sys/xform/detailsTable/page",{pageno:++this.pageno,controlId:this.controlId})}}))}});return i})},"sys/xform/mobile/controls/AuditShow":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/query","mui/form/_FormBase","dojo/dom-class","dojo/touch","dojo/dom-style"],function(e,a,g,i,f,h,c){var b=e("sys.xform.mobile.controls.AuditShow",[i],{buildRendering:function(){this.auditShow=g(".muiFormEleAuditShowWrap",this.domNode);this.inherited(arguments);if(this.newMui){a.place(this.tipNode,this.domNode,"first")}f.add(this.domNode,"muiDingAuditShow");this.iconNode=a.create("div",{className:".muiFormEleAuditIcon"},this.domNode);a.destroy(this.rightIcon);var j=this;g(".lui-ding-audit-postscript",this.domNode).forEach(function(m){var l=g(".lui-ding-audit-folder",m)[0];var k=g(".lui-ding-audit-expand",m)[0];j.connect(l,"click",function(n){j._stopPropagation(n);c.set(k,"display","block");c.set(l,"display","none");if(!f.contains(m,"collapse")){f.add(m,"collapse")}});j.connect(k,"click",function(n){j._stopPropagation(n);c.set(l,"display","block");c.set(k,"display","none");if(f.contains(m,"collapse")){f.remove(m,"collapse")}})})},_stopPropagation:function(j){if(j.stopPropagation){j.stopPropagation()}if(j.cancelBubble){j.cancelBubble=true}if(j.preventDefault){j.preventDefault()}if(j.returnValue){j.returnValue=false}},startup:function(){this.inherited(arguments);f.remove(this.domNode,"muiFormRight")}});return b})},"sys/xform/mobile/controls/relevance/RelevanceItemMixin":function(){define(["dojo/_base/declare","dojo/_base/array","mui/iconUtils","mui/category/CategoryItemMixin","dojo/topic","dojo/dom-style","dojo/dom","dojo/dom-class","dojo/dom-construct"],function(f,i,a,c,g,h,e,j,b){var k=f("sys.xform.mobile.controls.relevance.RelevanceItemMixin",[c],{isMul:true,buildRendering:function(){this.inherited(arguments);if(this.nodeType=="RETURNNODE"){h.set(this.titleNode,{color:"#37aee9"});h.set(this.titleNode,{fontSize:"1.6rem"})}},showMore:function(){var l=this.getParent();if(this.nodeType=="TEMPLATE"||this.nodeType=="DOCUMENTNODE"||this.nodeType=="RETURNNODE"){return false}return true},showSelect:function(){if(this.nodeType=="DOCUMENTNODE"){return true}return false},isSelected:function(){var m=this.getParent();if(m&&m.curIds){var l=m.curIds.split(";");if(i.indexOf(l,this.fdId)>-1){return true}}return false},buildIcon:function(l){if(this.icon){a.setIcon(this.icon,null,this._headerIcon,null,l)}else{if(this.nodeType=="CURRDOM"||this.nodeType=="DOCUMENTNODE"){a.setIcon("mui mui-file-text",null,this._headerIcon,null,l)}else{h.set(l,{display:"none"})}}},showItemDetail:function(){if(this.nodeType=="RETURNNODE"){g.publish("/mui/category/changed",this,{fdId:this.fdId,label:this.label,fdTemplateId:this.fdTemplateId,modelPath:this.modelPath,isBase:this.isBase,fdKey:this.fdKey,pAdmin:this.pAdmin,isSimpleCategory:this.isSimpleCategory,fdTemplateModelName:this.fdTemplateModelName,modelName:this.fdMainModelName})}else{g.publish("/sys/xform/relevance/category/changed",this,{fdId:this.fdId,fdTemplateId:this.fdTemplateId,categoryId:this.categoryId,label:this.label,modelPath:this.modelPath,notSearch:this.notSearch,fdKey:this.fdKey,isChild:this.isChild,isBase:this.isBase,isSimpleCategory:this.isSimpleCategory,fdTemplateModelName:this.fdTemplateModelName,modelName:this.fdMainModelName})}},_openCate:function(l){this.set("entered",true);this.defer(function(){this.set("entered",false);if(this.nodeType=="CURRDOM"){if(this.fdId.indexOf("-")>=0){this.fdTemplateId=""}this.showItemDetail()}else{g.publish("/mui/category/changed",this,{fdId:this.fdId,label:this.label,fdTemplateId:this.fdTemplateId,modelPath:this.modelPath,isBase:this.isBase,fdKey:this.fdKey,pAdmin:this.pAdmin,isSimpleCategory:this.isSimpleCategory,fdTemplateModelName:this.fdTemplateModelName,modelName:this.fdMainModelName})}},200);return},_setSelected:function(n,l){if(n.key==this.key){if(l&&l.fdId){if(l.fdId==this.fdId){j.add(this.selectNode,"muiCateSeled");this.checkedIcon=b.create("i",{className:"mui mui-checked muiCateSelected"},this.selectNode);this.set("entered",true);this.defer(function(){this.set("entered",false)},200);if(this.isMul){g.publish("/mui/category/selected",this,{fdId:this.fdId,label:this.label,isCreator:this.isCreator,fdModelName:this.fdModelName});g.publish("/mui/category/cate_selected",this,{label:this.label,fdId:this.fdId,icon:this.icon,type:this.type})}else{var m={curIds:this.fdId,subjects:this.label,fdModelNames:this.fdModelName,isCreators:this.isCreator,key:this.key};g.publish("/sys/xform/relevance/main/submit",this,m)}}}}}});return k})},"sys/xform/mobile/controls/relevance/RelevanceList":function(){define(["dojo/_base/declare","mui/category/CategoryList","dojo/_base/lang","dojo/_base/json","mui/util","dojo/topic"],function(f,a,g,e,b,c){return f("sys.xform.mobile.controls.relevance.RelevanceList",[a],{modelName:null,isTemp:false,isMul:true,selType:1,rowsize:15,pageno:1,isSearch:false,dataUrl:"/sys/xform/controls/relevance.do?method=getAllList&parentId=!{parentId}&modelPath=!{modelPath}&fdControlId=!{fdControlId}&extendXmlPath=!{extendXmlPath}&fdKey=!{fdKey}&pAdmin=!{pAdmin}",tempUrl:"/sys/xform/controls/relevance.do?method=getDocByCategory&modelName=!{modelName}&fdControlId=!{fdControlId}&extendXmlPath=!{extendXmlPath}&fdKey=!{fdKey}&fdTemplateId=!{fdTemplateId}&categoryId=!{categoryId}&isChild=!{isChild}&modelPath=!{modelPath}&notSearch=!{notSearch}&pageno=!{pageno}&rowsize=!{rowsize}&orderby=fdId&ordertype=down&inputParams=!{inputParams}",postCreate:function(){this.inherited(arguments);this.dataUrl=b.formatUrl(this.dataUrl);this.tempUrl=b.formatUrl(this.tempUrl);this.subscribe("/sys/xform/relevance/category/changed","_RcateChange");this.subscribe("/sys/xform/relevance/search","_searchByUrl");this.subscribe("/mui/category/submit","_RcateChangeSubmit")},_searchByUrl:function(i,h){if(i.key==this.key){this.isSearch=true;if(this.isTemp){h.url=h.docUrl;this._RcateChange(i,h)}else{h.url=h.cateUrl;this._cateChange(i,h)}}},_RcateChange:function(j,h){if(j.key==this.key){this.isTemp=true;this.pageno=1;if(h&&h.url){if(!this._addressUrl){this._addressUrl=this.url}this.showMore=false;this.searchUrl=h.url;this.url=h.url+"&fdControlId=!{fdControlId}&extendXmlPath=!{extendXmlPath}&pageno=!{pageno}&rowsize=!{rowsize}&modelName=!{modelName}&fdKey=!{fdKey}&fdTemplateId=!{fdTemplateId}&categoryId=!{categoryId}&isChild=!{isChild}&notSearch=!{notSearch}&orderby=fdId&ordertype=down&inputParams=!{inputParams}";this.url=b.urlResolver(this.url,this)}else{this.fdTemplateId=h.fdTemplateId;this.categoryId=h.categoryId;this.modelPath=h.modelPath;this.fdKey=h.fdKey;this.notSearch=h.notSearch;this.isChild=h.isChild;this.parentId=h.fdId;if(h.isBase){this.searchUrl=this.dataUrl}else{this.searchUrl=this.tempUrl}this.url=b.urlResolver(this.searchUrl,this)}this.buildLoading();this.reload();var i=this;this.defer(function(){c.publish("/sys/xform/relevance/toTop",i)},200)}},loadMore:function(h){if(this.isTemp){if(this.isSearch){this.url=this.searchUrl+"&fdControlId=!{fdControlId}&extendXmlPath=!{extendXmlPath}&pageno=!{pageno}&rowsize=!{rowsize}&modelName=!{modelName}&fdKey=!{fdKey}&fdTemplateId=!{fdTemplateId}&categoryId=!{categoryId}&isChild=!{isChild}&notSearch=!{notSearch}&orderby=fdId&ordertype=down&inputParams=!{inputParams}";this.url=b.urlResolver(this.url,this)}else{this.url=b.urlResolver(this.tempUrl,this)}}else{if(this.isSearch){this.url=b.urlResolver(this.searchUrl,this)}else{this.url=b.urlResolver(this.dataUrl,this)}}return this.doLoad(h,true)},formatDatas:function(h){return h},_cateChange:function(j,h){if(j.key==this.key){this.isTemp=false;if(h&&h.url){if(!this._addressUrl){this._addressUrl=this.url}this.showMore=false;this.url=h.url+"&modelName=!{modelName}&fdKey=!{fdKey}&fdControlId=!{fdControlId}&extendXmlPath=!{extendXmlPath}";this.url=b.urlResolver(this.url,this)}else{this.showMore=true;this.parentId=h.fdId;this.modelPath=h.modelPath;this.fdKey=h.fdKey;this.modelName=h.modelName;this.pAdmin=h.pAdmin;if(typeof h.isBase=="undefined"||h.isBase){this.url=b.urlResolver(this.dataUrl,this)}else{this.isTemp=true;this.url=b.urlResolver(this.tempUrl,this)}}this.buildLoading();this.reload();var i=this;this.defer(function(){c.publish("/sys/xform/relevance/toTop",i)},200)}},_cateReback:function(j,h){if(j.key==this.key){this.isSearch=false;this.showMore=true;if(this.isTemp){this.pageno=1;this.url=b.urlResolver(this.tempUrl,this)}else{this.url=b.urlResolver(this.dataUrl,this)}this.buildLoading();this.reload();var i=this;this.defer(function(){c.publish("/sys/xform/relevance/toTop",i)},200)}},_RcateChangeSubmit:function(j,h){this.fdTemplateId=h.curIds;this.url=b.urlResolver(this.tempUrl,this);this.buildLoading();this.reload();var i=this;document.querySelectorAll("div.muiFormRelevanceFilterItem").forEach(function(k){if(window._curIds!="-"){k.setAttribute("style","color: #4285f4;")}else{k.setAttribute("style","color: ")}});this.defer(function(){c.publish("/sys/xform/relevance/toTop",i)},200)}})})},"sys/xform/mobile/controls/DetailSummary":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/dom-prop","mui/util","dijit/registry","mui/form/_FormBase","dojo/query","dojo/dom","dojo/dom-class","dojo/dom-attr","dojo/dom-style","dojo/on","dojo/_base/lang","dojo/topic","mui/i18n/_i18n!sys/xform/mobile/mui-xform","mui/dialog/Dialog","sys/xform/mobile/controls/xformUtil"],function(i,q,g,h,a,j,b,c,o,k,p,m,l,t,n,f,e,s){var r=q("sys.xform.mobile.controls.MobileDetailSummaryControl",[b],{buildRendering:function(){this.inherited(arguments)},startup:function(){this.inherited(arguments);if(this.showStatus==="edit"){this.buildCalcParam();this.buildEdit();if("false"===this.calcParam.autoCalc){return}this.subscribe("/mui/form/valueChanged","listenDetailChange")}else{this.buildView()}},buildView:function(){var w=s.getXformWidgetBlur(this.domNode,s.parseXformName(this)).value;if(!w){w=0}var u='<div style=float:right;line-height: 3rem;">'+w+"</div>";var v=g.toDom(u);g.place(v,this.domNode,"last")},buildEdit:function(){var u=s.getXformWidgetBlur(this.domNode,s.parseXformName(this)).value;if(!u){u=0}this.textContent=g.create("span",{className:"mui-detail-summary-value",style:{"line-height":"1.8rem","padding-right":"24px"},innerHTML:u},this.valueNode);p.set(c("[name='"+this.name+"']")[0],"value",u);this.calcNode=g.create("span",{className:"mui-detail-summary-button detailTableNormal",innerHTML:"计算"},this.valueNode);this.connect(this.calcNode,"click",this.doCalcDetailSummary)},doCalcDetailSummary:function(x,B){var A=this.calcParam;if(x==="none"||(x==="change"&&A.calcField.indexOf(B.field)>-1)||(x==="detailsTable-delRow"&&A.detailPointer.indexOf(B.detail)>-1)){return}var z=this.calcFunc;var u=z.selfVal();var w=z.calcFieldValues(u);var v=z.calc(w);v=z.setValText(v);c(this.textContent).html(v);p.set(c("[name='"+this.name+"']")[0],"value",v)},buildCalcParam:function(){var v=this;var u=JSON.parse(this.other.replace(/'/g,'"'));var x=JSON.parse(this.fieldCalc.replace(/'/g,'"'));var w=JSON.parse(this.relation.replace(/'/g,'"'));this.calcParam={autoCalc:u.autoCalc,scale:u.scale,thousandShow:u.thousandShow,detailPointer:v.detailPointer,calcField:x.field,pointerField:w.pointer};this.calcFunc={calc:function(A,z){z=z?z:u.scale?u.scale:0;return v.DetailSummaryCalcFun[x.calc](A,z)},setValText:function(D,B,C){if(!B){B=u.thousandShow}C=C?C:u.scale?u.scale:0;D=parseFloat(D).toFixed(C);if("true"===B){D=D.replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g,"$&,");var z=D.indexOf(".");if(z>0){var A=D.substring(z);A=A.replace(/,/g,"");D=D.substring(0,z)+A}}return D},selfVal:function(){var z=c(v.domNode).parents("tr[kmss_iscontentrow='1']");if(z.length>0){var A=z[0];if(w.self){return s.getXformWidgetBlur(A,w.self).value}return null}return null},calcFieldValues:function(z){if(!z){return[0]}var B="#TABLE_DL_"+v.detailPointer;var A=[];c(B+" tr[kmss_iscontentrow='1'] ").forEach(function(G,E,F){var D=s.getXformWidgetBlur(G,w.pointer).value;if(D===z){var C=s.getXformWidgetBlur(G,x.field).value;C=parseFloat(C);if(!isNaN(C)){A.push(C)}}});return A}}},listenDetailChange:function(u,w){var v="all";var x={field:"",detail:""};if(u){v="change";x.field=u.name}else{if(w.eventType){if(w.eventType==="detailsTable-addRow"){v="none"}else{v=w.eventType;x.detail=w.tableId}}}this.doCalcDetailSummary(v,x);if(u!=this&&w&&typeof w.oldValue!="undefined"&&typeof w.value!="undefined"&&w.oldValue!=w.value){n.publish("/mui/form/rowValueChanged",this,w)}},DetailSummaryCalcFun:{sum:function(u,z){var x=0;z=z>0?z:0;var w=Math.pow(10,z);for(var v=0;v<u.length;v++){x+=u[v]*w}return x/w},max:function(u,x){var w=u[0];for(var v=0;v<u.length;v++){w=u[v]>w?u[v]:w}return w},min:function(u,x){var w=u[0];for(var v=0;v<u.length;v++){w=u[v]<w?u[v]:w}return w},avg:function(u,z){var x=0;var v=z>0?z:0;z=z>0?z:1;for(var w=0;w<u.length;w++){x+=u[w]*z}if(self.otherCfg){z=self.otherCfg.scale>0?self.otherCfg.scale:1;v=self.otherCfg.scale>0?self.otherCfg.scale:0}if((u.length*z)==0){x=x/1}else{x=x/(u.length*z)}return parseFloat(x).toFixed(v)}}});return r})},"sys/xform/mobile/controls/stageDiagram/StageDiagram":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-prop","sys/xform/mobile/controls/xformUtil","dijit/registry","mui/form/_FormBase","dojo/query","dojo/dom","dojo/dom-class","dojo/dom-attr","dojo/dom-style","dojo/on","dojo/_base/lang","dojo/dom-geometry","mui/i18n/_i18n!sys/xform/mobile/mui-xform","dojo/html","dojo/topic"],function(q,c,f,e,g,a,b,o,i,p,m,j,s,h,l,k,n){var r=q("sys.xform.mobile.controls.stageDiagram.StageDiagram",[a],{buildRendering:function(){this.inherited(arguments);this.getLbpmData()},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/navitem/_selected",s.hitch(this,"handleItemSelected"))},handlerShow:false,startup:function(){this.inherited(arguments)},handleItemSelected:function(t){if(t&&t.moveTo==="baseinfoView"){var u=this;this.defer(function(){u.reDraw()},100)}},reDraw:function(){c.empty(this.domNode);this.doDraw();this.processPassedStage();this.processHandler();n.publish("/mui/list/resize",this)},STARTNODE:l["mui.stageDiagram.startNode"],ENDNODE:l["mui.stageDiagram.endNode"],HANDLER:l["mui.stageDiagram.handler"],CURRENTHANDLER:l["mui.stageDiagram.currentHandler"],HISTORYHANDLER:l["mui.stageDiagram.historyHandler"],STAGE_DIAGRAM_DATA_BEAN:"stageDiagramDataBean",NODEID_SEPARATOR:";",NODE_STATUS:{RUNNING:"2",PASS:"3"},getLbpmData:function(){var w={};w.processId=_xformMainModelId;var v=new KMSSData();v.UseCache=false;v.AddHashMap(w);var t=this;var u=function(x){var z=x.GetHashMapArray();if(z.length==0){t.lbpmInfo=[];return}else{t.lbpmInfo=z;t.draw()}};v.SendToBean(this.STAGE_DIAGRAM_DATA_BEAN,u)},draw:function(){this.init();this.doDraw();this.processPassedStage();this.processHandler();n.publish("/mui/list/resize",this)},init:function(){var x=this.getAvailableRunningNodes();this.startEndNode=this.startEndNode==="true";this.approvalTime=this.approvalTime==="true";this.stage=JSON.parse(this.stage.replace(/&quot;/g,'"'));for(var u=0;u<x.length;u++){var v=x[u].fdNodeId;for(var t=0;t<this.stage.length;t++){var w=this.stage[t].stageNodeId.split(this.NODEID_SEPARATOR);if(this.isContainCurrentNodeId(w,v)){this.stage[t].containCurrentNodeId=true}}}},processHandler:function(){var A=b("li[currentnode]",this.domNode);for(var w=0;w<A.length;w++){var D=[];var C=[];var x=[];var u=[];var z=p.get(A[w],"nodeids");z=z.split(";");for(var v=0;v<z.length;v++){var B=this.getNodeInfoById(z[v]);if(B&&B.fdCurrentHandlerId){D=D.concat(B.fdCurrentHandlerId.split(";"));C=C.concat(B.fdCurrentHandlerName.split(";"))}if(B&&B.fdHistoryHandlerId){x=x.concat(B.fdHistoryHandlerId.split(";"));u=u.concat(B.fdHistoryHandlerName.split(";"))}}p.set(A[w],"currentHandlerId",D.join(";"));p.set(A[w],"currentHandlerName",C.join(";"));p.set(A[w],"historyHandlerId",x.join(";"));p.set(A[w],"historyHandlerName",u.join(";"));var t=b("[class='spot spot-current']",A[w]);j(t,"click",s.hitch(this,this.currentStageOnMouseover))}},currentStageOnMouseover:function(u){u=u||window.event;u.cancelBubble=true;if(u.preventDefault){u.preventDefault()}if(u.stopPropagation){u.stopPropagation()}var D=new Date().getTime();var w=this.ctime;if(w!="undefined"&&(D-w<500)){return false}this.ctime=D;var B=u.srcElement||u.relatedTarget;var A=B.parentNode;var v=b("[name='handlerWrap']",A)[0];if(this.handlerShow){m.set(v,"display","none");this.handlerShow=false}else{m.set(v,"z-index",100);m.set(v,"display","block");var t=b("[name='historyHandler']",v)[0];var C=b("[name='currentHandler']",v)[0];var z=p.get(A,"currentHandlerName");var x=p.get(A,"historyHandlerName");if(x){x=x.split(";");x=x.join(" ")}else{x=""}t.innerHTML=x;if(z){z=z.split(";");z=z.join(" ")}else{z=""}C.innerHTML=z;this.contentElementPosition(A,v);this.handlerShow=true}},contentElementPosition:function(A,t){var w=this.getOffsetTopByBody(A);var C=w.left+document.body.scrollLeft;var B=A.offsetTop;var z=document.body.scrollWidth;var D=document.body.scrollHeight;var u=m.get(t,"width");var v=m.get(t,"height");if(C>u){m.set(t,"marginLeft","-255px")}else{m.set(t,"marginLeft","-110px")}if(B<v){m.set(t,"bottom","-70px")}},getOffsetTopByBody:function(u){var t=0;var v=0;while(u&&u.tagName!=="BODY"){t+=u.offsetTop;v+=u.offsetLeft;u=u.offsetParent}return{left:v,top:t}},createHandlerDom:function(){var t=[];t.push("<div name='handlerWrap' class='lui_flow_rotundity_tooltip' style='position:absolute;'>");t.push("<div class='lui_flow_rotundity_handlerTitle'>"+this.HANDLER+"</div>");t.push("<div class='lui_flow_rotundity_historyHandlerTitle'>"+this.CURRENTHANDLER+"</div>");t.push("<div class='lui_flow_rotundity_historyHandler' name='historyHandler'></div>");t.push("<div class='lui_flow_rotundity_currentHandlerTitle'>"+this.HISTORYHANDLER+"</div>");t.push("<div class='lui_flow_rotundity_currentHandler' name='currentHandler'></div>");t.push("</div>");return t.join("")},getNodeInfoById:function(v){for(var t=0;t<this.lbpmInfo.length;t++){var u=this.lbpmInfo[t];if(v==u.fdNodeId){return u}}},doDraw:function(){var I=this.stage.length;if(this.startEndNode){I+=2}var G=10;var v=h.getMarginBox(this.domNode.parentNode).w-10;var A=[];var F=125;var u=parseInt(v/F)||3;var B=Math.ceil(I/u);A.push("<div class='lui-flow-rotundity'>");for(var z=0;z<B;z++){A.push("<ul class='lui-flow-rotundity-list'>");for(var x=0;x<u;x++){if((z*u+x)==I){break}var C=z*u+x;var D="";var t="";var H=false;var E=false;if(this.startEndNode){if(z==0&&x==0){D=this.STARTNODE;H=true}else{if(z==B-1&&x==(I-(z*u+1))){D=this.ENDNODE;E=true}else{var w=this.stage[C-1];D=w.stageName;t=w.stageNodeId}}}else{var w=this.stage[C];D=w.stageName;t=w.stageNodeId}if(z!=B-1&&x==u-1){A.push("<li class='last-child'")}else{A.push("<li")}if(this.isLastStage(z,u,x)){A.push(" lastStage='true'")}A.push(" nodeIds='"+t+"'");if(H){A.push(" startNode='true'")}else{if(E){A.push(" endNode='true'")}else{if(w&&w.containCurrentNodeId){A.push(" currentNode='true'")}if(this.startEndNode){A.push(" index="+(C-1))}else{A.push(" index="+C)}}}A.push(">");A.push("<span class='spot");if(H){A.push(" spot-start")}else{if(E){A.push(" spot-end")}else{if(w&&w.containCurrentNodeId){A.push(" spot-current")}}}A.push("'></span>");A.push("<p class='title' title='"+D+"'>"+D+"</p>");if(this.approvalTime){A.push("<p class='subhead'></p>")}if(w&&w.containCurrentNodeId){A.push(this.createHandlerDom())}A.push("</li>")}A.push("</ul>")}A.push("</div>");c.place(A.join(""),this.domNode,"last")},processPassedStage:function(){var u=this.findPassedStage(this.findPrveStageByCurrentStage());this.addPassedCss(u);this.addPassTime(u);this.passedStage=u;if(this.isAllPass(this.stage)){this.passedStage=u;var t=this.findPassedStage(this.findAllStage());this.addPassedCss(t);this.addPassTime(t)}},findPrveStageByCurrentStage:function(){var u=this.findCanApplyCurrentStage();var x=[];if(!u){return x}var t=p.get(u,"index");var z=this.findAllStage();for(var w=0;w<z.length;w++){var A=z[w];var v=p.get(A,"index");if(v&&parseInt(v)<parseInt(t)){x.push(A)}}return x},findAllStage:function(){return b("li",this.domNode)},isAllPass:function(w){var v=true;if(this.processIsPass()){return true}w=w||[];for(var u=0;u<w.length;u++){var t=w[u].stageNodeId.split(this.NODEID_SEPARATOR);if(!this.stageIsPass(t)){v=false;break}}return v},processIsPass:function(){for(var t=0;t<this.lbpmInfo.length;t++){var u=this.lbpmInfo[t];if(u.fdStatus==="30"){return true}}return false},stageIsPass:function(w){w=w||[];var t=this.getPassNodes(this.lbpmInfo);var v=true;t=t||[];for(var u=0;u<w.length;u++){if(!this.passNodeContain(t,w[u])){v=false;return v}}return v},passNodeContain:function(u,w){var t=false;for(var v=0;v<u.length;v++){var x=u[v];if(w===x.fdNodeId){t=true;return t}}return t},getPassNodes:function(){var w=this.lbpmInfo||[];var v=[];for(var t=0;t<w.length;t++){var u=w[t];if(u.fdStatus===this.NODE_STATUS.PASS){v.push(u)}}return v},findCanApplyCurrentStage:function(){var z=b("li[currentnode]",this.domNode);var t=[];var x;var v=0;if(z.length==0){return}else{x=z[0];v=parseInt(p.get(x,"index")||0);for(var w=1;w<z.length;w++){var u=p.get(z[w],"index");if(u>=v){v=parseInt(u||0);x=z[w]}}}return x},findPassedStage:function(u){u=u||[];var t=[];for(var v=0;v<u.length;v++){if(p.get(u[v],"startNode")=="true"||p.get(u[v],"endNode")=="true"||p.get(u[v],"currentnode")=="true"){continue}else{t.push(u[v])}}return t},addPassedCss:function(v){v=v||[];for(var t=0;t<v.length;t++){var u=b("span[class='spot']",v[t])[0];i.add(u,"spot-finish")}},addPassTime:function(B){if(!this.approvalTime||this.lbpmInfo.length==0||B.length==0){return}B=B||[];for(var A=0;A<B.length;A++){var z=B[A];var D=p.get(z,"nodeIds").split(this.NODEID_SEPARATOR);var u="";var C=b("p[class='subhead']",z)[0];var t=this.getPassTimeByNodeId(D[0])||"";var x=t;for(var w=1;w<D.length;w++){var v=this.getPassTimeByNodeId(D[w])||"";if(v.replace(/\-/g,"")>t.replace(/\-/g,"")){t=v}if(v.replace(/\-/g,"")<x.replace(/\-/g,"")){x=v}}if(x==t){u=x}else{u=x+"~"+t}k.set(C,u)}},getPassTimeByNodeId:function(w){var v=this.lbpmInfo;for(var t=0;t<v.length;t++){var u=v[t];if(u.fdNodeId==w){return u.fdFinishDate}}},isLastStage:function(x,w,u){var v=this.stage.length;if(this.startEndNode){v+=2}var t=false;if(this.startEndNode&&v==(x*w+u+2)){t=true}if(!this.startEndNode&&v==(x*w+u+1)){t=true}return t},getAvailableRunningNodes:function(){var w=this.lbpmInfo||[];var t=[];for(var u=0;u<w.length;u++){var v=w[u];if(v.fdStatus===this.NODE_STATUS.RUNNING){t.push(v)}}return t},isContainCurrentNodeId:function(v,u){v=v||[];for(var t=0;t<v.length;t++){var w=v[t];if(w===u){return true}}return false}});return r})},"sys/xform/mobile/controls/massdata/template/Paging":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-construct","dojo/dom-class","dojo/_base/lang","dojo/topic"],function(e,g,a,f,h,c){var b=e("sys.xform.mobile.controls.massdata.template.Paging",[g],{render:function(i){if(!this.buttonDomNode){this.buttonDomNode=a.create("div",{className:"massdata-paging"},this.domNode)}this.buttonDomNode.innerHTML="";var j=Math.ceil(i.totalSize/i.pageSize);this.pageno=i.pageno;this.controlId=i.controlId;this.hasNext=j>i.pageno;this.hasPre=i.pageno>1;if(this.hasPre||this.hasNext){this.createPageElement()}},createPageElement:function(){var i=a.create("span",{className:"mui mui mui-back"},this.buttonDomNode);this.on("click",h.hitch(this,function(k){if(this.hasPre&&i===k.target){c.publish("/sys/xform/massdata/page",{pageno:--this.pageno,controlId:this.controlId})}}));if(this.hasPre){f.add(i,"active")}else{f.remove(i,"active")}var j=a.create("span",{className:"mui mui mui-forward"},this.buttonDomNode);this.on("click",h.hitch(this,function(k){if(this.hasNext&&j===k.target){c.publish("/sys/xform/massdata/page",{pageno:++this.pageno,controlId:this.controlId})}}));if(this.hasNext){f.add(j,"active")}else{f.remove(j,"active")}}});return b})},"sys/xform/mobile/controls/relevance/RelevanceItemListMixin":function(){define(["dojo/_base/declare","mui/list/_TemplateItemListMixin","sys/xform/mobile/controls/relevance/RelevanceItemMixin"],function(b,a,c){return b("sys.xform.mobile.controls.relevance.RelevanceItemListMixin",[a],{itemRenderer:c,_createItemProperties:function(f){var e=this.inherited(arguments);e.key=this.key;e.isMul=this.isMul;return e}})})},"sys/xform/mobile/controls/DetailTableItem":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/json","dojo/dom","dojo/dom-construct","dojo/dom-attr","dijit/registry","dojox/mobile/viewRegistry","dojox/mobile/ListItem","dojo/query","dojo/NodeList-manipulate"],function(e,g,l,c,b,i,a,k,j,h){var f=e("sys.xform.mobile.controls.DetailTableItem",[j],{detailTableId:null,showRow:0,edit:false,curView:null,_needValidate:false,postCreate:function(){this.inherited(arguments)},startup:function(){this.inherited(arguments);this.dTableView=c.byId("dt_wrap_"+this.detailTableId+"_view")},validateDetailTable:function(){if(this._needValidate){if(this.dTableView&&this.view){if(this.view.domNode.parentNode!=this.dTableView.parentNode){var o=window.DocList_TableInfo?window.DocList_TableInfo["TABLE_DL_"+this.detailTableId]:null;var n=[];if(o){n=h("[KMSS_IsContentRow='1']",o.DOMElement);if(n.length>0){for(var p=0;p<n.length;p++){if(this.checkRequired(n[p].innerHTML)){return false}}}else{for(var p=0;p<o.cells.length;p++){var m=o.cells[p].innerHTML;if(this.checkRequired(m)){return false}}}}else{n=h("[KMSS_IsContentRow='1']",this.dTableView);if(n.length==0){n=h("[KMSS_IsReferRow='1']",this.dTableView)}if(n.length>0){for(var p=0;p<n.length;p++){if(this.checkRequired(n[p].innerHTML)){return false}}}}}}}return true},checkRequired:function(o){var n=false;if(o.indexOf("required")>-1){var m=b.create("div",{innerHTML:o});n=g.some(h("[data-dojo-props]",m),function(p){var q=i.get(p,"data-dojo-props");var r=l.parse("{"+q+"}");if(r.required==true){if(r.value!=null&&r.value!=""){return false}if(r.curIds!=null&&r.curIds!=""){return false}return true}return false})}return n}});return f})},"sys/xform/mobile/controls/AuditShowContent":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/request","dojo/query","dojo/topic"],function(b,e,c,f,a){return b("sys.xform.mobile.controls.AuditShowContent",[e],{buildRendering:function(){this.inherited(arguments);if(typeof __auditshows=="undefined"){__auditshows={};__auditshowCount=2}__auditshows[this.controlId]=this},startup:function(){this.inherited(arguments);a.subscribe("parser/done",this.getNoteDataShow());a.subscribe("parser/dialog/done",this.getNoteDataShow())},getNoteDataShow:function(){if(typeof __auditshows_init=="undefined"){var g=Com_Parameter.ContextPath+"sys/lbpmservice/support/auditNoteDataShowAction.do?method=getNoteDataShow";c(g,{data:{fdModelId:_xformMainModelId,fdModelName:_xformMainModelClass,type:"bulidCache"},method:"post",handleAs:"json"}).then(function(l){var h=[];var v=[];var n=[];var i=[];var t=[];var o=[];var u=[];var k=[];var j=[];var r=[];for(var s in __auditshows){h.push(__auditshows[s].controlId);v.push(__auditshows[s].opValue);n.push(__auditshows[s].sortNote);i.push(__auditshows[s].processId);t.push(__auditshows[s].exhibitionDataClass);o.push(__auditshows[s].exhibitionStyleClass);u.push(__auditshows[s].groupNote);k.push(__auditshows[s].filterNote);j.push(__auditshows[s].width);r.push(__auditshows[s].info)}var q=0;var p=Math.ceil(h.length/__auditshowCount);while(q<h.length){var m=(q+__auditshowCount>h.length)?h.length:(q+__auditshowCount);var w={data:{controlIds:h.slice(q,m),opValues:v.slice(q,m),sortNotes:n.slice(q,m),processIds:i.slice(q,m),exhibitionDataClasses:t.slice(q,m),exhibitionStyleClasses:o.slice(q,m),groupNotes:u.slice(q,m),filterNotes:k.slice(q,m),widths:j.slice(q,m),infos:r.slice(q,m),isMobile:true,fdModelName:_xformMainModelClass,fdModelId:_xformMainModelId},method:"post",handleAs:"json"};q+=__auditshowCount;c(g,w).then(function(z){for(var x in z){f(__auditshows[x].domNode).html(z[x],{parseContent:true,onEnd:function(){this.inherited("onEnd",arguments);a.publish("/mui/list/resize","resize")}})}p--;if(p==0){c(g,{data:{fdModelId:_xformMainModelId,fdModelName:_xformMainModelClass,type:"cleanCache"},method:"post",handleAs:"json"}).then(function(A){},function(A){console.error(A)})}},function(x){console.error(x);p--;if(p==0){c(g,{data:{fdModelId:_xformMainModelId,fdModelName:_xformMainModelClass,type:"cleanCache"},method:"post",handleAs:"json"}).then(function(z){},function(z){console.error(z)})}})}},function(h){console.error(h)});__auditshows_init=true}}})})},"sys/xform/mobile/controls/massdata/_RequestDataMixin":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/query","mui/util","dojo/request","dojo/dom-construct","dojo/dom-style"],function(f,h,i,b,g,a,e){var c=f("sys.xform.mobile.controls.massdata._RequestDataMixin",[h],{defaultUrl:"/sys/xform/massdata/sysFormMassData.do?method=getMassData&mainFormId=!{mainFormId}&mainModelName=!{mainModelName}&controlId=!{controlId}",startup:function(){this.inherited(arguments);var j=this;var k=b.formatUrl(b.urlResolver(this.defaultUrl,this));this.buildLoading();g.post(k,{handleAs:"json"}).then(function(l){if(j.onDataLoad){j.onDataLoad(l);e.set(j.tmpLoading,"display","none")}})},buildLoading:function(){if(this.tmpLoading==null){this.tmpLoading=a.create("div",{className:"muiCateLoading",style:{display:"inline-block"},innerHTML:'<i class="mui mui-loading mui-spin"></i>'},this.domNode)}else{e.set(self.tmpLoading,"display","inline-block")}}});return c})},"sys/xform/mobile/controls/event/EventDataSelection":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-construct","dojo/topic","sys/xform/mobile/controls/event/EventDataSelectAllCheckBox","mui/i18n/_i18n!sys/xform/mobile/mui-xform","mui/history/listener"],function(c,h,a,b,g,f,i){var e=c("sys.xform.mobile.controls.event.EventDataSelection",[h],{baseClass:"muiEventSec",key:null,isMul:false,count:0,argu:null,buildRendering:function(){this.inherited(arguments);this.containerNode=a.create("div",{className:"muiEventContainer"},this.domNode);this.leftArea=a.create("div",{className:"muiEventSecLeft"},this.containerNode);var j=this._createSelectAllCheckBox();this.selectAllCheckboxArea=j.selectAllCheckboxArea;a.place(this.selectAllCheckboxArea,this.leftArea);this.rightArea=a.create("div",{className:"muiEventSecRight"},this.containerNode);this.buttonNode=a.create("span",{className:"muiCateSecBtn muiCateSecBtnDis",innerHTML:f["mui.event.selection.ok"]},this.rightArea)},postCreate:function(){this.inherited(arguments);this.subscribe("/sys/xform/event/checked","_addSelItme");this.subscribe("/sys/xform/event/unchecked","_delSelItem");this.subscribe("/sys/xform/event/searchData","_delCount")},_createSelectAllCheckBox:function(){var j=new g({key:this.key,isMul:this.isMul});j.startup();return j},_subSelItem:function(){b.publish("/sys/xform/event/submit",this)},setArgu:function(j){this.argu=j},_addSelItme:function(){var j=arguments[0];var l=j.key;var k=this.key;if(l&&k&&l.indexOf("(")>-1&&l.indexOf(")")>-1&&k.indexOf("(")>-1&&k.indexOf(")")>-1&&(l.substring(l.indexOf("("),l.indexOf(")")+1)==k.substring(l.indexOf("("),k.indexOf(")")+1))){b.publish("/sys/xform/event/addSeleteItem",j);if(!j.isSelectAll){this.count=this.count+1;this._resizeSelection()}}else{if(l.indexOf("(")==-1||l.indexOf(")")==-1||k.indexOf("(")==-1||k.indexOf(")")==-1){b.publish("/sys/xform/event/addSeleteItem",j);if(!j.isSelectAll){this.count=this.count+1;this._resizeSelection()}}}},_delSelItem:function(){var j=arguments[0];b.publish("/sys/xform/event/delSeleteItem",j);if(this.count>0){this.count=this.count-1}this._resizeSelection()},_delCount:function(){if(this.argu&&this.argu.appendSearchResult=="true"){return}if(this.count>0){this.count=0;this._resizeSelection()}},_resizeSelection:function(){if(this.argu!=null&&(this.argu.paramsJSON.listRule=="01"||this.argu.paramsJSON.listRule=="00")){this.count=1}if(this.count>0){this.buttonNode.innerHTML=f["mui.event.selection.ok"]+"("+this.count+")";this.buttonNode.className="muiCateSecBtn";if(this.subHandle==null){this.subHandle=this.connect(this.buttonNode,"click","_subSelItem")}}else{this.buttonNode.innerHTML=f["mui.event.selection.ok"];this.buttonNode.className="muiCateSecBtn muiCateSecBtnDis";if(this.subHandle){this.disconnect(this.subHandle);this.subHandle=null}}}});return e})},"sys/attend/map/mobile/resource/js/Location":function(){define(["dojo/_base/declare","mui/form/_InputBase","dojo/dom-construct","mui/util","./LocationStrategy","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","./common/MapUtil","mui/device/adapter","mui/dialog/Tip","dojo/topic"],function(f,a,e,h,c,b,j,k,l,g){var i=f("sys.attend.location",[a],{edit:true,value:"",coordinateValue:null,detailValue:null,provinceValue:null,cityValue:null,districtValue:null,strategy:"bmap",mapKey:j.bMapKey,mapKeyPc:null,mapKeyName:null,baseClass:"muiFormEleWrap muiFormLocation",inputClass:"muiInput",isShowList:true,isShowSearch:true,isShowPoi:true,opt:true,postMixInProperties:function(){var m=dojoConfig.map.mapType;if(m=="qmap"){this.strategy="qmap";this.mapKey=dojoConfig.map.qMapKey;this.mapKeyName=dojoConfig.map.qMapKeyName}else{if(m=="bmap"){this.strategy="bmap";this.mapKey=dojoConfig.map.bMapKey}else{if(m=="amap"){this.strategy="amap";this.mapKey=dojoConfig.map.aMapKey;this.mapKeyPc=dojoConfig.map.aMapKeyPc}}}},buildRendering:function(){h.loadCSS("/sys/attend/map/mobile/resource/css/location.css");this.subscribe("sys/attend/map/edit.finished","_setLocationValues");this.inherited(arguments)},startup:function(){this.inherited(arguments);this.initDefaultValue()},optText:"定位",buildOptIcon:function(m){this.inherited(arguments);if(m){this.connect(m,"click","_onIconClick");m.dojoClick=true}},buildViewIcon:function(m){if(m){this.connect(m,"click","_onIconClick");m.dojoClick=true}},buildEdit:function(){var m=b["mui.form.please.input"]+(this.subject?this.subject:"");if(!this.placeholder){this.placeholder=m}this.contentMapNode=e.create("div",{className:"muiMapInput muiSelInput"},this.valueNode);this.nameNode=e.create("input",{name:this.propertyName,className:this.inputClass,placeholder:this.placeholder||m},this.contentMapNode);if(this.isModify=="false"){this.nameNode.readOnly=true}this.coordinateNode=e.create("input",{name:this.propertyCoordinate,type:"hidden"},this.contentMapNode);if(this.propertyDetail){this.detailNode=e.create("input",{name:this.propertyDetail,type:"hidden"},this.contentMapNode)}if(this.propertyProvince){this.provinceNode=e.create("input",{name:this.propertyProvince,type:"hidden"},this.contentMapNode)}if(this.propertyCity){this.cityNode=e.create("input",{name:this.propertyCity,type:"hidden"},this.contentMapNode)}if(this.propertyDistrict){this.districtNode=e.create("input",{name:this.propertyDistrict,type:"hidden"},this.contentMapNode)}this.connect(this.nameNode,"blur","_onBlur");this.connect(this.contentMapNode,"blur","_onBlur")},buildView:function(){this.nameTxtNode=e.create("div",{innerHTML:this.value,className:"muiMapInput muiInput_View"},this.valueNode);this.nameNode=e.create("input",{name:this.propertyName,type:"hidden"},this.valueNode);this.coordinateNode=e.create("input",{name:this.propertyCoordinate,type:"hidden"},this.valueNode);if(this.propertyDetail){this.detailNode=e.create("input",{name:this.propertyDetail,type:"hidden"},this.valueNode)}if(this.propertyProvince){this.provinceNode=e.create("input",{name:this.propertyProvince,type:"hidden"},this.valueNode)}if(this.propertyCity){this.cityNode=e.create("input",{name:this.propertyCity,type:"hidden"},this.valueNode)}if(this.propertyDistrict){this.districtNode=e.create("input",{name:this.propertyDistrict,type:"hidden"},this.valueNode)}if(this.coordinateValue){this.buildViewIcon(this.nameTxtNode)}},buildReadOnly:function(){this.buildView()},buildHidden:function(){this.nameNode=e.create("input",{name:this.propertyName,type:"hidden"},this.valueNode);this.coordinateNode=e.create("input",{name:this.propertyCoordinate,type:"hidden"},this.valueNode);if(this.propertyDetail){this.detailNode=e.create("input",{name:this.propertyDetail,type:"hidden"},this.valueNode)}if(this.propertyProvince){this.provinceNode=e.create("input",{name:this.propertyProvince,type:"hidden"},this.valueNode)}if(this.propertyCity){this.cityNode=e.create("input",{name:this.propertyCity,type:"hidden"},this.valueNode)}if(this.propertyDistrict){this.districtNode=e.create("input",{name:this.propertyDistrict,type:"hidden"},this.valueNode)}},_onIconClick:function(){this.openLocationDialog()},openLocationDialog:function(){var m=this;var n=c[this.strategy];if(n){require([n],function(o){if(o.init){o.init(m)}})}},initDefaultValue:function(){var m=this;if(!this.showStatus){this.showStatus=Com_GetUrlParameter(window.location,"method")}if(this.defaultValue=="PERSON_POSITION"&&this.showStatus!="view"){g.subscribe("MAP_INIT_DEFAULT_VALUE",function(s,p){var r=p.coordType;var q=p.address;var o=p.point;m.set("value",p.title);m.set("coordinateValue",o&&o.lat?j.formatCoord(o,r):"");m.set("detailValue",q);m.set("provinceValue",p.addressComponent.province);m.set("cityValue",p.addressComponent.city);m.set("districtValue",p.addressComponent.district)});if(window.initMapLocation){return}window.initMapLocation=true;var n=l.processing();n.show();k.mixinReady(function(){k.getCurrentPosition(function(o){n.hide(false);g.publish("MAP_INIT_DEFAULT_VALUE",this,o)},function(){n.hide(false)},{getPoi:0})})}},_setLocationValues:function(n,m){if(m!=this){return}this.set("value",n.value);this.set("coordinateValue",n.point&&n.point.lat?j.formatCoord(n.point,this.strategy=="bmap"?3:5):"");this.set("detailValue",n.detail);this.set("provinceValue",n.province);this.set("cityValue",n.city);this.set("districtValue",n.district)},_setValueAttr:function(m){this.inherited(arguments);this.nameNode.value=m;this.value=m;if(this.nameTxtNode){this.nameTxtNode.innerHTML=m}},_setCoordinateValueAttr:function(m){this.inherited(arguments);this.coordinateNode.value=m;this.coordinateValue=m},_setDetailValueAttr:function(m){this.inherited(arguments);if(this.detailNode){this.detailNode.value=m}this.detailValue=m},_setProvinceValueAttr:function(m){this.inherited(arguments);if(this.provinceNode){this.provinceNode.value=m}this.provinceValue=m},_setCityValueAttr:function(m){this.inherited(arguments);if(this.cityNode){this.cityNode.value=m}this.cityValue=m},_setDistrictValueAttr:function(m){this.inherited(arguments);if(this.districtNode){this.districtNode.value=m}this.districtValue=m}});return i})},"sys/xform/mobile/controls/event/EventDataList":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dijit/_Contained","dijit/_Container","dijit/_WidgetBase","dojo/topic","sys/xform/mobile/controls/event/EventDataListItem","dojo/request","mui/util","dojo/dom-style","mui/list/item/_TemplateItemMixin","dojo/query","dojo/dom-class","dojo/topic","dojo/_base/lang","dijit/registry","mui/i18n/_i18n!sys/xform/mobile/mui-xform"],function(o,j,g,r,e,i,m,f,h,l,n,k,p,q,m,b,a,c){return j("sys.xform.mobile.controls.event.EventDataList",[i,e,r],{isMul:false,pageAble:false,key:null,headers:null,argu:null,baseClass:"muiCateLists muiXformEventLists",selectItems:[],selectedDatas:[],_pageNum:1,postCreate:function(){this.inherited(arguments);this.subscribe("/sys/xform/event/submit","_returnData");this.subscribe("/mui/list/onPush","_appendNext");this.subscribe("/sys/xform/event/search","_searchDataInfo");this.subscribe("/sys/xform/event/addSeleteItem","_addSelectItem");this.subscribe("/sys/xform/event/delSeleteItem","_delSelectItem");this.selectItems=[]},_returnData:function(u){if(this.key==u.key){var t={};var s=this;t.headers=this.headers;t.argu=this.argu;t.rows=[];o.forEach(this.selectItems,function(v){if(v!=null&&v.selected){t.rows.push(v.data)}},this);this._addReturnDatas(t);m.publish("/sys/xform/event/selected",this,t)}},_addSelectItem:function(t){if(this.argu.paramsJSON.listRule=="01"||this.argu.paramsJSON.listRule=="00"){this.selectedDatas=[];this.selectItems=[]}if(!t){return}var v=t.key;var u=this.key;if(v&&u&&v.indexOf("(")>-1&&v.indexOf(")")>-1&&u.indexOf("(")>-1&&u.indexOf(")")>-1&&(v.substring(v.indexOf("("),v.indexOf(")")+1)==u.substring(v.indexOf("("),u.indexOf(")")+1))){var s=this.selectItems.length;this.selectItems[s]=t;this._addSelectedDataInNecessary(t)}else{if(v.indexOf("(")==-1||v.indexOf(")")==-1||u.indexOf("(")==-1||u.indexOf(")")==-1){var s=this.selectItems.length;this.selectItems[s]=t;this._addSelectedDataInNecessary(t)}}},setSelectedDatas:function(s){this.selectedDatas=s||[]},_addReturnDatas:function(A){if(this.argu.paramsJSON.listRule=="01"||this.argu.paramsJSON.listRule=="00"){this.selectedDatas=[];this.selectItems=[]}if(this.argu.echo){var x=this.selectedDatas.length;for(var w=0;w<x;w++){var t=this.selectedDatas[w];var s=t.currentRecordId;var z=false;for(var v=0;v<A.rows.length;v++){var B=A.rows[v];var u=B.currentRecordId;if(s===u){z=true;break}}if(!z){A.rows.push(this.selectedDatas[w])}}}},_addSelectedDataInNecessary:function(s){if(this.argu.echo){var v=false;for(var u=0;u<this.selectedDatas.length;u++){var t=this.selectedDatas[u];if(t.currentRecordId===s.data.currentRecordId){this.selectedDatas[u]=s.data;v=true;break}}if(!v){this.selectedDatas[this.selectedDatas.length]=s.data}}},_removeSelectedData:function(s){if(this.argu.echo){for(var t=0;t<this.selectedDatas.length;t++){var u=this.selectedDatas[t];if(s&&s.data.currentRecordId===u.currentRecordId){this.selectedDatas.splice(t,1);return}}}},_delSelectItem:function(s){for(var t=0;t<this.selectItems.length;t++){if(this.selectItems[t]==s){this.selectItems[t]=null}}this._removeSelectedData(s)},setArgu:function(s){this.argu=s},setData:function(t,u){if(!this.headers){this.headers=t.headers}if(!u){u=this.containerNode}if(t.rows.length>0){var s=t.rows;o.forEach(s,function(v){this.append(this.createItem(t.headers,v),u)},this)}this._resizeCount()},_searchDataInfo:function(v,s){if(s){if(v.key==this.key){var u=this;if(u.argu.appendSearchResult=="false"||u.argu.echo){this.selectItems=[]}var t=s.argu.paramsJSON;if(/[\d][1]/g.test(t.listRule)){t.pageSize=1}else{t.pageSize=0}h.post(l.formatUrl(s.argu.queryDataUrl),{data:t,handleAs:"json"}).then(function(w){if(!w||!w.outs){w.outs=[]}w.outs.sort(function(A,z){return A.rowIndex-z.rowIndex});o.forEach(u.getChildren(),function(z){z.destroy()},u);var x=s.argu.control.convertData(w,s.argu.outputsJSON,t);if(x!=null&&x.rows.length>0){s.argu.dataLength=x.rows.length;u.setData(x)}else{this.showNoRecord()}m.publish("/sys/xform/event/searchData",u)},function(){})}}},showNoRecord:function(){var s=this;require(["dojo/text!mui/list/item/NoDataTempl.tmpl"],function(t){s.tempItem=new k({templateString:t,baseClass:"muiListNoData",text:c["mui.event.list.noContent"]});var u=p(".muiListNoDataContainer",s.tempItem.domNode)[0];g.create("i",{className:"mui mui-message"},u);q.add(u,"muiListNoDataIcon");if(s.addChild){s.addChild(s.tempItem)}if(!s.tempItem.domNode.style["line-height"]){n.set(s.tempItem.domNode,{height:305+"px","line-height":155+"px","margin-top":150+"px"})}})},_appendNext:function(t,u){if(t.key==this.key){if(this.pageAble){var s=this;m.publish("/sys/xform/event/nextpage",this,{argu:this.argu,pageNum:this._pageNum+1},{done:function(v){if(v!=null&&v.rows.length>0){s.argu.dataLength=v.rows.length;s._pageNum=s._pageNum+1;s.setData(v)}else{m.publish("/sys/xform/event/showNomore",s)}u.done()}})}else{u.done()}}},append:function(s,t){g.place(s.domNode,t,"last")},_resizeCount:function(){if(this.argu.echo){if(this.selectedDatas&&this.selectedDatas.length>0){var t=a.byId("_eventdata_sgl_selection_"+this.key);var s=this;setTimeout(function(){t.count=s.selectedDatas.length;t._resizeSelection()},100)}}},checkedIfNecessary:function(v,u){if(this.argu.echo){var s=false;if(this.selectedDatas&&this.selectedDatas.length>0){for(var t=0;t<this.selectedDatas.length;t++){if(v.currentRecordId===this.selectedDatas[t].currentRecordId){s=true;u._selectData();return}}}}},createItem:function(u,t){var s=new f({key:this.key,isMul:this.isMul,headers:u,data:t});s.startup();this.checkedIfNecessary(t,s);return s}})})},"sys/xform/mobile/controls/RelationCheckBox":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/ready","dojo/dom-construct","dojo/dom-prop","dojo/dom-style","sys/xform/mobile/controls/xformUtil","dijit/registry","dojo/request","mui/util","mui/dialog/Tip","dojo/query","dojo/topic","mui/form/CheckBoxGroup","sys/xform/mobile/controls/RelationCommonBase"],function(i,n,p,e,b,l,h,a,g,k,q,o,j,f,c){var m=i("sys.xform.mobile.controls.RelationCheckBox",[f,c],{defvalue:null,_buildValue:function(){this.inherited(arguments);var s="build"+k.capitalize(this.showStatus);this[s]?this[s]():"";var r=this.showStatus+"ValueSet";this.showStatusSet=this[r]?this[r]:new Function()},postMixInProperties:function(){this.inherited(arguments);if(this.alignment=="V"){this.__orient="vertical"}},buildRendering:function(){this.inherited(arguments);this.values=[];if(this.value){var t=this.value.split(";");var r=this.text.split(";");for(var s=0;s<t.length;s++){this.values.push({value:t[s],text:r[s],checked:true})}}this._buildValue()},buildEdit:function(){this.hiddenTextNode=e.create("input",{type:"hidden",name:this.textName},this.domNode)},buildReadOnly:function(){this.inherited(arguments);this.hiddenTextNode=e.create("input",{type:"hidden",name:this.textName},this.domNode)},buildHidden:function(){this.inherited(arguments);this.hiddenTextNode=e.create("input",{type:"hidden",name:this.textName},this.domNode)},buildView:function(){if(this.valueNode){e.destroy(this.valueNode)}this.valueNode=e.create("div",{className:"muiCheckboxWrap_View "},this.domNode)},postCreate:function(){this.inherited(arguments);if(this.edit){this.subscribe("/mui/form/valueChanged","_execChange")}},startup:function(){this.inherited(arguments);if(this.edit){this.queryData(true)}if(this.showStatus=="view"){if(this.value&&this.value!=""){if(!(this.text&&this.text!="")){this.queryData(true);this.showStatusSet(this.value)}}}},setCheckBox:function(u){if(u==undefined){return""}var s=u.split(";");for(var r=0;r<s.length;r++){for(var t=0;t<this.values.length;t++){if(s[r]==this.values[t].value){this.values[t].checked=true;break}}}},addItems:function(s,v,x){var u=[];if(s!=null&&v!=null){var r="";x=x?x:false;if(x==true){r=this.value.split(";")}var w="";for(var t=0;t<s.length;t++){if(x==true&&r&&r.indexOf(s[t])>-1){w+=s[t]+";";u.push({text:v[t],value:s[t],checked:true})}else{u.push({text:v[t],value:s[t],checked:false})}}this.set("values",u);if(w.length>0){w=w.substring(0,w.length-1)}this.set("value",w)}e.empty(this.valueNode);this.generateList(this.values);this._working=false;j.publish("/mui/list/resize",this)},_execChange:function(r,s){this.listenInputWgt(r,s,this.bindDom)},_setValueAttr:function(r){this.text=this.getTextByValue(r);if(this.hiddenTextNode){this.hiddenTextNode.value=this.text}this.inherited(arguments);this.showStatusSet(r)},viewValueSet:function(r){if(r!=null&&r!=""){this.set("text",this.getTextByValue(r));this.valueNode.innerHTML=this.text}},getTextByValue:function(u){var v="";if(u==undefined){return v}var s=u.split(";");for(var r=0;r<s.length;r++){for(var t=0;t<this.values.length;t++){if(s[r]==this.values[t].value){v+=(r==0?this.values[t].text:";"+this.values[t].text);break}}}return v}});return m})},"sys/xform/mobile/designer/attrs":function(){Designer_Config.attrs.layout2col={text:Designer_Lang.layout2colName,opts:[{text:Designer_Lang.layout2colMobile,value:"mobile",onclick:"_Show_DataEntryMode(this.value);"},{text:Designer_Lang.layout2colDesktop,value:"desktop",onclick:"_Show_DataEntryMode(this.value);"}],value:"mobile",type:"radio",show:true,required:false,translator:opts_common_translator};function a(c,b){if(c==null){return}c.attrs.layout2col=Designer_Config.attrs.layout2col;b.call(this,c)}a(Designer_Config.controls.standardTable,function(e){var b=e.onDrawEnd;var c=function(){b.call(this);var f=this.options.values;var g=this.options.domElement;if(f){g.setAttribute("layout2col",f.layout2col)}};e.onDrawEnd=c});a(Designer_Config.controls.detailsTable,function(e){var b=e.onDrawEnd;var c=function(){b.call(this);var f=this.options.values;var g=this.options.domElement;if(f){g.setAttribute("layout2col",f.layout2col)}};e.onDrawEnd=c});(function(c){if(c==null){return}var f=Designer_Lang.jspIsInMobileEnable+" <label><input type='radio' value='default' name='Designer_Control_JSP_MobileView'>"+Designer_Lang.jspMobileDefault+"</label>";f+="<label><input type='radio' value='enable' name='Designer_Control_JSP_MobileView'>"+Designer_Lang.jspMobileEnable+"</label>";f+="<label><input type='radio' value='disable' name='Designer_Control_JSP_MobileView'>"+Designer_Lang.jspMobileDisable+"</label>";var j=window.Get_Designer_Control_JSP_ShowDom;var i=function(){var k=j.call(this);var l=document.createElement("div");l.innerHTML=f;document.getElementById("Designer_Control_JSP_Value").parentNode.appendChild(l);return k};window.Get_Designer_Control_JSP_ShowDom=i;var b=window.Designer_Control_JSP_ShowEditFrame;var h=function(o,p){b.call(this,o,p);var l=p.parentNode;var n=l.getAttribute("mobileView");var k=document.getElementsByName("Designer_Control_JSP_MobileView");if(k.length>0){for(var m=0;m<k.length;m++){if(k[m].value==n){k[m].checked=true;return}}k[0].checked=true}};window.Designer_Control_JSP_ShowEditFrame=h;var e=window.Designer_Control_JSP_SuccessEditFrame;var g=function(){var n=Designer_Config.controls.jsp.valueDom;var l=n.parentNode.parentNode;var k=document.getElementsByName("Designer_Control_JSP_MobileView");for(var m=0;m<k.length;m++){if(k[m].checked){l.setAttribute("mobileView",k[m].value);break}}e.call(this)};window.Designer_Control_JSP_SuccessEditFrame=g})(Designer_Config.controls.jsp)},"sys/xform/mobile/controls/fSelect/FSelect":function(){define(["dojo/_base/declare","mui/form/Select","mui/util","dojo/dom-construct","dojo/_base/json","sys/xform/mobile/controls/fSelect/FSelectDialog","mui/dialog/Confirm","mui/form/validate/Validation","dojo/_base/lang","mui/dialog/Dialog","dojo/topic","mui/i18n/_i18n!sys/xform/mobile/mui-xform"],function(h,a,j,g,n,b,l,e,c,k,i,f){var m=h("sys.xform.mobile.controls.fSelect.FSelect",[a],{type:"fSelect",SELECTED_EVENT:"/sys/xform/fSelect/selected",requiredValidateAlias:"leastNItem",closeDialog:function(p,o){if(!this.mul){if(o.name==(this.selectBoxPrefix+this.valueField)){this.set("value",o.value);this._closeDialog()}}else{if(p.params.name==(this.selectBoxPrefix+this.valueField)){var q=p.checked?"add":"remove";this[q+"Value"](p.value)}}},_DoneClick:function(){this.set("value",this.value_s.join(";"));this._closeDialog()},_closeDialog:function(o){i.publish(this.SELECT_CALLBACK,this);if(this.dialog){this.dialog.closeDialog(o);this.dialog=null}},_setTextAttr:function(o){this.inputContent.innerHTML=o;this.text=o},hiddenValueSet:function(o){this.editValueSet(o)},readOnlyValueSet:function(o){this.editValueSet(o)},addValue:function(o){this.editValueSet(o)},removeValue:function(o){this.editValueSet(o)},bindEvent:function(){this._clickHandle=this.connect(this.domNode,"click",function(p){this.defer(function(){this._onClick(p)},320)});this.subscribe(this.SELECTED_EVENT,"_fillDataInfo");if(this.required){this.validation=new e();var o=f["mui.fSelect.validateMsg"].replace("{title}",this.subject).replace("{n}",this.leastNItem);this.validation.addValidator("leastNItem",o,c.hitch(this,"doValidate"));this.set("validate","leastNItem")}},doValidate:function(r,q){if(q!=null&&q.type==="fSelect"){var p=(this.value!=""?this.value.split(";"):[]);if(p.length>=this.leastNItem){return true}else{var o=this.validation.getValidator("leastNItem");o.error=f["mui.fSelect.validateMsg"].replace("{title}",q.subject).replace("{n}",q.leastNItem);return false}}},_fillDataInfo:function(q,o){if(o){if(this.name==q.key){var p=[];for(var r=0;r<o.rows.length;r++){var s=o.rows[r];p.push(s.value)}this.set("value",p.join(";"));this._closeDialog(q)}}},_readOnlyAction:function(o){this.inherited(arguments);if(o){if(this._clickHandle){this.disconnect(this._clickHandle)}this._clickHandle=null}else{this._clickHandle=this.connect(this.domNode,"click",function(p){this.defer(function(){this._onClick(p)},320)})}},resizeTop:function(o){var r=o.htmlWdgts,s=0;var q=this.get("value").split(";");for(var p=0;p<r.length;p++){if(q[0]==r[p].value&&r[p].checked){if(r[p].checkboxNode.offsetTop<o.containerNode.clientHeight){break}else{if(this.contentNode.clientHeight-r[p].checkboxNode.offsetTop<o.containerNode.clientHeight){s=this.contentNode.clientHeight-o.containerNode.clientHeight}else{s=r[p].checkboxNode.offsetTop-(o.containerNode.clientHeight-r[p].checkboxNode.clientHeight)/2}}o.contentNode.scrollTop=s}}},_onClick:function(o){if(this.dialog==null){this.dialog=new b()}this.dialog.select({key:this.name,data:this.values,curIds:this.value,isMul:true,required:this.required,leastNItem:this.leastNItem,subject:this.subject})}});return m})},"sys/xform/mobile/controls/xformUtil":function(){define(["dijit/registry","mui/dialog/Tip","dojo/query","dojo/dom-class"],function(h,u,g,j){var n=0;function m(x){return v(l(o(x)))}function s(z,x){return v(f(o(z),o(x)))}function w(){return m("abc").toLowerCase()=="900150983cd24fb0d6963f7d28e17f72"}function l(x){return r(e(k(x),x.length*8))}function f(E,B){var C=k(E);if(C.length>16){C=e(C,E.length*8)}var z=Array(16),D=Array(16);for(var x=0;x<16;x++){z[x]=C[x]^909522486;D[x]=C[x]^1549556828}var A=e(z.concat(k(B)),512+B.length*8);return r(e(D.concat(A),512+128))}function v(D){try{n}catch(A){n=0}var B=n?"0123456789ABCDEF":"0123456789abcdef";var x="";var z;for(var C=0;C<D.length;C++){z=D.charCodeAt(C);x+=B.charAt((z>>>4)&15)+B.charAt(z&15)}return x}function o(C){var x="";var B=-1;var z,A;while(++B<C.length){z=C.charCodeAt(B);A=B+1<C.length?C.charCodeAt(B+1):0;if(55296<=z&&z<=56319&&56320<=A&&A<=57343){z=65536+((z&1023)<<10)+(A&1023);B++}if(z<=127){x+=String.fromCharCode(z)}else{if(z<=2047){x+=String.fromCharCode(192|((z>>>6)&31),128|(z&63))}else{if(z<=65535){x+=String.fromCharCode(224|((z>>>12)&15),128|((z>>>6)&63),128|(z&63))}else{if(z<=2097151){x+=String.fromCharCode(240|((z>>>18)&7),128|((z>>>12)&63),128|((z>>>6)&63),128|(z&63))}}}}}return x}function k(x){var z=Array(x.length>>2);for(var A=0;A<z.length;A++){z[A]=0}for(var A=0;A<x.length*8;A+=8){z[A>>5]|=(x.charCodeAt(A/8)&255)<<(A%32)}return z}function r(x){var z="";for(var A=0;A<x.length*32;A+=8){z+=String.fromCharCode((x[A>>5]>>>(A%32))&255)}return z}function e(x,D){x[D>>5]|=128<<((D)%32);x[(((D+64)>>>9)<<4)+14]=D;var z=1732584193;var A=-271733879;var B=-1732584194;var C=271733878;for(var G=0;G<x.length;G+=16){var E=z;var F=A;var H=B;var I=C;z=b(z,A,B,C,x[G+0],7,-680876936);C=b(C,z,A,B,x[G+1],12,-389564586);B=b(B,C,z,A,x[G+2],17,606105819);A=b(A,B,C,z,x[G+3],22,-1044525330);z=b(z,A,B,C,x[G+4],7,-176418897);C=b(C,z,A,B,x[G+5],12,1200080426);B=b(B,C,z,A,x[G+6],17,-1473231341);A=b(A,B,C,z,x[G+7],22,-45705983);z=b(z,A,B,C,x[G+8],7,1770035416);C=b(C,z,A,B,x[G+9],12,-1958414417);B=b(B,C,z,A,x[G+10],17,-42063);A=b(A,B,C,z,x[G+11],22,-1990404162);z=b(z,A,B,C,x[G+12],7,1804603682);C=b(C,z,A,B,x[G+13],12,-40341101);B=b(B,C,z,A,x[G+14],17,-1502002290);A=b(A,B,C,z,x[G+15],22,1236535329);z=i(z,A,B,C,x[G+1],5,-165796510);C=i(C,z,A,B,x[G+6],9,-1069501632);B=i(B,C,z,A,x[G+11],14,643717713);A=i(A,B,C,z,x[G+0],20,-373897302);z=i(z,A,B,C,x[G+5],5,-701558691);C=i(C,z,A,B,x[G+10],9,38016083);B=i(B,C,z,A,x[G+15],14,-660478335);A=i(A,B,C,z,x[G+4],20,-405537848);z=i(z,A,B,C,x[G+9],5,568446438);C=i(C,z,A,B,x[G+14],9,-1019803690);B=i(B,C,z,A,x[G+3],14,-187363961);A=i(A,B,C,z,x[G+8],20,1163531501);z=i(z,A,B,C,x[G+13],5,-1444681467);C=i(C,z,A,B,x[G+2],9,-51403784);B=i(B,C,z,A,x[G+7],14,1735328473);A=i(A,B,C,z,x[G+12],20,-1926607734);z=q(z,A,B,C,x[G+5],4,-378558);C=q(C,z,A,B,x[G+8],11,-2022574463);B=q(B,C,z,A,x[G+11],16,1839030562);A=q(A,B,C,z,x[G+14],23,-35309556);z=q(z,A,B,C,x[G+1],4,-1530992060);C=q(C,z,A,B,x[G+4],11,1272893353);B=q(B,C,z,A,x[G+7],16,-155497632);A=q(A,B,C,z,x[G+10],23,-1094730640);z=q(z,A,B,C,x[G+13],4,681279174);C=q(C,z,A,B,x[G+0],11,-358537222);B=q(B,C,z,A,x[G+3],16,-722521979);A=q(A,B,C,z,x[G+6],23,76029189);z=q(z,A,B,C,x[G+9],4,-640364487);C=q(C,z,A,B,x[G+12],11,-421815835);B=q(B,C,z,A,x[G+15],16,530742520);A=q(A,B,C,z,x[G+2],23,-995338651);z=a(z,A,B,C,x[G+0],6,-198630844);C=a(C,z,A,B,x[G+7],10,1126891415);B=a(B,C,z,A,x[G+14],15,-1416354905);A=a(A,B,C,z,x[G+5],21,-57434055);z=a(z,A,B,C,x[G+12],6,1700485571);C=a(C,z,A,B,x[G+3],10,-1894986606);B=a(B,C,z,A,x[G+10],15,-1051523);A=a(A,B,C,z,x[G+1],21,-2054922799);z=a(z,A,B,C,x[G+8],6,1873313359);C=a(C,z,A,B,x[G+15],10,-30611744);B=a(B,C,z,A,x[G+6],15,-1560198380);A=a(A,B,C,z,x[G+13],21,1309151649);z=a(z,A,B,C,x[G+4],6,-145523070);C=a(C,z,A,B,x[G+11],10,-1120210379);B=a(B,C,z,A,x[G+2],15,718787259);A=a(A,B,C,z,x[G+9],21,-343485551);z=p(z,E);A=p(A,F);B=p(B,H);C=p(C,I)}return Array(z,A,B,C)}function c(x,B,C,D,z,A){return p(t(p(p(B,x),p(D,A)),z),C)}function b(C,D,x,z,E,A,B){return c((D&x)|((~D)&z),C,D,E,A,B)}function i(C,D,x,z,E,A,B){return c((D&z)|(x&(~z)),C,D,E,A,B)}function q(C,D,x,z,E,A,B){return c(D^x^z,C,D,E,A,B)}function a(C,D,x,z,E,A,B){return c(x^(D|(~z)),C,D,E,A,B)}function p(z,A){var B=(z&65535)+(A&65535);var x=(z>>16)+(A>>16)+(B>>16);return(x<<16)|(B&65535)}function t(z,x){return(z<<x)|(z>>>(32-x))}return{parseXformName:function(B){var x=B.get("name");if(x==null||x==""){return null}var z=x.indexOf(".value(");if(z>-1){z=z+7}else{z=0}var A=x.lastIndexOf(")");if(A>-1&&(A+1)==x.length){A=A}else{A=x.length}x=x.substring(z,A);x=x.replace(/\.id/gi,"");x=x.replace(/\.name/gi,"");var D=x.lastIndexOf(".");if(D>-1){var C=x.match(/\.(\d+)\./g);C=C?C:[];if(C.length>0){x=x.replace(C[0],".")}}return x},getCalculationRowNo:function(x){if(x==null||x==""){return null}var z=x.indexOf(".value(");if(z>-1){z=z+7}else{z=0}var B=x.lastIndexOf(")");if(B>-1&&(B+1)==x.length){B=B}else{B=x.length}x=x.substring(z,B);x=x.replace(/\.id/gi,"");x=x.replace(/\.name/gi,"");var D=x.lastIndexOf(".");if(D>-1){var C=x.match(/\.(\d+)\./g);C=C?C:[];if(C.length>0){var A=C[0].substring(1,C[0].lastIndexOf("."))}return A}return null},parseName:function(C){var z=C.get("name");if(z==null||z==""){return null}var A=z.indexOf(".value(");if(A>-1){A=A+7}else{A=0}var B=z.lastIndexOf(")");if(B>-1&&(B+1)==z.length){B=B}else{B=z.length}var x=z.substring(A,B);x=x.replace(/\.id/gi,"");x=x.replace(/\.name/gi,"");return x},isInDetail:function(x){return this.hasParentClass(x,"detailTableContent")},isInStatisticTr:function(x){return this.hasParentClass(x,"detail_statistic")},hasParentClass:function(B,A){var z=B.domNode;if(z){var x=z.parentNode;while(x){if(j.contains(x,A)){return true}x=x.parentNode}}return false},isGroupMemWidget:function(A){if(A!=null&&A!=""){var B=["_single","_group"];for(var z=0;z<B.length;z++){var x=B[z];if(A.indexOf(x)>-1&&(A.indexOf(x)+x.length==A.length)){return true}}}return false},_getXformWidget:function(H,B,M,O,K,x){var E="";var A=B;if(/-fd(\w+)/g.test(B)){E=B.match(/-fd(\w+)/g)[0].replace("-","");B=B.match(/(\S+)-/g)[0].replace("-","");A=A.match(/(\S+)-/g)[0].replace("-",")")}K=K!=null?K:true;if(!H){H=document.forms[0]}var D=g("[widgetid]",H);var J=[];if(D.length>0){for(var L=0;L<D.length;L++){var N=h.byNode(D[L]);var F=false;if(K){var C;if(typeof(x)!="undefined"&&x==false){C=this.parseName(N)}else{C=this.parseXformName(N)}if(C!=null&&!this.isGroupMemWidget(N.get("name"))){F=C.indexOf(B)>-1;var G=false;if(/extendDataFormInfo.value/ig.test(A)){B=/\((\S+)\)/ig.exec(A)[1]}if(!F&&/_text/.test(B)&&(B.length-"_text".length==B.indexOf("_text"))){G=true;var z=/(\S+)_text/.exec(B)[1];F=C.indexOf(z)>-1}}}else{var P=N.get("name");F=(P!=null&&P!=""&&P.indexOf(B)>-1&&!this.isGroupMemWidget(P))?true:false;var G=false;if(/extendDataFormInfo.value/ig.test(A)){B=/\((\S+)\)/ig.exec(A)[1]}if(!F&&/_text/.test(B)&&(B.length-"_text".length==B.indexOf("_text"))){G=true;var z=/(\S+)_text/.exec(B)[1];F=P&&P.indexOf(z)>-1}}if(F){if(!O){J.push(N)}else{if(N.get("value")!=null&&N.get("value")!=""){if(E&&/Name/g.test(E)){J.push(N.get("curNames"))}else{if(G){J.push(N.get("text"))}else{var I=N.get("value");if("number"==N.get("datatype")){if(I.indexOf(",")>-1){I=I.replace(/[,]/g,"")}if(I.indexOf("%")>-1){I=I.replace(/%/,"")}}J.push(I)}}}}if(!M){break}}}}if(!M){return J.length>0?J[0]:null}else{return J}},getXformWidgetBlur:function(z,x){return this._getXformWidget(z,x,false,false,true)},getXformWidgetsBlur:function(z,x){return this._getXformWidget(z,x,true,false,true)},getXformWidgetsNoFilIndex:function(z,x){return this._getXformWidget(z,x,true,false,true,false)},getXformWidgetsFilIndex:function(z,x){return this._getXformWidget(z,x,true,false,true,true)},getXformWidget:function(z,x){return this._getXformWidget(z,x,false,false,false)},getXformWidgets:function(z,x){return this._getXformWidget(z,x,true,false,false)},getXformWidgetValues:function(A,x,z){return this._getXformWidget(A,x,true,true,(z!=null?z:true))},toMD5:function(x){return m(x)},buildInputParams:function(F,I,H){var D=[];for(var x in I){var N=I[x].fieldIdForm;if(!N){continue}var L=I[x]._required;var O=I[x].fieldNameForm;var G=I[x].fieldTypeForm||"";N=N.replace(/\$/g,"");var A=null;var C=false;if(N&&N.indexOf("fixed_")==0){A=[O]}else{if(N.indexOf(".")>=0){var M=F.match(/\.(\d+)\./g);M=M?M:[];var z=N.split(".")[0];if(M.length>0&&F.indexOf(z)>=0){N=N.replace(".",M[0]);A=this.getXformWidgetValues(g("#TABLE_DL_"+z)[0],N,false);C=true}else{var J=N.split(".")[1];A=this.getXformWidgetValues(g("#TABLE_DL_"+z)[0],J)}}else{A=this.getXformWidgetValues(null,N);if(A!=null&&A.length==0&&N=="fdId"){var E=[];E.push($("input[type=hidden][name=fdId]")[0].value);A=E}}}if(A!=null&&A.length==0){if(L=="1"){if(!H){u.fail({text:O+" 作为该执行条件时不能为空"})}return null}D.push({uuId:x,fieldIdForm:N,indetail:C,fieldValueForm:"",fieldTypeForm:G})}else{var K=true;for(var B=0;B<A.length;B++){if(A[B]){K=false}D.push({uuId:x,fieldIdForm:N,indetail:C,fieldValueForm:A[B],fieldTypeForm:G})}if(K&&L=="1"){u.fail({text:O+" 作为该执行条件时不能为空"});return null}}}return D},matchTime:function(B){var A=/^(20|21|22|23|[0-1]\d):[0-5]\d$/;var z=/^(20|21|22|23|[0-1]\d):[0-5]\d:[0-5]\d$/;var x=new RegExp(A);var C=new RegExp(z);if(x.test(B)||C.test(B)){return true}return false},matchDate:function(D){var C=/^[1-9]\d{3}\/(0[1-9]|1[0-2])\/(0[1-9]|[1-2][0-9]|3[0-1])$/;var B=/^[1-9]\d{3}\/(0[1-9]|1[0-2])$/;var z=/^(0[1-9]|1[0-2])\/(0[1-9]|[1-2][0-9]|3[0-1])$/;var x=new RegExp(C);var F=new RegExp(B);var E=new RegExp(z);var A=true;if(!x.test(D)&&!F.test(D)&&!E.test(D)){return false}return true},formatDateVal:function(E,D){var B=E.type;var A=(B==="datetime"||B==="date"||B==="time");if(A){if(D.match(RegExp(/-/ig))){D=D.replace(/-/ig,"/")}else{if(D.match(RegExp(/[年月日]/g))){D=D.replace(/[年月]/g,"/");D=D.replace(/[日]/g,"")}else{if(D.match(RegExp(/:/g))||D.match(RegExp(/\//g))){}else{if(D&&D.length!=0&&D.length<10){D=D.substring(0,4)+"/"+D.substring(4,6)+"/"+D.substring(6,8)}else{if(D&&typeof D=="string"&&D.length>10&&/^[0-9]*$/.test(D)){D=new Date(parseInt(D))}}}}}var C="";if(E&&E.dimension){if(E.dimension=="yearMonthDay"){C=""}else{C=E.dimension}}if(this.matchDate(D)){D=D+" 00:00:00"}else{if(this.matchTime(D)){var z=new Date();var x=D.split(":");if(x.length==2){D=z.setHours(x[0],x[1])}if(x.length>2){D=z.setHours(x[0],x[1],x[2])}}}if(B){B=B.replace("[]","");if(D&&D.length!=0){if(this.isIOS()){if(typeof D=="string"&&D.indexOf(".")>-1){D=D.substring(0,D.indexOf("."))}}D=new Date(D);D=window.$form.str(D,B)}}}return D},isIOS:function(){var x=navigator.userAgent.toLowerCase();if(/(iPhone|iPad|iPod|iOS)/i.test(x)){return true}return false},setXformWidgetValues:function(H,z,x){if(H){var E=x;if(/-fd(\w+)/g.test(E)){var A="";A=E.match(/-fd(\w+)/g)[0].replace("-fd","").toLowerCase();E=E.match(/(\S+)-/g)[0].replace("-",".")+A}if(H.declaredClass=="mui.form.Address"||H.declaredClass=="sys.xform.mobile.controls.NewAddress"){if(z instanceof Array){H.set("curIds",z[0]);H.set("curNames",(z[1]!=null?z[1]:z[0]))}else{if(E){if(E.indexOf(".id")>-1){H.set("curIds",z);H.buildValue(H.cateFieldShow)}else{if(E.indexOf(".name")>-1){H.set("curNames",z)}}}}}else{if(H.declaredClass=="mui.form.RadioGroup"){var F=H.domNode.getAttribute("datatype");var D=H.getChildren();for(var C=0;C<D.length;C++){if((D[C].value==z||(F&&F=="Double"&&parseFloat(D[C].value)==parseFloat(z)))&&D[C]._onClick){D[C]._onClick()}}}else{if(H.declaredClass=="mui.form.CheckBoxGroup"){var D=H.getChildren();var G=z.split(";");for(var C=0;C<D.length;C++){if(D[C]._onClick){if(D[C].value&&G.indexOf(D[C].value)>-1){D[C].checked=false}else{D[C].checked=true}D[C]._onClick()}}}else{if(H.declaredClass=="mui.form.Select"){var B=z;if(!H.mul){var G=z.split(";");if(G.length>1){B=""}}if(H.textName&&x.indexOf("_text")>-1&&H.textName.indexOf(x)>-1){H.set("text",B)}else{H.set("value",B)}}else{if(H.textName&&x.indexOf("_text")>-1&&H.textName.indexOf(x)>-1){H.set("text",z);if(H.declaredClass=="sys.xform.mobile.controls.RelationChoose"){H.buildTextItem({})}}else{z=this.formatDateVal(H,z);H.set("value",z)}}}}}}}}})},"sys/xform/mobile/controls/RelationEvent":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/ready","dojo/dom-style","dijit/_WidgetBase","sys/xform/mobile/controls/xformUtil","dijit/registry","dojo/request","mui/util","mui/dialog/Tip","sys/xform/mobile/controls/EventDataDialog","dojo/query","sys/xform/mobile/controls/RelationEventBase","dojo/on","dojo/touch","dojo/dom-class"],function(h,m,p,j,c,f,a,e,i,r,q,n,b,l,g,o){var k=h("sys.xform.mobile.controls.RelationEvent",[c,b],{bindDom:null,bindEvent:null,buildRendering:function(){this.inherited(arguments);j.set(this.domNode,"display","none");if(this.bindDom&&this.bindDom.indexOf(".")>-1){this._bindDom=this.bindDom;this.bindDom=this._bindDom.substr(this._bindDom.lastIndexOf(".")+1);this._inDetailTable=true}if(this.name.indexOf(".")>-1){this.identy=f.parseXformName(this)}},postCreate:function(){this.inherited(arguments);if(this.status==="edit"||"click"!=this.bindEvent){if("change"==this.bindEvent){var s=this;if(this._inDetailTable){this.defer(function(){s.subscribe("/mui/form/valueChanged","_execChange")},500)}else{s.subscribe("/mui/form/valueChanged","_execChange")}}else{if("click"==this.bindEvent){if(this._inDetailTable!=true){this._bindClick()}else{this.subscribe("/mui/form/valueChanged","addRowBind");var s=this;setTimeout(function(){if(s.identy&&s.identy.indexOf(".")>-1){var t=n(s.domNode).parents("tr[kmss_iscontentrow='1']");if(t.length>0){var u=t[0];s._bindClick(u)}}else{s._bindClick()}},0)}}else{if("relation_event_setvalue"==this.bindEvent){var s=this;$(document).bind("relation_event_setvalue",function(t,u){s._execSetValue(u)})}}}this.subscribe("/sys/xform/event/selected","_fillDataInfo");this.subscribe("/sys/xform/event/nextpage","_getNextDataInfo");this.subscribe("/sys/xform/event/cancel","_clearDataInfo")}},startup:function(){this.inherited(arguments)},_execChange:function(s,u){if(s){var v=f.parseXformName(s);if(v!=null&&v!=""&&s.showStatus!="view"){var z=this.bindDom;if(z){var w=z.split(";");for(var t=0;t<w.length;t++){var x=w[t];if(x!=null&&x!=""){if(/-fd(\w+)/g.test(x)){x=x.match(/(\S+)-/g)[0].replace("-","")}x=x.replace(/_text$/g,"");if(v.indexOf(x)>-1){this.execEvent(s.get("name"));break}}}}}}},addRowBind:function(s,t){if(s==null){if(t&&t.row){if("click"==this.bindEvent){this._bindClick(t.row)}}}},_bindClick:function(t){var s=this;if(this._inDetailTable==true){this._inDetailTableControl(t,s)}else{if(s.identy&&s.identy.indexOf(".")<=-1){this.subscribe("parser/done",function(){var u=f.getXformWidgetsBlur(t,s.bindDom);if(u.length>0){m.forEach(u,function(v){s.connect(v.domNode,"click",function(){s._execClick(v)})})}})}else{this._inDetailTableControl(t,s)}}},_inDetailTableControl:function(u,s){var t=f.getXformWidgetsBlur(u,s.bindDom);if(t.length>0){m.forEach(t,function(w){var v=w.inputNode||w.domNode;s.connect(v,"click",function(x){x.stopPropagation();v.blur&&v.blur();s._execClick(w)})})}},_execSetValue:function(s){if(this.name.indexOf(s)>-1){return}if(this.bindDom.indexOf(s)>-1){this.execEvent(this.bindDom)}}});return k})},"sys/xform/mobile/controls/RelationCommonBase":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-prop","mui/form/_FormBase","sys/xform/mobile/controls/xformUtil","dojo/request","mui/util","mui/dialog/Tip","mui/device/device","mui/i18n/_i18n!sys/xform/mobile/mui-xform"],function(i,e,b,m,h,g,j,n,a,c){var l=i("sys.xform.mobile.controls.RelationCommonBase",[m],{inputParams:null,outputParams:null,source:null,funKey:null,mul:false,textName:null,_working:false,_inDetailTable:null,needToUpdateAttInDetail:["name","textName"],buildRendering:function(){this.inherited(arguments);this.inputParams=this._preDealExpression(this.inputParams);this.outputParams=this._preDealExpression(this.outputParams);this.source=this._preDealExpression(this.source);this.funKey=this._preDealExpression(this.funKey);this.textName=this._preDealExpression(this.textName);this.values=[{value:this.value,text:this.text}];if(/\.(\d+)\./g.test(this.name)){this._inDetailTable=true}else{this._inDetailTable=false}},execFunByDom:function(t,o){var s=t.evtObjName;var r=t.bindDoms;var v;if(this._inDetailTable==true){v=this.name.match(/\.(\d+)\./g);v=v?v:[]}if(s.indexOf(".value(")>-1){if(/\.(\d+)\./g.test(s)){s=s.match(/\((\w+)\.(\d+)\.(\w+)/g)[0].replace("(","")}else{s=s.match(/\((\w+)/g)[0].replace("(","")}}else{return}if(s!=null&&s!=""){if(r){var u=r.split(";");for(var q=0;q<u.length;q++){var p=u[q];if(/-fd(\w+)/g.test(p)){p=p.match(/(\S+)-/g)[0].replace("-","")}if(this._inDetailTable==true){p=p.replace(".",v[0])}if(s==p){o();break}}}}},listenInputWgt:function(p,q,s){if(p){var r=p.get("name");if(r==null||r==""){return}var o=this;this.execFunByDom({evtObjName:r,bindDoms:s},function(){o.queryData()})}},queryData:function(w,p){if(this._working==true){return}this._working=true;var v={_source:this.source,_key:this.funKey};v.ins=[];var x={};if(this.inputParams!=null&&this.inputParams!=""){x=JSON.parse(this.inputParams.replace(/quot;/g,'"'))}var C={};if(this.outputParams!=null&&this.outputParams!=""){C=JSON.parse(this.outputParams.replace(/quot;/g,'"'))}var s=C.hiddenValue.uuId;var t=C.textValue.uuId;var o=[];var r=(s+t).match(/\$[^\$]+\$/g);r=r?r:[];var q={};for(var u=0;u<r.length;u++){var z=r[u].replace(/\$/g,"");if(q[z]){continue}q[z]=true;o.push({uuId:z})}v.outs=JSON.stringify(o);var B=h.buildInputParams(this.get("name"),x,w);if(!B){this._working=false;return}v.ins=JSON.stringify(B);v.conditionsUUID=h.toMD5(v.ins+""+v._key);if(this.inputParamValues==v.ins){return}this.values=[];this.inputParamValues=v.ins;var A=this;g.post(j.formatUrl("/sys/xform/controls/relation.do?method=run"),{data:v,handleAs:"json",sync:true}).then(function(H){if(!H){H={};H.outs=[]}if(H.outs){if(a&&a.getClientType()==11){for(var G=0;G<H.outs.length;G++){for(var F=0;F<H.outs.length-G-1;F++){if(H.outs[F].rowIndex>H.outs[F+1].rowIndex){var E=H.outs[F];H.outs[F]=H.outs[F+1];H.outs[F+1]=E}}}}else{H.outs.sort(function(K,J){return K.rowIndex-J.rowIndex})}}var D=f(H,s);var I=f(H,t);A.addItems(D,I,w);A._working=false},function(){n.fail({text:c["mui.eventbase.errorMsg"]})});if(p){this._working=false}},_preDealExpression:function(o){var p=e.create("div",{innerHTML:o});return b.get(p,"textContent")}});function k(q,o,p){p=p.replace(/\$[^\$]+\$/g,function(u){for(var r in o){if(o[r].length<=q){continue}var t=o[r][q];var s=t.uuId?t.uuId:t.fieldId;if(u=="$"+s+"$"){return t.fieldValue}}return""});return p}function f(x,u){var s=[];var w=0;var t=0;var v=[];if(!x||!x.outs){return s}for(var p=0;p<x.outs.length;p++){var q=x.outs[p];var o=q.uuId?q.uuId:q.fieldId;if(!s[o]){t++;s[o]=[]}s[o].push(q);if(u.indexOf("$"+o+"$")!=-1&&s[o].length>w){w=s[o].length}}var r=[];for(var p=0;p<w;p++){r.push(k(p,s,u))}return r}return l})},"sys/xform/mobile/controls/DetailTableAddButton":function(){define(["dojo/_base/declare","mui/tabbar/TabBarButton","dojo/dom-construct","mui/dialog/Dialog","mui/device/adapter","dojo/_base/lang","mui/util","dojo/dom-attr","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/query","dojo/dom-style"],function(e,l,c,h,k,a,f,j,b,i,g){return e("sys.xform.mobile.controls.DetailTableAddButton",[l],{icon1:"fontmuis muis-new",baseClass:"muiDetailTableAdd",startup:function(){this.inherited(arguments);var n=this.domNode.getAttribute("_hideIcon");if(n=="true"){var m=i(".mblTabBarButtonIconArea",this.domNode);if(m.length==1){g.set(m[0],"display","none")}}}})})},"sys/xform/mobile/controls/relevance/RelevanceSelection":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/_base/array","dojox/mobile/ScrollableView","dojo/dom","dojo/dom-construct","dojo/dom-style","dojo/dom-class","dojo/request","dojo/topic","mui/util","mui/dialog/Tip","mui/iconUtils","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(h,g,l,m,f,c,k,n,e,j,i,p,b,a){var o=h("sys.xform.mobile.controls.relevance.RelevanceSelection",[g],{curIds:null,curNames:null,baseClass:"muiCateSec muiCateSecBottom",cateSelArr:[],itemPrefix:"_CateSecItem_",key:null,buildRendering:function(){this.inherited(arguments);this.cateSelArr=[];this.containerNode=c.create("div",{className:"muiCateSecContainer"},this.domNode);this.leftArea=c.create("div",{className:"muiCateSecLeft"},this.containerNode);this.view=new m({scrollBar:false,threshold:100,scrollDir:"h",dirLock:true});this.leftArea.appendChild(this.view.domNode);this.rightArea=c.create("div",{className:"muiCateSecRight"},this.containerNode);this.buttonNode=c.create("span",{className:"muiCateSecBtn muiCateSecBtnDis",innerHTML:a["mui.button.ok"]},this.rightArea)},postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/selected","_addSelItme");this.subscribe("/mui/category/unselected","_delSelItem")},startup:function(){if(this._started){return}this.inherited(arguments);this.view.startup();this._initSelection()},destroy:function(){this.inherited(arguments);if(this.view.destroy){this.view.destroy();delete this.view}},_subSelItem:function(){window._curIds="-";if(this.cateSelArr.length>0){j.publish("/sys/xform/relevance/main/submit",this,this._calcCurSel())}else{p.tip({icon:"mui mui-warn",text:a["mui.category.select.one"]})}},_initSelection:function(){if(this.curIds&&this.curIds!="null"){var s=this.curIds.split(";");var v=this.curSubjects.split(";");var r=this.curFdModelNames.split(";");var u=this.curIsCreators.split(";");for(var q=0;q<s.length;q++){var t={};t.fdId=s[q];t.label=v[q];t.fdModelName=r[q];t.isCreator=u[q];this._addSelItme(this,t)}}},_buildSelItem:function(s){var t=c.create("div",{id:this.itemPrefix+s.fdId,className:"muiCateSecItem"});var r=c.create("div",{className:"muiCateSecItemIcon"},t);var q=c.create("div",{className:"muiCateIcon"},r);this.buildIcon(q,s);c.create("div",{className:"muiCateSecItemLabel",innerHTML:s.label},t);this.connect(t,"click",function(u){this._delSelItem(this,s);j.publish("/mui/category/cancelSelected",this,s)});return t},buildIcon:function(q,r){b.setIcon("mui mui-file-text",null,null,null,q)},_checkInSelArr:function(s){var q=false;for(var r=0;r<this.cateSelArr.length;r++){if(this.cateSelArr[r].fdId==s){q=true;break}}return q},_addSelItme:function(r,q){if(r.key==this.key){if(q){if(!this._checkInSelArr(q.fdId)){this.cateSelArr.push(q);if(!this.itemContainer){this.itemContainer=c.create("div",{className:"muiCateSecItems"},this.view.containerNode)}}}this._resizeSelection()}},_delSelItem:function(r,q){if(r.key==this.key){if(q&&q.fdId){for(var s=0;s<this.cateSelArr.length;s++){if(this.cateSelArr[s].fdId==q.fdId){this.cateSelArr.splice(s,1);c.destroy(f.byId(this.itemPrefix+q.fdId));break}}this._resizeSelection()}}},_resizeSelection:function(){var r=0;if(this.itemContainer){var q=this.cateSelArr.length;if(q>0){this.buttonNode.innerHTML=a["mui.button.ok"]+"("+q+")";this.buttonNode.className="muiCateSecBtn";if(this.subHandle==null){this.subHandle=this.connect(this.buttonNode,"click","_subSelItem")}}else{k.set(this.itemContainer,{width:"100%"});this.buttonNode.innerHTML=a["mui.button.ok"];this.buttonNode.className="muiCateSecBtn muiCateSecBtnDis";if(this.subHandle){this.disconnect(this.subHandle);this.subHandle=null}}}if(this.view.resize){this.view.resize()}if(this.view.scrollTo){this.view.scrollTo({y:0,x:r})}j.publish("/mui/category/selChanged",this,this._calcCurSel())},_calcCurSel:function(){var q={curIds:null,subjects:null,fdModelNames:null,isCreators:null,key:this.key};if(this.cateSelArr.length>0){var s="";var u="";var r="";var t="";l.forEach(this.cateSelArr,function(v){s+=";"+v.fdId;u+=";"+v.label;r+=";"+v.fdModelName;t+=";"+v.isCreator});if(s!=""){s=s.substring(1);u=u.substring(1);r=r.substring(1);t=t.substring(1);q.curIds=s;q.subjects=u;q.fdModelNames=r;q.isCreators=t}}return q}});return o})},"sys/attend/map/mobile/resource/js/LocationStrategy":function(){define([],function(){var a={bmap:"sys/attend/map/mobile/resource/js/baiduMap/BaiduMap",amap:"sys/attend/map/mobile/resource/js/aMap/AMap",qmap:"sys/attend/map/mobile/resource/js/qqMap/QQMap"};return a})},"sys/xform/mobile/controls/RelationRule":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom","dojo/query","sys/xform/mobile/controls/xformUtil","dojo/json","sys/xform/mobile/controls/relationRule/RelationRuleAttrChange","mui/dialog/Tip","dojo/ready","dojo/topic"],function(declare,WidgetBase,dom,query,xUtil,json,RelationRuleAttrChange,Tip,ready,topic){var claz=declare("sys.xform.mobile.controls.RelationRule",[WidgetBase],{bindDomId:null,bindEvent:null,destDomIds:null,opsStr:null,postCreate:function(){this.inherited(arguments);if("change"==this.bindEvent){this.subscribe("/mui/form/valueChanged","controlsChange")}else{if("relation_rule_event"==this.bindEvent){var self=this;$(document).bind("relation_rule_event",function(event,controlId){self.controlsChange(controlId)})}}},startup:function(){this.inherited(arguments);var self=this;ready(function(){self.defer(function(){if(window.__validateInit==true){self.init()}},30)})},init:function(){var bindDomId=this.bindDomId;if(/(\w+)\.(\w+)/g.test(bindDomId)){var row=query(this.domNode).parents("tr[kmss_iscontentrow='1']");if(row.length>0){this.execAttrChange("01",{row:row[0]})}else{this.execAttrChange("00")}}else{this.execAttrChange("00")}},controlsChange:function(srcObj,arguContext){var self=this;if(srcObj){var evtObjName;var cIndex="-1";if(typeof(srcObj)=="string"){if(/(\w+.\d.\w+)/g.test(evtObjName)){var ids=srcObj.split(".");if(ids.length>=3){cIndex=ids[1];evtObjName=ids[0]+ids[2]}}else{evtObjName=srcObj}}else{evtObjName=xUtil.parseXformName(srcObj)}if(evtObjName!=null&&evtObjName!=""){var bindDomId=this.bindDomId;if(bindDomId){var domArray=bindDomId.split(";");for(var i=0;i<domArray.length;i++){var bindDomId=domArray[i];if(/-fd(\w+)/g.test(bindDomId)){bindDomId=bindDomId.replace(/-fd(\w+)/g,"")}if(evtObjName.indexOf(bindDomId)>-1){if((typeof(srcObj)=="object"&&xUtil.isInDetail(srcObj||{}))||(evtObjName&&/(\w+.\w+)/g.test(evtObjName)&&evtObjName.indexOf(".")>=0)){var detailTableId="TABLE_DL_"+evtObjName.split(".")[0];if(typeof(srcObj)=="string"&&cIndex=="-1"){query(">tbody>tr",dom.byId(detailTableId)).forEach(function(row){arguContext.row=row;self.execAttrChange("00",arguContext)})}else{var rowIndex=null;if(typeof(srcObj)=="string"){rowIndex=cIndex}else{rowIndex=xUtil.getCalculationRowNo(srcObj.name||srcObj.valueField||srcObj.idField||(srcObj.params&&srcObj.params.valueField))}if(rowIndex||rowIndex==0){var rows=query(">tbody>tr",dom.byId(detailTableId)).at(parseInt(rowIndex)+1);if(rows&&rows.length>0){arguContext.row=rows[0];this.execAttrChange("00",arguContext)}else{this.execAttrChange("00")}}else{this.execAttrChange("00")}}}else{this.execAttrChange("00")}break}}}}}else{if(srcObj==null){if(arguContext&&arguContext.row){this.execAttrChange("01",arguContext)}}}},execAttrChange:function(trrigleType,_arguContext){setTimeout(function(){var destDomIds=this.destDomIds;var destIdArray=destDomIds.split(";");var assemblyArray=[];if(!trrigleType){trrigleType="00"}var _self=this;for(var i=0;i<destIdArray.length;i++){var destId=destIdArray[i];var area="";var arguContext=_arguContext;if(/(\w+)\.(\w+)/g.test(destId)){var destArray=destId.split(".");var detailTableId=destArray[0];destId=destArray[1];if(trrigleType=="00"){area="TABLE_DL_"+detailTableId}else{if(trrigleType=="01"){if(arguContext&&arguContext.tableId&&arguContext.tableId!=detailTableId){continue}if(arguContext){area=arguContext.row}}}}else{arguContext=null}var wgts=xUtil.getXformWidgetsBlur(area,destId);if(wgts){var wgtIndex=null;if(arguContext&&arguContext.row){wgtIndex=arguContext.row.rowIndex-1}for(var j=0;j<wgts.length;j++){var name=wgts[j].get("name");if(name==null||name==""||(wgtIndex!=null&&name.indexOf("."+wgtIndex+".")<0)){continue}var baseField=$form(name);if(!baseField.target.widget&&!baseField.target.root){if(name.indexOf(".id")>-1){name=name.replace(/\.id/g,"");baseField=$form(name)}}assemblyArray.push(baseField)}}}if(this.opsStr&&this.opsStr!=""){var ops=json.parse(this.opsStr.replace(/quot;/g,'"'));for(var j=0;j<ops.length;j++){var op=ops[j];var condition=op.cndId;condition=condition.replace(/\$(\w+)\$/g,function($1,$2){var val=xUtil.getXformWidgetValues(null,$2,true);if(_self.isNumber(val)){return Number(val)}return"'"+val+"'"});var isContinue=false;condition=condition.replace(/\$(\w+.\w+)\$/g,function($1,$2){if($2.indexOf(".")>=0&&_arguContext&&_arguContext.row){var rowIndex=_arguContext.row.rowIndex-1;$2=$2.split(".")[0]+"."+rowIndex+"."+$2.split(".")[1];var val=xUtil._getXformWidget(null,$2,true,true,true,false);if(_self.isNumber(val)){return Number(val)}return"'"+val+"'"}else{isContinue=true}return $2});if(isContinue){continue}var condition=this.htmlEscape(condition);try{if(!eval(condition)){continue}}catch(e){console.log("公式条件无法通过："+condition);continue}for(var i=0;i<assemblyArray.length;i++){this.__fixMaxLevel(assemblyArray[i]);var relationRuleAttrChange=new RelationRuleAttrChange(assemblyArray[i]);relationRuleAttrChange.execRequired(op.required);if(relationRuleAttrChange.isContainedByRightControl()==false){relationRuleAttrChange.execReadonly(op.readonly)}relationRuleAttrChange.execDisplay(op.display)}}topic.publish("/mui/list/resize",this);topic.publish("/mui/relationRule/attrChange",this)}}.bind(this),0)},isNumber:function(value){var number=Number.isNaN||function(value){return(typeof value)==="number"&&window.isNaN(value)};return !number(Number(value))},__fixMaxLevel:function(baseField){if(baseField&&baseField.target){if(baseField.target.cache.type=="detailSummary"){if(!baseField.target.widget.calcNode){baseField.target.widget=baseField.target.widget.getParent()}if(baseField.target.cache.maxLevel==0&&baseField.target.widget.edit){baseField.target.cache.maxLevel=2}}}},htmlEscape:function(str){if(!str){return str}str=str.replace(/&amp;/g,"&");str=str.replace(/&#34;/g,'"');str=str.replace(/&#39;/g,"'");return str}});return claz})},"sys/xform/mobile/controls/NewAddress":function(){define(["dojo/_base/declare","mui/form/Address","sys/xform/mobile/controls/xformUtil","dojo/query","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/dom-construct","dojo/dom-style","dojo/topic","dojo/ready","mui/util"],function(e,h,c,j,a,b,i,g,l,f){var k=e("sys.xform.mobile.controls.NewAddress",[h],{needToUpdateAttInDetail:["idField","nameField","key"],scope:"",scope_id:"",scopeType:"",controlId:"",outputParams:"",autoload:"false",_inDetailTable:false,deptLimit:"",tipMsg:a["mui.form.please.select"],dataUrl:"/sys/organization/mobile/address.do?method=addCustomList",searchUrl:"/sys/organization/mobile/address.do?method=searchList&keyword=!{keyword}&orgType=!{orgType}&deptLimit=!{deptLimit}",isEco:false,buildRendering:function(){if(/\.(\d+)\./g.test(this.get("name"))){this._inDetailTable=true}else{this._inDetailTable=false}if(this.scope=="22"||this.scope=="33"||this.scope=="44"||this.scope=="55"){this.dataUrl+="&scope="+this.scope+"&scopeType="+this.scopeType+"&orgType="+encodeURIComponent(this.type);if(this.scope=="55"){this.dataUrl+="&deptLimit=!{deptLimit}"}this.searchUrl=this.dataUrl+"&keyword=!{keyword}";if(this.isMul){this.jsURL="/sys/xform/mobile/controls/newAddress/address_mul.js!"}else{this.jsURL="/sys/xform/mobile/controls/newAddress/address_sgl.js!"}}else{this.isNew=true;this.dataUrl="/sys/organization/mobile/address.do?method=addressList&parentId=!{parentId}&orgType=!{selType}&deptLimit=!{deptLimit}&maxPageSize=!{maxPageSize}"}this.inherited(arguments)},_setIsMulAttr:function(m){if(this.scope=="22"||this.scope=="33"||this.scope=="44"||this.scope=="55"){this._set("isMul",m);if(this.isMul){this.jsURL="/sys/xform/mobile/controls/newAddress/address_mul.js!"}else{this.jsURL="/sys/xform/mobile/controls/newAddress/address_sgl.js!"}}else{this.inherited(arguments)}},startup:function(){this.inherited(arguments);if((this.right=="edit")&&this.autoload&&this.autoload=="true"){var m=this;l(function(){m.defer(function(){m.setOutputParams()},30)})}if(this.right=="edit"){var o=this.type;var p=o.split("_").length-1;if(this.outputParams!=null&&this.outputParams!=""&&p==2){this.subscribe(this.EVENT_VALUE_CHANGE,"_onValueChange")}}else{this.disconnect(this.domNodeOnClickEvent)}if(this.isFormulaLoad){this.subscribe(this.EVENT_VALUE_CHANGE,"_clearValue")}},buildValue:function(m){this.inherited(arguments);if(this.muiCategoryAddNode){if(this.edit&&(!this.curIds||this.isMul)){i.set(this.muiCategoryAddNode,"display","inline-block")}else{i.set(this.muiCategoryAddNode,"display","none")}}g.publish("/mui/list/resize",this)},_selectCate:function(){this._buildNewAddressValue();this.inherited(arguments)},_buildNewAddressValue:function(){if(this.scope=="44"){var m=this._setAddressParam();this.dataUrl="/sys/organization/mobile/address.do?method=addCustomList&scope="+this.scope+"&scopeType="+this.scopeType+"&orgType="+encodeURIComponent(this.type)+"&"+m;this.searchUrl=this.dataUrl+"&keyword=!{keyword}"}},_setAddressParam:function(){if(this.scopeType=="formula"&&this.scope_id!=""&&this.scope_id!=null){var t=this.scope_id.split(";");var p={};var w=this.get("name").match(/\.(\d+)\./g);if(w!=null){var n=this.get("name").match(/\((\w+)\./g)[0].replace("(","").replace(".","")}for(var q=0;q<t.length;q++){var x=[];if(t[q].indexOf(".")>-1&&this._inDetailTable){var A="";var r=t[q];if(/_text/.test(r)&&(r.length-"_text".length==r.indexOf("_text"))){r=r.replace(".",w);x.push(j("[name*='"+r+"']").val())}else{A=c.getXformWidget("TABLE_DL_"+n,t[q].replace(".",w));if(A.declaredClass=="mui.form.Address"||A.declaredClass=="sys.xform.mobile.controls.NewAddress"){x.push(A.curIds);x.push(A.curNames)}else{x.push(A.value)}}}else{if(t[q].indexOf(".")<0&&!this._inDetailTable){var z="";var r=t[q];if(/_text/.test(r)&&(r.length-"_text".length==r.indexOf("_text"))){x.push(j("[name*='"+r+"']").val())}else{z=c.getXformWidgetsBlur(null,t[q]);for(var o=0;o<z.length;o++){if(z[o].declaredClass=="mui.form.Address"||z[o].declaredClass=="sys.xform.mobile.controls.NewAddress"){x.push(z[o].curIds);x.push(z[o].curNames)}else{x.push(z[o].value)}}}}}if(!x||x.length==0){x="null"}p[t[q]]=x}}var m=new Array();for(filedId in p){if(p[filedId]!="null"){m.push(encodeURIComponent(filedId)+"="+encodeURIComponent(p[filedId]))}}m.push("modelId="+encodeURIComponent(_xformMainModelId));m.push("modelName="+encodeURIComponent(_xformMainModelClass));var v=document.getElementsByName("extendDataFormInfo.extendFilePath")[0];if(v){var u=v.value;m.push("extendFilePath="+encodeURIComponent(u))}var s="";if(this._inDetailTable){var w=this.get("name").match(/\.(\d+)\./g);var n=this.get("name").match(/\((\w+)\./g)[0].replace("(","").replace(".","");s=n+w+this.controlId}else{s=this.controlId}m.push("fdControlId="+encodeURIComponent(s));return m.join("&")},_onValueChange:function(m,n){if(m&&m==this){this.setOutputParams()}},setOutputParams:function(){var m=this;$.ajax({url:Com_Parameter.ContextPath+"sys/xform/controls/address.do?method=getInfos&orgType="+encodeURIComponent(m.type)+"&id="+m.curIds+"&outputParams="+encodeURIComponent(m.outputParams)+"&fdControlId="+m.controlId,type:"GET",async:true,success:function(v){if(v&&v.results){var t=v.fdControlId;var r=v.results;for(var q in r){var o="";var p=r[q];if(p.length>0){for(var s=0;s<p.length-1;s++){o+=p[s].fd+";"}o+=p[p.length-1].fd}var u=m.get("name").match(/\.(\d+)\./g);if(u!=null){var n=m.get("name").match(/\((\w+)\./g)[0].replace("(","").replace(".","")}if(q.indexOf(".")>-1&&m._inDetailTable){q=q.replace(".",u);var x=c.getXformWidget("TABLE_DL_"+n,q);m._filedSetValue(x,o,q)}else{if(q.indexOf(".")<0&&!m._inDetailTable){var w=c.getXformWidgetsBlur(null,q);for(var s=0;s<w.length;s++){m._filedSetValue(w[s],o,q)}}else{if(q.indexOf(".")>-1&&!m._inDetailTable){continue}else{if(q.indexOf(".")<0&&m._inDetailTable){}}}}}}},dataType:"json"})},_filedSetValue:function(q,p,r){if(q){if(q.declaredClass=="mui.form.Address"||q.declaredClass=="sys.xform.mobile.controls.NewAddress"){if(p instanceof Array){q.set("curIds",p[0]);q.set("curNames",p[1]!=null?p[1]:p[0])}else{q.set("curIds",p);q.set("curNames",p)}}else{if(q.declaredClass=="mui.form.RadioGroup"){var o=q.getChildren();for(var m=0;m<o.length;m++){if(o[m].value==p&&o[m]._onClick){o[m]._onClick()}}}else{if(q.declaredClass=="mui.form.CheckBoxGroup"){var o=q.getChildren();var n=p.split(";");for(var m=0;m<o.length;m++){if(o[m]._onClick){if(o[m].value&&n.indexOf(o[m].value)>-1){o[m].checked=false}else{o[m].checked=true}o[m]._onClick()}}}else{q.set("value",p)}}}}else{if(this.textName&&r.indexOf("_text")>-1&&this.textName.indexOf(r)>-1){this.set("text",p)}}},_clearValue:function(o,m){if(o!=null&&this!=o&&this.isFormulaLoad){var n=c.parseName(o);if(n!=null&&n!=""&&this._isRelationControl(n)){this.set("curNames","");this.set("curIds","");j(".muiAddressOrg",this.domNode).remove()}}},_isRelationControl:function(o){var r=c.isInDetail(this);var s=this.scope_id;var p=c.parseName(this);var n=false;if(/\.(\d+)\./g.test(p)){if(/\.(\d+)\./g.test(o)){var q=p.match(/\.(\d+)\./g)[0];var m=o.match(/\.(\d+)\./g)[0];if(q==m){if(s.indexOf(o.replace(m,"."))>-1){n=true}}}else{if(s.indexOf(o)>-1){n=true}}}else{if(r){var t=o.match(/\.(\d+)\./g);t=t?t:[];if(t.length>0){o=o.replace(t[0],".")}if(s.indexOf(o)>-1){n=true}}else{o=o?o.replace(/\.(\d+)\./g,"."):o;if(s.indexOf(o)>-1){n=true}}}return n},getText:function(){var o=[];if(this.curNames!=null&&this.curNames!=""){var m=this.curNames.split(";");for(var n=0;n<m.length;n++){o.push(m[n])}}return o.join(";")}});return k})},"sys/xform/mobile/controls/relevance/RelevancePath":function(){define(["dojo/_base/declare","mui/category/CategoryPath","dojo/dom-construct","dojo/topic","dojo/dom-style","dojo/request","dojo/_base/array","mui/util","dojox/mobile/_ScrollableMixin","mui/i18n/_i18n!sys/xform/mobile/mui-xform","dojo/parser"],function(g,l,c,h,j,e,k,i,f,b,a){var m=g("sys.xform.mobile.controls.relevance.RelevancePath",[l,f],{scrollDir:"h",modelName:null,isCategory:true,detailUrl:"/sys/xform/controls/relevance.do?method=pathList&cateId=!{curId}&fdKey=!{fdKey}",_initPath:function(){if(this.domNode.parentNode){var n;if(this.height==="inherit"){if(this.domNode.parentNode){n=this.domNode.parentNode.offsetHeight+"px"}}else{if(this.height){n=this.height}}j.set(this.domNode,{height:n,"line-height":n})}this._chgHeaderInfo(this,{fdId:this.curId});h.publish("/mui/category/changed",this,{fdId:this.curId,isBase:this.isBase,fdKey:this.fdKey,fdTemplateModelName:this.fdTemplateModelName,isSimpleCategory:this.isSimpleCategory,modelName:this.modelName})},buildRendering:function(){this.detailUrl+="&fdControlId="+this.fdControlId+"&extendXmlPath="+this.extendXmlPath;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.subscribe("/sys/xform/relevance/category/changed","_chgHeaderInfo");j.set(this.domNode,{width:"max-content"});j.set(this.domNode,{minWidth:"100%"})},_createPathItem:function(q,o){var p=c.create("div",{value:q.fdId},this.containerNode);var r=c.create("div",{className:""},p);if(o){var n=c.create("span",{className:""},r);n.innerHTML=o}this.connect(p,"onclick",function(){window._curIds="-";if(q.fdId!=this.curId){this._chgHeaderInfo(this,{fdId:q.fdId,fdKey:q.fdKey});h.publish("/mui/category/changed",this,{fdId:q.fdId,label:q.label,fdTemplateId:q.fdTemplateId,modelPath:q.modelPath,fdKey:q.fdKey})}})},_createTitleNode:function(){var o=c.create("div",{},this.containerNode);var p=c.create("div",{className:""},o);var n=c.create("span",{className:""},p);n.innerHTML=b["mui.relevance.path.all"];this.connect(o,"onclick",function(){this._chgHeaderInfo(this,{});h.publish("/mui/category/changed",this,{})})},_chgHeaderInfo:function(p,o){if(p.key==this.key){if(o){if(o.fdId){j.set(this.domNode,{display:"block"});if(this.curId!=o.fdId||this.containerNode.innerHTML==b["mui.relevance.path.all"]){this.curId=o.fdId;this.fdKey=o.fdKey;var q=i.urlResolver(this.detailUrl,this);q=i.formatUrl(q);var r=e.post(q,{handleAs:"json"});var n=this;r.then(function(s){if(s.length>0){n.containerNode.innerHTML="";n._createTitleNode();if(s.length<3){k.forEach(s,function(x,w){n._createPathItem(x,x.label)},this)}else{var t=s.length;k.forEach(s,function(x,w){if(w==(t-3)){n._createPathItem(x,"...")}else{if(w>(t-3)){n._createPathItem(x,x.label)}else{return}}},this)}}else{}if(o.isBase==false&&o.fdKey.indexOf("modeling")<0){if(document.querySelectorAll("div.muiFormRelevanceFilterItem").length>0){document.querySelectorAll("div.muiFormRelevanceFilterItem").forEach(function(w){w.remove()})}var u=null;if(o.isSimpleCategory){u='data-dojo-mixins="mui/simplecategory/SimpleCategoryMixin"'}else{u='data-dojo-mixins="mui/syscategory/SysCategoryMixin"'}if(u){var v='<div class="muiHeaderItemRight" data-dojo-type="mui/catefilter/FilterItem" '+u+"data-dojo-props=\"modelName:'"+o.fdTemplateModelName+"'\"></div>";a.parse(c.create("div",{innerHTML:v,className:"muiFormRelevanceFilterItem"},n.domNode))}}},function(s){})}}else{this.containerNode.innerHTML=b["mui.relevance.path.all"];this._firstPathInfo(o);this.connect(this.containerNode,"onclick",function(){h.publish("/mui/category/changed",this,{fdId:"",fdKey:""})})}}}},_firstPathInfo:function(o){if(this.isCategory){o.fdId=this.fdId;o.fdKey=this.fdKey;o.isSimpleCategory=this.isSimpleCategory;o.fdTemplateModelName=this.fdTemplateModelName;o.isBase=this.isBase;this.isCategory=false;j.set(this.domNode,{display:"block"});if(this.curId!=o.fdId||this.containerNode.innerHTML==b["mui.relevance.path.all"]){this.curId=o.fdId;this.fdKey=o.fdKey;var p=i.urlResolver(this.detailUrl,this);p=i.formatUrl(p);var q=e.post(p,{handleAs:"json"});var n=this;q.then(function(r){if(r.length>0){n.containerNode.innerHTML="";n._createTitleNode();if(r.length<3){k.forEach(r,function(w,v){n._createPathItem(w,w.label)},this)}else{var s=r.length;k.forEach(r,function(w,v){if(v==(s-3)){n._createPathItem(w,"...")}else{if(v>(s-3)){n._createPathItem(w,w.label)}else{return}}},this)}}else{}if(o.isBase==false&&o.fdKey.indexOf("modeling")<0){if(document.querySelectorAll("div.muiFormRelevanceFilterItem").length>0){document.querySelectorAll("div.muiFormRelevanceFilterItem").forEach(function(v){v.remove()})}var t=null;if(o.isSimpleCategory){t='data-dojo-mixins="mui/simplecategory/SimpleCategoryMixin"'}else{t='data-dojo-mixins="mui/syscategory/SysCategoryMixin"'}if(t){var u='<div class="muiHeaderItemRight" data-dojo-type="mui/catefilter/FilterItem" '+t+"data-dojo-props=\"modelName:'"+o.fdTemplateModelName+"'\"></div>";a.parse(c.create("div",{innerHTML:u,className:"muiFormRelevanceFilterItem"},n.domNode))}}},function(r){})}}else{if(document.querySelectorAll("div.muiFormRelevanceFilterItem").length>0){document.querySelectorAll("div.muiFormRelevanceFilterItem").forEach(function(r){r.remove()})}}}});return m})},"sys/xform/mobile/controls/Hyperlink":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/_base/lang","dojo/dom-construct","dojo/dom-style","dojo/dom-class","dojo/dom-attr","mui/util","mui/form/_AlignMixin"],function(e,c,a,b,g,i,h,f,j){return e("sys.xform.mobile.controls.Hyperlink",[c,j],{isForm:true,baseClass:"muiHyperlinkWrap",subject:"",linkUrl:"",linkTarget:"_blank",linkStyle:"",orient:"none",align:"left",hidden:false,buildRendering:function(){this.inherited(arguments);if(this.hidden){g.set(this.domNode,{display:"none"})}i.add(this.domNode,"muiFormEleWrap");i.add(this.domNode,"muiForm"+this.align.substring(0,1).toUpperCase()+this.align.substring(1));if(this.orient=="vertical"){var l=b.create("div",{className:"muiHyperlinkSubject"},this.domNode);var o=b.create("div",{className:"muiFormEleTip"},l);var n=b.create("span",{className:"muiFormEleTitle",innerHTML:f.formatText(this.subject)},o)}var p=b.create("label",{className:"xform_linkLabel"},this.domNode);h.set(p,"fd_type","linkLabel");var m={className:"muiHyperlink",_target:this.linkTarget,_href:this.linkUrl,href:"javascript:void(0)"};if(this.linkStyle){m.style=this.linkStyle}var k=b.create("a",m,p);k.innerText=this.subject;this.connect(k,"click",a.hitch(this,function(){window.open(this.linkUrl,"_self")}))}})})},"sys/xform/mobile/controls/event/_NextPageViewMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/topic","dojo/dom-construct","dojo/query","dojox/mobile/viewRegistry","dojo/when","dojo/dom-style","dojo/_base/array","mui/i18n/_i18n!sys/xform/mobile/mui-xform","mui/device/device","dojo/dom"],function(f,b,g,m,k,l,j,h,i,c,a,e){return f("sys.xform.mobile.controls.event._NextPageViewMixin",null,{push:false,_pushItem:null,_pushDom:null,_createPushDom:function(){if(!this._pushDom){this._pushDom=m.toDom('<div class="listEventItem"><span><i class="mui mui-loading mui-spin"></i>'+c["mui.event.nextPage.loadMore"]+"</span></div>");m.place(this._pushDom,this.containerNode,"last")}if(!this.nomoreDom){this.nomoreDom=m.toDom('<div style="display:none" class="listEventItem"><span><i class="mui mui-spin"></i>'+c["mui.event.nextPage.noMore"]+"</span></div>");m.place(this.nomoreDom,this.containerNode,"last")}},_showNomore:function(o){if(o.key==this.key){var n=this;h.set(n.nomoreDom,{display:"table"});n.defer(function(){h.set(n.nomoreDom,{display:"none"})},1000)}},_setPushAttr:function(n){this._set("push",n);if(!n){h.set(this._pushDom,{display:"none"})}else{h.set(this._pushDom,{display:"table"})}},pushDone:function(){this.set("push",false)},_buildPushHandle:function(){var n=this;return{work:function(){},done:function(){n.pushDone()},error:function(){n.pushDone()}}},onAfterScroll:function(n){if(n.afterBottom&&!this.push){this.set("push",true);var o=this._buildPushHandle();g.publish("/mui/list/onPush",this,o)}return this.inherited(arguments)},adjustDestination:function(r,q,p){var n=this._pushDom.offsetHeight;if(r.y+p.o.h<n&&!this.push){this.set("push",true);var o=this._buildPushHandle();g.publish("/mui/list/onPush",this,o)}return this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.subscribe("/sys/xform/event/showNomore","_showNomore");this.subscribe("/sys/xform/event/searchData","_resize")},startup:function(){if(this._started){return}this.inherited(arguments);this._createPushDom();this.set("push",false)},_isResize:false,resize:function(o){this.inherited(arguments);var p=navigator.userAgent.toLowerCase();if(a.getClientType()===a.WEB){if(!this._isResize){var n=e.byId("_eventdata_sgl_view_"+this.key);this.defer(function(){if(n){h.set(n,"height","95%")}},100);this._isResize=true}}},_resize:function(n){if(n.key==this.key){this.resize()}}})})},"sys/xform/mobile/controls/QrCode":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-prop","mui/util","dijit/registry","mui/form/_FormBase","dojo/query","dojo/dom","dojo/dom-class","dojo/dom-attr","dojo/dom-style","dojo/on","dojo/_base/lang","dojo/topic","mui/i18n/_i18n!sys/xform/mobile/mui-xform","mui/dialog/Dialog"],function(h,f,c,j,a,r,p,g,q,o,k,m,b,i,e,n){var l=h("sys.xform.mobile.controls.QrCode",[r],{content:"",type:"qrCode",urlLinkType:"11",contentType:"12",cardType:"13",docUrl:"11",customUrl:"12",buildRendering:function(){this.inherited(arguments)},postCreate:function(){this.inherited(arguments)},startup:function(){this.inherited(arguments);var s=j.getUrlParameter(location.href,"method");if(!(s==="add"&&this.valType===this.docUrl)){this.generateQrCode()}else{this.buildExample()}},buildExample:function(){var s='<div style="'+(this.orient=="horizontal"?"float:right;":"")+'color:#C4C6CF;line-height: 3rem;">'+e["mui.qRCode.exCreate"]+"</div>";var t=f.toDom(s);f.place(t,this.domNode,"last")},generateQrCode:function(u){var t=this.content;if(this.mold===this.urlLinkType){if(this.valType===this.docUrl){t=location.href;var v=j.getUrlParameter(location.href,"method");if(v&&v.indexOf("edit")!=-1){t=t.replace("method="+v,"method=view")}}var s={text:t,element:this.detailQrCode,height:"100px",width:"100px",title:this.subject};this.doGenerateQrCode(s)}else{if(this.mold===this.contentType){}else{if(this.mold===this.cardType){}else{}}}},doGenerateQrCode:function(t){var s=this.formatUrl("/sys/ui/sys_ui_qrcode/sysUiQrcode.do?method=getQrcode&contents="+t.text);var v="<img style='width:"+t.width+";height:"+t.height+";"+(this.orient=="horizontal"?"float:right;":"")+"' src='"+s+"' title='"+(t.title?t.title:"")+"'/>";var u=f.toDom(v);this.connect(u,"click","_ShowQrCode");f.place(u,this.domNode,"last")},formatUrl:function(s){if(s==null){return""}var t=s;if(s.substring(0,1)=="/"){t=Com_Parameter.ContextPath+s.substring(1)}return t},_setRequiredAttr:function(s){},_getRequiredAttr:function(){return false},_ShowQrCode:function(t){if(!t.target.src){return}var v=t.target.title;if(t.target.title==""){v=p(t.target).parents("tr").children(".muiTitle").children("label").text()}var s=f.create("div",{style:{padding:"3rem"}});f.create("div",{innerHTML:'<div><img style="max-width:100%" src="'+t.target.src+'"></div>'},s);if(v!=""){f.create("div",{innerHTML:'<div style="width: 100%;height: 4rem;font-size: 12px;font-size: var(--muiFontSizeL);padding-top: 3rem;">'+v+"</div>"},s)}var u={title:null,element:s,scrollable:false,parseable:false,canClose:true,callback:null};n.element(u)}});return l})},"sys/xform/mobile/controls/massdata/template/MassDataTable":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-construct","mui/table/ScrollableHView","dojo/_base/event","dojo/dom-style"],function(f,h,b,a,g,e){var c=f("sys.xform.mobile.controls.massdata.template.MassDataTable",[a],{render:function(z){e.set(this.containerNode,"min-width","100%");this.containerNode.innerHTML="";var A=b.create("table",{width:"100%",className:"massdata-table"},this.containerNode);var u=b.create("thead",{className:"massdata-table-thead"},A);var n=b.create("tr",{},u);var m=Object.keys(z.columns).length;if(m>0){var k=parseInt(100/m)+"%";for(var x in z.columns){var q=z.columns[x];var j=b.create("th",{width:k},n);j.innerHTML=q.title}}var s=b.create("tbody",{},A);var o=z.datas;if(o.length&&o.length>0){for(var r=0;r<o.length;r++){var v=b.create("tr",{},s);var t=o[r];for(var x in z.columns){var l="";if(t.hasOwnProperty(x)){var w=t[x];l=w.value}var p=b.create("td",{},v);p.innerHTML=l}}}else{s.innerHTML="";var v=b.create("tr",{},s);var p=b.create("td",{colspan:m},v);p.innerHTML="暂无数据"}}});return c})},"sys/xform/mobile/controls/newAuditNote/NewAuditNote":function(){define(["dojo/_base/declare","dojo/query","dojo/touch","mui/util","dojo/_base/lang","dojo/_base/array","dojo/on","sys/lbpmservice/mobile/audit_note_ext/_CanvasView","mui/i18n/_i18n!sys/xform/mobile/mui-xform","mui/device/adapter","dojo/topic","mui/device/device","dojo/dom-construct","dojo/dom-style","dijit/registry","mui/i18n/_i18n!sys/xform/mobile/mui-xform","dojo/ready","dojo/dom-class","dojo/NodeList-manipulate"],function(h,n,g,j,c,l,m,r,e,q,i,b,f,k,a,e,p,o){return h("sys.xform.mobile.controls.newAuditNote.NewAuditNote",[r],{fdId:"",mould:"",value:"",resValue:null,descriptionDiv:null,fdType:"newAuditNote",buttonDiv:null,isXformAuditNote:true,fromView:"lbpmView",toView:"scrollView",startup:function(){this.inherited(arguments);this.buttonDiv="#"+this.fdId;this.createBtn();this.descriptionDiv="#handwriting_"+this.fdId;if(this.isDingUI()){this.descriptionDiv="#handwritingwrap_"+this.fdId;o.add(n(this.buttonDiv)[0],"dingNewAuditNote")}this.bindEvents()},createBtn:function(){var t=n(this.buttonDiv);var s="";if(this.isDingUI()){s+='<div class="handingWayWrap" id="handwritingwrap_'+this.fdId+'">'}s+='<div class="handingWay" id="handwriting_'+this.fdId+'">';s+='<div class="iconArea">+ '+e["mui.newAuditNote.handwrite"]+"</div></div>";if(this.isDingUI()){s+="</div>"}t.append(s);n("#handwriting_"+this.fdId).on("click",c.hitch(this,this.showAuditNoteHandlerView))},isDingUI:function(){return dojoConfig.dingXForm==="true"},showAuditNoteHandlerView:function(){this.view=a.byId(this.toView);if(this.view){this.view.validateNext=false}this._canvasKey=this.fdId;var t=b.getClientType();if(t==9||t==10){var s=q.getSignImage({options:this});if(s){return}}this.inherited(arguments)},bindEvents:function(){this.subscribe("initComplete",c.hitch(this,this._isShow));m(n(this.descriptionDiv).parent()[0],m.selector("#imgUl_"+this.fdId+" li .btn_canncel_img",g.press),c.hitch(this,this.auditNoteViewDelete));this.inherited(arguments);var s=b.getClientType();if(s==9){p(c.hitch(this,function(){Com_Parameter.event.submit.push(c.hitch(this,this.submitEvent))}))}},auditNoteViewDelete:function(s){if(s.target){var u=s.target.tagName=="SPAN"?s.target:n(s.target).parent("span")[0];if(u==null){return}this.fileIds=l.filter(this.fileIds,function(v){return v!=u.id});n("#li_"+u.id).remove();var t=a.byId("auditNoteHandlerView");t.fileIds=l.filter(t.fileIds,function(v){return v!=u.id});i.publish("attachmentObject_delete_ereb",this,{})}},hideAuditNoteHandlerView:function(){this.lbpmViewName=this.toView;this.inherited(arguments);this.lbpmViewName=this.formView;this._canvasKey=null;if(this.view){this.view.validateNext=true}},AttUploadSuccess:function(t,s){if(this._canvasKey==this.fdId){this.inherited(arguments);this._canvasKey=null;this.defer(function(){i.publish("/mui/list/resize")},0)}},AttUploadSuccessEreb:function(t,s){n("#imgUl_"+this.fdId+" li").remove();this.fileIds=[];if(s==null||s.file==null){this.workDone();return}this.UploadSuccessed(t,s);i.publish("/mui/list/resize");this.workDone()},selectPenChange:function(s){if(s.name=="selectPenWidth"&&this._canvasKey==this.fdId){this.dowidthchange()}if(s.name=="selectPenColor"&&this._canvasKey==this.fdId){this.docolorchange()}},_isShow:function(){var v=false;if(this.mould=="21"){var t=this.value.split(";");var u=false;for(var s=0;s<t.length;s++){if(lbpm.nowNodeId==t[s]){u=true;break}}v=u}else{v=(this.resValue=="true")}if(v){n("#"+this.fromView).parent().append(this.domNode);k.set(this.fdId,"display","inline-block")}},UploadSuccessed:function(B,z){var t=z.file;var x=n("#imgUl_"+this.fdId);var w=100;var u="auto";if(this.isDingUI()){w=157;u=157}var v='<li id="li_'+t.filekey+'"><div class="img_wrapper">';v+='<span class="btn_canncel_img" id="'+t.filekey+'"><i class="mui mui-close"></i></span>';v+='<div class="img_content"><img width="'+w+'" height="'+u+'" src="'+t.href+'"></div></div></li>';if(x.length>0){if(x.innerHTML()==""){x.innerHTML(v)}else{x.append(v)}}else{var A='<div class="tab_img"><ul id="imgUl_'+this.fdId+'" class="auditNoteHandlerImgUl">'+v+"</tr></ul></div>";n(this.descriptionDiv).after(A)}var s=b.getClientType();if(s==9){this._synchronusAuditView(t.filekey)}},_synchronusAuditView:function(u){var t=n("#li_"+u);if(t.length<0){return}var s=n("#imgUl");if(s.length>0){if(s.innerHTML()==""){s.innerHTML(t[0].outerHTML)}else{s.append(t[0].outerHTML)}}else{var v='<div class="tab_img"><ul id="imgUl" class="auditNoteHandlerImgUl">'+t[0].outerHTML+"</tr></ul></div>";n("#descriptionDiv").after(v)}}})})},"sys/xform/mobile/controls/detailsTable/mobileDetailsTableScript":function(){define(["dojo/parser","dojo/dom","dojo/dom-construct","dojo/dom-style","dojo/dom-attr","dojo/dom-class","dojo/query","dojo/Deferred","mui/loadingMixin","dijit/registry","dojo/topic","dojo/on","mui/dialog/Tip","dojo/ready","mui/form/validate/Validation","mui/i18n/_i18n!sys/xform/mobile/mui-xform"],function(b,g,f,i,k,p,l,m,n,a,h,j,q,o,c,e){window._mobileDetailsTableScript={init:function(r,s,t,u){window["detail_"+r+"_expandRow"]=function(A){var z=$(A).closest("table")[0];var C=k.get(z,"data-display"),B=(C=="none"?"":"none");k.set(z,"data-display",B);var v=l('tr[data-celltr="true"],tr[statistic-celltr="true"]',z);for(var x=0;x<v.length;x++){if(B=="none"){i.set(v[x],"display","none")}else{i.set(v[x],"display","")}}var w=l(".muiDetailDisplayOpt",z)[0];if(B=="none"){p.add(w,"muis-spread");p.remove(w,"muis-put-away")}else{p.add(w,"muis-put-away");p.remove(w,"muis-spread")}h.publish("/mui/list/resize")};window["detail_"+r+"_add"]=function(v){v=v||window.event;if(v){if(v.stopPropagation){v.stopPropagation()}else{v.cancelBubble=true}}window["detail_"+r+"_addRow"]()};window["detail_"+r+"_addRow"]=function(w){var v=DocList_AddRow(s);v.dojoClick=true;b.parse(v).then(function(){var x=DocList_TableInfo[s];if(x._getcols==null){x.fieldNames=[];x.fieldFormatNames=[];DocListFunc_AddReferFields(x,v,"INPUT");DocListFunc_AddReferFields(x,v,"TEXTAREA");DocListFunc_AddReferFields(x,v,"SELECT");x._getcols=1}v.setAttribute("kmss_iscontentrow","1");window["detail_"+r+"_fixNo"]();h.publish("/mui/form/valueChanged",null,{row:v,tableId:r,eventType:"detailsTable-addRow"});h.publish("/mui/list/resize",v);if(w){w(v)}})};window["detail_"+r+"_del"]=function(v){var w=$(v).closest(".detail_wrap_td")[0];window["detail_"+r+"_delRow"](w.parentNode)};window["detail_"+r+"_delRow"]=function(A){var w=a.getEnclosingWidget(A);if(w&&w.adDetail){w.delRow(A)}$(A).find("*[widgetid]").each(function(D,E){var F=a.byNode(E);if(F&&F.destroy){F.destroy()}});var v=DocListFunc_GetParentByTagName("TABLE",A);var C=Com_ArrayGetIndex(v.rows,A);var z=DocList_TableInfo[v.id];DocList_DeleteRow_ClearLast(A);for(var x=C;x<z.lastIndex;x++){var B=z.DOMElement.rows[x];l("*[widgetid]",B).forEach(function(G){var I=a.byNode(G);if(I.needToUpdateAttInDetail){var J=I.needToUpdateAttInDetail;for(var E=0;E<J.length;E++){if(I[J[E]]){var H=l("[name='"+I[J[E]]+"']",B);if(H.length>0){H[0].name=window["detail_"+r+"_repalceIndexInfo"](H[0].name,x-z.firstIndex)}I[J[E]]=window["detail_"+r+"_repalceIndexInfo"](I[J[E]],x-z.firstIndex)}}}else{if(I.name){var F=l("[name='"+I.name+"']",B);if(F.length>0){if(F[0].name){F[0].name=window["detail_"+r+"_repalceIndexInfo"](F[0].name,x-z.firstIndex)}}I.name=window["detail_"+r+"_repalceIndexInfo"](I.name,x-z.firstIndex)}else{if(I.idField){var D=l("[name='"+I.idField+"']",B);if(D.length>0){D[0].name=window["detail_"+r+"_repalceIndexInfo"](D[0].name,x-z.firstIndex)}var K=l("[name='"+I.nameField+"']",B);if(K.length>0){K[0].name=window["detail_"+r+"_repalceIndexInfo"](K[0].name,x-z.firstIndex)}I.idField=window["detail_"+r+"_repalceIndexInfo"](I.idField,x-z.firstIndex);I.nameField=window["detail_"+r+"_repalceIndexInfo"](I.nameField,x-z.firstIndex)}}}})}window["detail_"+r+"_fixNo"]();h.publish("/mui/form/valueChanged",null,{tableId:r,eventType:"detailsTable-delRow"});h.publish("/mui/list/resize",A)};window["detail_"+r+"_repalceIndexInfo"]=function(w,v){w=w.replace(/\[\d+\]/g,"[!{index}]");w=w.replace(/\.\d+\./g,".!{index}.");w=w.replace(/!\{index\}/g,v);return w};window["detail_"+r+"_fixNo"]=function(){var w=$("#"+s).find(".muiDetailTableNo");var x=$("#"+s).attr("control-type");if(x==="adDetailTable"){w.each(function(z){$(this).children("span").text(e["mui.detailTable.the"]+(z+1)+e["mui.detailTable.item"])})}else{var v=w.attr("tableName")||"";v=v.replace(/\n/g,"");w.each(function(z){$(this).children("span").text(v+(z+1))})}};window["_sys_xfrom_detailsTable_requiredInit_"+r]=function(v){var A="required";var E=v+"_position";var z=Data_GetResourceString("sys-xform:sysForm.detailsTable.tipMessage");var x="<input id='"+E+"' type='text' style='display:table-cell;width:0px;height:1px;border:0px;' subject='"+z+"' validate='"+A+"'/>";var B=document.getElementById(v);$(B).after(x);DocList_Xform_DetailsTable_SetInputValue($("#"+E),v);var C;if(E==null||c==null){return}if(v==null){C="table[showStatisticRow]"}else{C="#"+v}var D=$("#"+E);var w=new c();$(document).on("table-delete-new table-add-new",C,function(G,F){if(F&&F.table){DocList_Xform_DetailsTable_SetInputValue(D,F.table.id);w.validateElement(D[0])}})};h.subscribe("parser/done",function(){if(DocList_TableInfo[s]==null){DocListFunc_Init()}if(window["_editShow_"+r]){if(window["_emptyFormData_"+r]){try{setTimeout(function(){for(var A=0;A<t;A++){window["detail_"+r+"_addRow"]()}},0)}catch(x){}}if(u==="true"){window["_sys_xfrom_detailsTable_requiredInit_"+r]("TABLE_DL_"+r)}}var w=l('[statistic-celltr-title="true"]');var z=l('[celltr-title="true"]');if(w&&w.length>0){w[0].dojoClick=true}if(z&&z.length>0){for(var v=0;v<z.length;v++){z[v].dojoClick=true}}if(dojoConfig.dingXForm&&dojoConfig.dingXForm==="true"){Com_IncludeFile("dingTop_mobile.css",Com_Parameter.ContextPath+"km/review/km_review_ui/dingSuit/css/","css",true)}})}}})},"sys/xform/mobile/controls/fSelect/FSelectListItem":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dojo/dom-attr","dojo/dom-style","dijit/_WidgetBase","dojo/topic"],function(h,e,a,j,b,i,g,c,f){return e("sys.xform.mobile.controls.fSelect.FSelectListItem",[c],{key:null,isMul:true,data:[],headers:[],selected:false,baseClass:"muiFSelectItem",CHECKED_EVENT:"/sys/xform/fSelect/checked",SELECTALL_EVENT:"/sys/xform/fSelect/selectAll",UNCHECKED_EVENT:"/sys/xform/fSelect/unchecked",uuid:null,guid:(function(){var k=0;return function(n){var l=(+new Date().getTime()).toString(32),m=0;for(;m<5;m++){l+=Math.floor(Math.random()*65535).toString(32)}return(n||"event_")+l+(k++).toString(32)}})(),buildRendering:function(){this.inherited(arguments);this.contentNode=b.create("div",{className:"muiFSelectContent"},this.domNode);this.uuid=this.guid()},postCreate:function(){this.inherited(arguments);this.subscribe(this.CHECKED_EVENT,"_setSelected");this.subscribe(this.SELECTALL_EVENT,"_setSelectAll");this.connect(this.contentNode,"click",function(k){var l=new Date().getTime();if(this._lastClickTime){if((l-this._lastClickTime)<500){return}this._lastClickTime=l}this._lastClickTime=l;this.defer(function(m){this._selectData(m)},350)})},startup:function(){this.inherited(arguments);h.forEach(this.data.itemVals,function(l,k){var m=b.create("div",{className:"muiFSelectItem"},this.contentNode);var n=b.create("div",{className:"muiFSelectInfo"},m);if(k==0){var o=b.create("div",{className:"muiFSelectSelArea "+(this.isMul?"muiFSelectSelMul":"muiFSelectSelSgl")},n);this.selNode=b.create("div",{className:"muiFSelectSel"},o)}this.valDom=b.create("div",{className:"muiFSelectValue",innerHTML:l},n)},this)},_setSelected:function(k){if(this.key==k.key){if(this.isMul==false&&this.uuid!=k.uuid){if(this.selected){this.selected=false;b.empty(this.selNode);j.remove(this.valDom,"muiFSelectSeled");j.remove(this.selNode,"muiFSelectSeled");f.publish(this.UNCHECKED_EVENT,this)}}}},_selectData:function(k){var l=this.getParent();if(k){if(k.stopPropagation){k.stopPropagation()}if(k.cancelBubble){k.cancelBubble=true}if(k.preventDefault){k.preventDefault()}if(k.returnValue){k.returnValue=false}}this.selected=!this.selected;if(this.selected){b.create("i",{className:"fontmuis muis-form-selected-cor"},this.selNode);j.add(this.valDom,"muiFSelectSeled");j.add(this.selNode,"muiFSelectSeled");f.publish(this.CHECKED_EVENT,this)}else{b.empty(this.selNode);j.remove(this.valDom,"muiFSelectSeled");j.remove(this.selNode,"muiFSelectSeled");f.publish(this.UNCHECKED_EVENT,this)}},_setSelectAll:function(k){if(this.key==k.key&&this.contentNode.parentNode.style.display!="none"){if(k.selected){if(!this.selected){this.selected=!this.selected;b.create("i",{className:"fontmuis muis-form-selected-cor"},this.selNode);j.add(this.valDom,"muiFSelectSeled");j.add(this.selNode,"muiFSelectSeled");f.publish(this.CHECKED_EVENT,this)}}else{if(this.selected){this.selected=!this.selected;b.empty(this.selNode);j.remove(this.valDom,"muiFSelectSeled");j.remove(this.selNode,"muiFSelectSeled");f.publish(this.UNCHECKED_EVENT,this)}}}}})})},"sys/xform/mobile/controls/DivControl":function(){define(["dojo/_base/declare","dojo/dom-construct","sys/xform/mobile/controls/xformUtil","dojo/query","mui/form/_FormBase","dijit/_WidgetBase"],function(f,a,c,g,h,e){var b=f("sys.xform.mobile.controls.DivControl",e,{showStatus:"view",postCreate:function(){this.inherited(arguments);if(this.domNode.id){var k=this.domNode.id;var i=/\((\w+)\)/.exec(k);var j=/\((\w+\.\d+.\w+)\)/.exec(k);if(i&&i.length>0){this.domNode.id=i[1]}else{if(j&&j.length>0){this.domNode.id=j[1]}}}$('div[id^="sys_xform_mobile_controls_DivControl"]').each(function(l,m){$(m).css({width:"100%"})})},_setRequiredAttr:function(i){},_setReadOnlyAttr:function(i){}});return b})},"sys/xform/mobile/controls/massdata/template/_MassDataToolBarMixin":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-construct","mui/util","mui/tabbar/TabBarButton","sys/xform/mobile/controls/massdata/MassData","dojo/_base/event","sys/xform/mobile/controls/xformUtil","dojo/dom-style","dojo/request","dijit/registry","mui/base64","dojo/query","dojo/dom"],function(i,g,c,j,p,o,b,h,l,f,a,k,n,e){var m=i("sys.xform.mobile.controls.massdata.template._MassDataToolBarMixin",[p],{defaultUrl:"/sys/xform/controls/relation.do?method=run",_onClick:function(){var u={};var q=a.byId(this.controlId);u._source=q._source;u._key=q._key;var t=this.buildOutputParams(q.outputParams);var s=this.buildInputParams(q.inputParams);u.outs=JSON.stringify(t);u.ins=JSON.stringify(s);var r=j.formatUrl(j.urlResolver(this.defaultUrl,this));this.buildLoading();self=this;f.post(r,{handleAs:"json",data:u}).then(function(w){var v=self.formatRequestDatas(w);if(q.onDataLoad){q.onDataLoad(v);l.set(self.tmpLoading,"display","none")}})},buildLoading:function(){if(this.tmpLoading==null){this.tmpLoading=c.create("div",{className:"muiCateLoading",style:{display:"inline-block"},innerHTML:'<i class="mui mui-loading mui-spin"></i>'},this.domNode)}else{l.set(self.tmpLoading,"display","inline-block")}},formatRequestDatas:function(u){var r={};var q=r.records=[];if(u.outs.length>0){for(var t=0;t<u.outs.length;t++){var s=u.outs[t];if(q.length<=s.rowIndex){q[s.rowIndex]={}}var v=q[s.rowIndex];v[k.decode(s.fieldId)]={value:s.fieldValue}}}return r},buildOutputParams:function(q){var t=[];var u={};for(var s in q){var r=q[s].fieldId;if(r){r=r.replace(/\$/g,"");if(u[r]){continue}u[r]=true;t.push({uuId:r})}}return t},buildInputParams:function(w){var u=[];var v=w;for(var q in v){var x=v[q].fieldIdForm;var z=v[q].fieldNameForm;x=x.replace(/\$/g,"");var A=h.getXformWidgetsBlur(null,x);var r=[];for(var s=0;s<A.length;s++){if(A[s].declaredClass=="mui.form.Address"||A[s].declaredClass=="sys.xform.mobile.controls.NewAddress"){r.push(A[s].curIds);r.push(A[s].curNames)}else{r.push(A[s].value)}}if(/-fd(\w+)/g.test(x)){x=x.match(/(\S+)-/g)[0].replace("-","")}for(var t=0;t<r.length;t++){u.push({uuId:q,fieldIdForm:x,fieldValueForm:r[t]})}}return u}});return m})},"sys/xform/mobile/controls/VoteNode":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-prop","sys/xform/mobile/controls/xformUtil","dijit/registry","mui/form/_FormBase","dojo/query","dojo/dom","dojo/dom-class","dojo/dom-attr","dojo/dom-style","dojo/on","dojo/_base/lang","mui/chart/Chart2","mui/i18n/_i18n!sys/xform/mobile/mui-xform","mui/chart/Chart"],function(k,g,c,i,a,r,p,h,q,o,l,n,b,f,e,j){var m=k("sys.xform.mobile.controls.VoteNode",[r],{buildRendering:function(){this.inherited(arguments);this.generate()},postCreate:function(){this.inherited(arguments)},startup:function(){this.inherited(arguments)},DISAGTEEMSG:e["mui.voteNodeDisagree"],AGREEMSG:e["mui.voteNodeAgree"],ABSTAINMSG:e["mui.voteNodeAbstain"],generate:function(){var v={};v.val=this.detail_attr_value;v.processId=_xformMainModelId;var u=new KMSSData();u.UseCache=false;u.AddHashMap(v);var s=this;var t=function(w){var x=w.GetHashMapArray();if(x.length==0){return}else{s.data=x;s.renderChart()}};u.SendToBean("lbpmVoteNodeDataBean",t)},renderChart:function(){l.set(this.domNode,"width",this.width+"px");l.set(this.domNode,"height",this.height+"px");var C=[];var v=[];var B=[];var t=[];var u=0;var A=0;var s=0;for(var w=0;w<this.data.length;w++){C[w]=this.data[w]["fdFactNodeName"];v[w]=this.data[w]["disAgreeNum"];B[w]=this.data[w]["agreeNum"];t[w]=this.data[w]["abstainNum"];u+=parseInt(v[w]);A+=parseInt(B[w]);s+=parseInt(t[w])}if(this.mold=="11"){var x={title:{text:"",subtext:"",x:"center"},color:["#6698fa","#5ff59b","#f7d868"],tooltip:{trigger:"item",position:"inside",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{bottom:"10%",left:"10%",data:[this.DISAGTEEMSG,this.AGREEMSG,this.ABSTAINMSG]},zlevel:10,series:[{name:this.subject,type:"pie",radius:"50%",center:["50%","50%"],labelLine:{normal:{lineStyle:{color:"#335"},smooth:0.1,length:10,length2:10}},label:{normal:{formatter:"{b}:\n{c}({d}%)",borderWidth:1,borderRadius:4,position:"outside",textShadowOffsetX:4}},data:[{value:u,name:this.DISAGTEEMSG},{value:A,name:this.AGREEMSG},{value:s,name:this.ABSTAINMSG}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}else{if(this.mold=="12"){var x={title:{text:""},color:["#6698fa","#5ff59b","#f7d868"],legend:{data:[this.DISAGTEEMSG,this.AGREEMSG,this.ABSTAINMSG],bottom:"20",left:"10%"},xAxis:{data:C},yAxis:{minInterval:1},grid:{top:"20",left:"10%",containLabel:true},series:[{name:this.DISAGTEEMSG,type:"bar",data:v,label:{normal:{show:true,position:"top"}}},{name:this.AGREEMSG,type:"bar",data:B,label:{normal:{show:true,position:"top"}}},{name:this.ABSTAINMSG,type:"bar",data:t,label:{normal:{show:true,position:"top"}}}]}}}var z=f.init(this.domNode);z.setOption(x);z.resize()}});return m})},"sys/xform/mobile/controls/RelationEventBase":function(){define(["dojo/_base/declare","dojo/_base/array","sys/xform/mobile/controls/xformUtil","dojo/request","dojo/query","mui/util","mui/dialog/Tip","sys/xform/mobile/controls/EventDataDialog","mui/form/_GroupBase","dojo/_base/lang","mui/i18n/_i18n!sys/xform/mobile/mui-xform"],function(g,j,f,e,k,h,m,l,a,b,c){var i=g("sys.xform.mobile.controls.RelationEventBase",null,{name:null,inputParams:null,outputParams:null,textId:null,data:null,queryDataUrl:"/sys/xform/controls/relation.do?method=run",source:null,funKey:null,listRule:null,fillType:null,_working:false,_inDetailTable:false,_execClick:function(o){var n=o.get("name");if(n){this.execEvent(n)}},execDone:function(){this.defer(function(){this._working=false;if(this.process){this.process.hide()}},300)},updateOutputParamsText:function(n){if(!n||this.updateOutputParams){return n}var s=JSON.parse(this.outputParams.replace(/quot;/g,'"'));for(var o in s){var r=s[o];var q=r.fieldIdForm;if(q.indexOf("_text")>0){q=q.substring(0,q.length-"_text".length)}var p=f._getXformWidget(null,q,false,false);if(p&&p.subject){r.fieldNameForm=p.subject}}this.updateOutputParams=true;return JSON.stringify(s)},execEvent:function(t){if(this._working){return}this._working=true;this.process=m.processing().show();var v={_source:this.source,_key:this.funKey,_dom:this._bindDom,_event:this.bindEvent,listRule:this.listRule,fillType:this.fillType};var u="";if(this.inputParams){u=JSON.parse(this.inputParams.replace(/quot;/g,'"'))}var E={};if(this.outputParams){this.outputParams=this.updateOutputParamsText(this.outputParams);E=JSON.parse(this.outputParams.replace(/quot;/g,'"'))}var z={};if(this.outerSearchParams){z=JSON.parse(this.outerSearchParams.replace(/quot;/g,'"'))}for(var x in z){z[x].value=z[x].sdefault}v.outerSearchs=JSON.stringify(z);v.searchs="[]";v.controlType="2";v.textId=this.textId;var o=[];var p={};for(var r in E){var w=E[r].fieldId;w=w.replace(/\$/g,"");if(p[w]){continue}p[w]=true;o.push({uuId:w})}v.outs=JSON.stringify(o);var D=f.buildInputParams(t,u,"");if(!D){this.execDone();return}if(this._inDetailTable==true){var q=false;for(var s=0;s<D.length;s++){if(D[s].indetail==true){q=true;break}}var A=t.match(/\.(\d+)\./g);var C=this.name.match(/\.(\d+)\./g);if(A!=null&&C!=null&&A[0]!=C[0]){this.execDone();return}}v.ins=JSON.stringify(D);if(/[\d][1]/g.test(v.listRule)){v.pageNum=10;v.pageSize=1;v.isLoadAllData="false"}else{v.pageNum=0;v.pageSize=0;v.isLoadAllData="true"}this.inputParamValues=v.ins;v.conditionsUUID=f.toMD5(v.ins+""+v._key);var n=this.queryDataUrl+"&updateCfg=true";var B=this;e.post(h.formatUrl(n),{data:v,handleAs:"json"}).then(function(P){if(!P||!P.outs){B.execDone();return}if(!B.isSkipSort(P.outs)){P.outs.sort(function(R,Q){return R.rowIndex-Q.rowIndex})}var F=false;if(P.outs.length==0){B.execDone();var H=c["mui.eventbase.noRecordMsg"];var O=c["mui.event.rule.title"];if(B.subject){O=B.subject}m.tip({text:O+H});if(o.length==0){return}var I="01";if(v.fillType){I=v.fillType}if(I=="01"){F=true}for(var L=0;L<o.length;L++){var J=o[L];J.fieldId=J.uuId;J.fieldValue=""}P.outs=o}var K=B.convertData(P,E,v);B.data=K;if(B.isEcho&&B.isEcho()&&B.hiddenSelectedDatas){var G=B.hiddenSelectedDatas.value.replace(/quot;/g,'"');if(G){G=JSON.parse(G)}}else{var G=[]}K.isAppAndNull=F;if(K.rows.length==1||v.listRule=="99"){B.setValueByDataRows(K.rows,K,t);B.execDone();if(B.buildTextItem){B.buildTextItem(K)}$(document).trigger($.Event("relation_event_setvalue"),B.identy)}else{if(K.rows.length>1&&(v.listRule=="00"||v.listRule=="01"||v.listRule=="10"||v.listRule=="11")){var M=false;if(v.listRule=="10"||v.listRule=="11"){M=true}var N=false;if(v.listRule=="01"||v.listRule=="11"){N=true}if(B.dialog==null){B.dialog=new l()}B.dialog.select({isMul:M,pageAble:N,dataSource:K,key:B.name,argu:{wgtName:t,appendSearchResult:B.appendSearchResult,paramsJSON:v,outputsJSON:E,outerSearchParams:P.outerSearchs,queryDataUrl:B.queryDataUrl+"&updateCfg=false",dataLength:K.rows.length,control:B,hasRowsContext:K.hasRowsContext,selectedDatas:G,echo:B.isEcho&&B.isEcho()}})}}B.execDone()},function(){B.execDone();m.fail({text:c["mui.eventbase.errorMsg"]})})},isSkipSort:function(q){if(!q){return false}var o=true;for(var n=0;n<q.length;n++){var p=q[n];if(p.rowIndex&&p.rowIndex!=""&&p.rowIndex!=0){o=false;break}}return o},_getNextDataInfo:function(q,n,s){if(n){if(q.key==this.name){var p=this;var o=n.argu.paramsJSON;if((n.argu.dataLength||n.argu.dataLength==0)&&n.argu.dataLength<o.pageNum){s.done(null);return}o.pageSize=n.pageNum;var r=n.argu.outputsJSON;e.post(h.formatUrl(this.queryDataUrl+"&updateCfg=false"),{data:o,handleAs:"json"}).then(function(u){if(!u||!u.outs){s.done(null);return}if(u.pageNum&&u.pageSize&&u.totalrows){var t=u.pageNum*u.pageSize-u.totalrows;if(t>=u.pageNum){s.done(null);n.argu.dataLength=0;return}}s.done(p.convertData(u,r,o))},function(){s.done(null)})}}},_clearDataInfo:function(n){if(n.key==this.name){this.inputParamValues=null}},_fillDataInfo:function(o,n){if(n){if(this.name==o.key){this.setValueByDataRows(n.rows,n,n.argu?n.argu.wgtName:null);this.inputParamValues=null;$(document).trigger($.Event("relation_event_setvalue"),this.identy)}}if(n.argu.wgtName){setTimeout(function(){document.getElementsByName(n.argu.wgtName)[0].focus()},10)}},convertData:function(B,C,u){var t={};t.headers=[];t.rows=[];t.cloumns=[];t.cloumnsOrign=[];t.hasRowsContext=false;var o;var A=0;for(var s in C){var x=C[s].fieldId.replace(/\$/g,"");t.headers.push(C[s]);var w=[];var n=[];tempRows=0;for(var z in B.outs){if(x==B.outs[z].fieldId){tempRows++;w.push(B.outs[z].fieldValue);n.push(B.outs[z])}}if(tempRows>A){A=tempRows}t.cloumns.push(w);t.cloumnsOrign.push(n);if(u.textId&&u.textId!=""){if(/\.(\d+)\./g.test(u.textId)){u.textId=u.textId.replace(/\.(\d+)\./g,".")}if(C[s].fieldIdForm.indexOf(u.textId)>-1){o=C[s].fieldId}}}for(var r=0;r<A;r++){var p={};p.itemVals=[];var v=false;for(var q=0;q<t.cloumns.length;q++){if(this.isEcho&&this.isEcho()){if(!v&&t.cloumnsOrign[q][r].currentRecordId){p.currentRecordId=t.cloumnsOrign[q][r].currentRecordId;v=true}}p.itemVals.push(t.cloumns[q][r]);if(B.sourceContext){if(B.sourceContext.fdIdProperty==t.cloumnsOrign[q][r].fieldId){p.fdId=t.cloumnsOrign[q][r].fieldValue;t.hasRowsContext=true}if(o&&o==t.cloumnsOrign[q][r].fieldId){p.fdSubject=t.cloumnsOrign[q][r].fieldValue}p.fdModelName=B.sourceContext.fdSourceModelName;p.fdSourceId=B.sourceContext.fdSourceId;if(t.cloumnsOrign[q][r].currentRecordId){t.hasRowsContext=true;p.currentRecordId=t.cloumnsOrign[q][r].currentRecordId}}}t.rows.push(p)}return t},setValueByDataRows:function(x,J,u){var p=u;if(/\.(\d+)\./g.test(p)){var z=p.match(/\.(\d+)\./g);z=z?z:[];var o=p.match(/\((\w+)\./g)[0].replace("(","").replace(".","");var I={};for(var G=0;G<x.length;G++){var B=x[G];for(var F=0;F<J.headers.length;F++){var A=J.headers[F].fieldIdForm;var q=p.match(/\((\S+)\)/);q=q?q[1]:p;if(q.indexOf(A.replace("_text",""))>=0){var K=q;if(A.indexOf("_text")>0){K+="_text"}I[K]=I[K]?I[K]:[];I[K].push(B.itemVals[F]);continue}if(A&&z.length>0&&A.indexOf(o)>=0){var K=A.replace(".",z[0]);I[K]=I[K]?I[K]:[];I[K].push(B.itemVals[F])}else{if(A&&A.indexOf(".")>0&&z.length>0){var K=A.substring(0,A.indexOf("."))+z[0]+A.substring(A.indexOf(".")+1);I[K]=I[K]?I[K]:[];I[K].push(B.itemVals[F])}else{if(A&&A.indexOf(".")<0){I[A]=I[A]?I[A]:[];I[A].push(B.itemVals[F])}else{window.console.warn(XformObject_Lang.relationEvent_Msg+p+XformObject_Lang.relationEvent_Msg2+A)}}}}}for(var s in I){var t;if(s.indexOf(".")<0){t=f.getXformWidgetBlur(null,s)}else{var r=s.substring(0,s.indexOf("."));t=f.getXformWidget("TABLE_DL_"+r,s)}this._filedSetValue(t,I[s].join(";"),s)}}else{var C={};for(var G=0;G<x.length;G++){var B=x[G];var n="";var H=[];var v=false;var E={};for(var F=0;F<J.headers.length;F++){var A=J.headers[F].fieldIdForm;if(A.indexOf(".")>0){v=true;n=A.split(".")[0];if(!E[n]){E[n]=[]}detailFieldId=A.split(".")[1];if(!B.itemVals[F]){B.itemVals[F]=""}E[n]["extendDataFormInfo.value("+n+".!{index}."+detailFieldId+")"]=B.itemVals[F]}else{C[A]=C[A]?C[A]:[];if(B.itemVals[F]){C[A].push(B.itemVals[F])}}}if(v&&!J.isAppAndNull){var w=false;if(G==0){w=true}for(var D in E){this._fillDetailValue(D,E[D],w)}}}for(var s in C){this._filedSetValue(f.getXformWidgetBlur(null,s),C[s].join(";"),s)}}},_filedSetValue:function(o,n,p){if(o){f.setXformWidgetValues(o,n,p)}else{if(this.textName&&p.indexOf("_text")>-1&&this.textName.indexOf(p)>-1){this.set("text",n)}}},isAllEmpty:function(n){var p=true;var o=n.keys();for(var q in n){if(n[q]&&n.hasOwnProperty(q)){p=false;break}}return p},_fillDetailValue:function(p,r,n){var o=this;var s=false;if(n==true&&o.fillType=="11"){var q=k(".detail_wrap_td","TABLE_DL_"+p);if(q.length==0){q=k("td[kmss_isrowindex]","TABLE_DL_"+p)}if(q.length==0){q=k("td.detailTableIndex","TABLE_DL_"+p)}if(q.length>0){j.map(q,function(t){if(window["detail_"+p+"_delRow"]){window["detail_"+p+"_delRow"](t.parentNode)}})}s=o.isAllEmpty(r)}if(window["detail_"+p+"_addRow"]&&!s){window["detail_"+p+"_addRow"](function(t){for(var v in r){var u=v.replace(/!{index}/g,t.sectionRowIndex-1);o._filedSetValue(f.getXformWidget(t,u),r[v],u)}})}}});return i})},"sys/xform/mobile/controls/relevance/RelevanceSearchBar":function(){define(["dojo/_base/declare","mui/search/SearchBar","mui/util","dojo/topic","dojo/_base/lang","dojo/dom-style","mui/i18n/_i18n!sys/mobile/js/mui/mui-common","dojo/dom-attr"],function(e,i,a,b,g,c,f,h){return e("sys.xform.mobile.controls.relevance.RelevanceSearchBar",[i],{searchCateUrl:"/sys/xform/controls/relevance.do?method=searchCateList&keyword=!{keyword}",searchDocUrl:"/sys/xform/controls/relevance.do?method=searchDocList&keyword=!{keyword}",jumpToSearchUrl:false,needPrompt:false,placeHolder:f["mui.search.hint.doc"],postCreate:function(){this.inherited(arguments);this.subscribe("/mui/category/changed","_cateChange")},_cateChange:function(k,j){if(k.key==this.key&&this.searchNode.value){this.searchNode.value="";if(this.clearNode){c.set(this.clearNode,{display:"none"})}}if(j.isBase){h.set(this.searchNode,"placeHolder",f["mui.search.hint.model"])}else{if(j.isBase==false){h.set(this.searchNode,"placeHolder",f["mui.search.hint.doc"])}else{if(typeof j.fdId=="undefined"||j.fdId==""){h.set(this.searchNode,"placeHolder",f["mui.search.hint.model"])}else{h.set(this.searchNode,"placeHolder",f["mui.search.hint.doc"])}}}},_onClear:function(j){this.searchNode.value="";if(this.clearNode){c.set(this.clearNode,{display:"none"})}if(this.buttonArea){c.set(this.buttonArea,{display:"none"})}b.publish("/mui/search/cancel/back",this)},_onSearch:function(j){this.searchNode.blur();this._eventStop(j);if(this.searchNode.value!=""||this.emptySearch){var k=g.clone(this);k.keyword=encodeURIComponent(this.searchNode.value);var l=a.formatUrl(a.urlResolver(this.searchCateUrl,k));var m=a.formatUrl(a.urlResolver(this.searchDocUrl,k));b.publish("/sys/xform/relevance/search",this,{keyword:k.keyword,cateUrl:l,docUrl:m,modelName:k.modelName,fdControlId:k.fdControlId})}return false},_onblur:function(k){b.publish("/mui/search/onblur",this);this._searchFocus=false;var j=this;this.defer(function(){c.set(j.buttonArea,{display:"none"})},0)}})})},"sys/xform/mobile/validate/ValidationExtend":function(){define(["dijit/registry","mui/i18n/_i18n!sys/xform/mobile/mui-xform","dojo/query"],function(a,c,f){var b={};var e={xform_calculatioFuns:{error:"{name}"+c["Designer_Lang.controlCalculation_func_timeWarning"],test:function(i,h){var g=a.byNode(h.valueNode);return g.validateFun()}},"xform_addressMaxPersonNum(num)":{error:"{name} "+c["Designer_Lang.controlAttrMaxPersonNumValidate"],test:function(g,i,j){var h=isNaN(j.num)?0:parseInt(j.num);if(h==0||!g){return true}j.maxNum=h;if(g.split(";").length>h){return false}return true}}};b.XFormExtendValidates=e;return b})},"sys/xform/mobile/controls/advancedDt/_RequestDataMixin":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/query","mui/util","dojo/request","dojo/dom-construct","dojo/dom-style","dojo/_base/lang"],function(f,c,j,g,e,b,h,a){var i=f("sys.xform.mobile.controls.advancedDt._RequestDataMixin",[c],{defaultUrl:"/sys/xform/detailsTable/sysFormDetailsTableData.do?method=data&mobile=true&formId=!{formId}&fdOriginControlId=!{fdOriginControlId}&modelId=!{modelId}&controlId=!{controlId}&pageno=!{pageno}&rowsize=!{pageSize}&docStatus=!{docStatus}&modelName=!{mainModelName}&xformRight=!{xformRight}&optType=!{optType}&formFilePath=!{formFilePath}",addOrUpdateUrl:"/sys/xform/detailsTable/sysFormDetailsTableData.do?method=addOrUpdate",deleteRowUrl:"/sys/xform/detailsTable/sysFormDetailsTableData.do?method=delete&fdId=!{fdId}&fdFormId=!{fdFormId}&fdControlId=!{fdControlId}",batchDeleteRowUrl:"/sys/xform/detailsTable/sysFormDetailsTableData.do?method=deleteByIds",startup:function(){this.inherited(arguments);this.requestData(this.onDataLoad)},requestData:function(m){var k=this;var l=g.formatUrl(g.urlResolver(this.defaultUrl,this));this.buildLoading();e.post(l,{handleAs:"text"}).then(function(n){if(typeof m!="undefined"){m.call(k,n);h.set(k.tmpLoading,"display","none")}})},buildLoading:function(){if(this.tmpLoading==null){this.tmpLoading=b.create("div",{className:"muiCateLoading",style:{display:"inline-block"},innerHTML:'<i class="mui mui-loading mui-spin"></i>'},this.domNode)}else{h.set(this.tmpLoading,"display","inline-block")}},submit:function(n,m){var k=this;var l=g.formatUrl(g.urlResolver(this.addOrUpdateUrl,this));e.post(l,{data:m,handleAs:"json"}).then(function(o){if(typeof n!="undefined"){n.call(k,o)}})},delRowById:function(m){var l={fdId:m,fdFormId:this.formId,fdControlId:this.controlId};var k=g.formatUrl(g.urlResolver(this.deleteRowUrl,l));e.get(k,{handleAs:"json",sync:true}).then(function(n){if(n&&n.code==1){}})}});return i})},"sys/xform/mobile/controls/Calculation":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-prop","sys/xform/mobile/controls/xformUtil","dijit/registry","mui/form/Input","dojo/query","dojo/dom","dojo/dom-class","dojo/dom-attr","mui/i18n/_i18n!sys/xform/mobile/mui-xform","dojo/dom-style","mui/util","mui/dialog/Tip","dojo/ready","dojo/_base/lang"],function(i,f,c,h,a,l,o,g,q,n,e,k,j,r,p,b){var m=i("sys.xform.mobile.controls.Calculation",[l],{inputClass:"muiInput muiFormItem muiFormCalc",_calcFun:{XForm_CalculatioFuns_Sum:"this._detail_sum",XForm_CalculatioFuns_Count:"this._detail_count",XForm_CalculatioFuns_Avg:"this._detail_avg",XForm_CalculatioFuns_DayDistance:"this._date_distance",XForm_CalculatioFuns_TimeDistance:"this._time_distance",XForm_CalculatioFuns_DefaultValue:"this._default_value",XForm_CalculationFuns_manHoursHourDistance:"this._manHours_hourDistance"},scaleInt:null,isReadOnly:"true",opt:true,isInDetail:false,expression:"",buildRendering:function(){var s=0;if(this.scale!=null&&this.scale!=""){this.scaleInt=parseInt(this.scale,10)}this.inherited(arguments)},postCreate:function(){this.inherited(arguments)},showRight:function(s){if(this.rightIcon){if(s!==""){q.toggle(this.rightIcon,"muiSelInputRightShow",s)}else{q.toggle(this.rightIcon,"muiSelInputRightShow",true)}}},startup:function(){this.inherited(arguments);var s=[];this.xformAreaNode=document.forms[0];if(j.getUrlParameter(location.href,"method")=="add"){this._calc()}this.isInDetail=h.isInDetail(this);this.subscribe(this.EVENT_VALUE_CHANGED,"_calcValue");this.subscribe("/mui/form/rowValueChanged","_calcValue");this.bindEvents()},bindEvents:function(){p(b.hitch(this,function(){if(typeof this.inputNode!="undefined"&&this.inputNode.type&&this.inputNode.type==="hidden"){var s=this;Com_Parameter.event.submit.push(function(){var t=true;var u=s.inputNode.value;if(!(!isNaN(u)&&!/^\s+$/.test(u)&&/^.{1,20}$/.test(u)&&/(\.)?\d$/.test(u))){if(u.indexOf("Infinity")>-1){r.fail({text:u+"不是一个有效数字!!!"});t=false}}return t})}}))},setAllowSubmit:function(s,t,u){if((s>t||(!isNaN(s)&&isNaN(t)))&&u){n.set(this.domNode,"notAllowSubmit","true")}else{n.set(this.domNode,"notAllowSubmit","false")}},isReturnNaN:function(s,t){if(!this.isParamDefault()&&(((isNaN(s)&&isNaN(t))||(isNaN(s)&&!isNaN(t))))){return true}return false},isParamDefault:function(){return this.paramdefault==="true"},buildOptIcon:function(s){if(this.isReadOnly=="false"){var t=f.create("span",{className:"mui mui-calc"},s);this.connect(t,"click","_calcPrevent")}},_calcPrevent:function(s){s=s||window.event;if(s.preventDefault){s.preventDefault()}if(s.stopPropagation){s.stopPropagation()}this._calc()},buildEdit:function(){if(this.isReadOnly=="true"){this.buildReadOnly();if(this.validate){this.validate=this.validate+" number"}else{this.validate="number"}}else{this.inherited(arguments)}},buildView:function(){this.inherited(arguments);this.inputNode=f.create("input",{name:this.name,className:this.inputClass,type:"hidden"},this.domNode)},viewValueSet:function(v){var t=v+"";if(v==null||t==""||isNaN(t)){this.textNode.innerHTML="";this.inputNode.value="";return}this.inputNode.value=t;if(this.scaleInt!=null){if(this.dataType==="Double"){t=this._round(t,this.scaleInt)+""}else{t=(parseFloat(t).toFixed(this.scaleInt)+"")}}if("true"==this.thousandshow){t=t.replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g,"$&,");var s=t.indexOf(".");if(s>0){var u=t.substring(s);u=u.replace(/,/g,"");t=t.substring(0,s)+u}}this.textNode.innerHTML=t},getStandardValidateDom:function(){var t=o(this.domNode).parent("xformflag")[0];o(t).children("div.muiValidate").remove();var s="";s="<div class='muiValidate'><div class='muiValidateContent'><div class='muiValidateShape'></div>";s+="<div class='muiValidateInfo'><span class='muiValidateIcon'></span><span class='muiValidateMsg'>";s+="<span class='muiValidateTitle'>"+this.subject+"</span>"+e["mui.calculation.validateMsg"]+"</span></div>";s+="</div></div>";this.validateDom=f.toDom(s);f.place(this.validateDom,this.domNode,"after");return this.validateDom},_isRelationControl:function(u){var x=this.expression;var v=h.parseName(this);var t=false;if(/\.(\d+)\./g.test(v)){if(/\.(\d+)\./g.test(u)){var w=v.match(/\.(\d+)\./g)[0];var s=u.match(/\.(\d+)\./g)[0];if(w==s){if(x.indexOf(u.replace(s,"."))>-1){t=true}}}else{if(x.indexOf(u)>-1){t=true}}}else{if(this.isInDetail){var z=u.match(/\.(\d+)\./g);z=z?z:[];if(z.length>0){u=u.replace(z[0],".")}if(x.indexOf(u)>-1){t=true}}else{u=u?u.replace(/\.(\d+)\./g,"."):u;if(x.indexOf(u)>-1){t=true}}}return t},_calcValue:function(u,s){if(u==null&&s&&s.eventType&&s.eventType=="detailsTable-delRow"){var v=s.tableId;if(this.expression&&this.expression.indexOf(v)>-1){if(!h.isInDetail(this)||h.isInStatisticTr(this)){this.isDeleteCount=true;this._calc()}}}else{if(u==null&&s&&s.eventType&&s.eventType=="detailsTable-addRow"){if(this.isReadOnly=="false"){if(s.row){this._calc()}}else{this._calc()}}else{if(u!=null&&this!=u){var t=h.parseName(u);if(t!=null&&t!=""&&this._isRelationControl(t)){this._calc()}}}}q.add(this.domNode,"showTitle")},_calc:function(){if("true"==this.calculation){this._preDealExpression();if(this.expression==null||this.expression==""){return}var w=o("[widgetid]",this.xformAreaNode);if(w.length>0){var v=null;for(var u=0;u<w.length;u++){var x=a.byNode(w[u]);var t=h.parseXformName(x);if(t!=null&&t!=""&&(this.expression.indexOf(t)>-1)){if(t.indexOf(".")>-1&&"true"==this.isrow){if(this.XForm_CalculationGetTableRr(this.domNode)==this.XForm_CalculationGetTableRr(w[u])){if(v==null){v={}}var s=v[t];if(!s){s=[];v[t]=[]}s.push(this._parserCalcValue(x));v[t]=s}}else{if(v==null){v={}}var s=v[t];if(!s){s=[];v[t]=[]}s.push(this._parserCalcValue(x));v[t]=s}}}this._fillValue(v)}}},XForm_CalculationIsDetailTableRr:function(t){if(t.tagName=="TR"&&"true"!=t.getAttribute("data-celltr")){for(var s=t.parentNode;s!=null;s=s.parentNode){if(s.tagName=="TABLE"){return(/^TABLE_DL_/.test(s.id))}}return true}return false},XForm_CalculationGetTableRr:function(t){for(var s=t.parentNode;s!=null;s=s.parentNode){if(this.XForm_CalculationIsDetailTableRr(s)){return s}}return null},_fillValue:function(A){var B=this.expression;var D=new RegExp();var x=false;for(var u in this._calcFun){if(B.indexOf(u)>-1){D.compile("\\$"+u+"\\$","gi");B=B.replace(D,this._calcFun[u]);if(!x){x=true}}}for(var C in A){var t="";if(x){t=A[C].join(", ")}else{t=A[C].join(" + ");t="("+t+")"}D.compile("\\$"+C+"\\$","gi");B=B.replace(D,t)}if(this.paramdefault&&this.paramdefault!=null&&this.paramdefault=="true"){B=this._setDefaultVal(B)}if(B.indexOf("$")>-1){return}var E=0;try{E=new Function("return ("+B+");").apply(this);if(E!=null&&E!=""&&!isNaN(E)){var z=E.toString();if(/\.\d*999999/.test(z)||/\.\d*0000000/.test(z)){var s=Math.pow(10,6);E=Math.round(parseFloat(E)*s)/s}}else{if(E==null||isNaN(E)){E=""}else{E=0}}}catch(w){if(E==null||isNaN(E)){E=""}else{E=0}}if(this.scaleInt!=null&&E!=0){if(this.dataType==="Double"||this.dataType==="BigDecimal"||this.dataType==="BigDecimal_Money"){var v=this._round(E,this.scaleInt)}else{var v=(parseFloat(E+"").toFixed(this.scaleInt)+"")}if(v===0){v=v+""}this.set("value",v);$("div[_name='"+this.name+"']").each(function(){var F=$(this).attr("mark");if(F==="autoAdaptionView"){this.innerHTML=v}})}else{if(E===0){E=E+""}this.set("value",E);$("div[_name='"+this.name+"']").each(function(){var F=$(this).attr("mark");if(F==="autoAdaptionView"){this.innerHTML=E}})}},_round:function(u,t){var s=(Math.round(this._accMul(u,Math.pow(10,t)))/Math.pow(10,t));if(s&&t&&t>0){if(s=="Infinity"||s==Infinity){return s}s=s.toString();var v=s.indexOf(".");if(v<0){v=s.length;s+="."}while(s.length<=v+t){s+="0"}}return s},_accMul:function(v,t){var s=0;var w=v.toString();var u=t.toString();try{s+=w.split(".")[1].length}catch(x){}try{s+=u.split(".")[1].length}catch(x){}return Number(w.replace(".",""))*Number(u.replace(".",""))/Math.pow(10,s)},_setDefaultVal:function(s){var t=new RegExp();t.compile("\\$(\\w)+(\\.)?(\\w)+\\$","gi");return s.replace(t,0)},_parserCalcValue:function(D){if(D.declaredClass=="mui.form.Address"||D.declaredClass=="sys.xform.mobile.controls.NewAddress"){return"'"+D.curIds+"'"}var s=D.get("value");if(s==""||s==null){if(this.paramdefault&&this.paramdefault!=null&&this.paramdefault=="true"){return 0}return NaN}s=""+s;var z=/(\d:)/g.test(s);var B=/^\d{4}-\d{2}-\d{2}/.test(s);var A=/^\d{2}\/\d{2}\/\d{4}/.test(s);calculation_isTime={};calculation_isTime={isTime:(z&&(!B&&!A))};var x,C;if(z&&(B||A)){calculation_isTime.isDateTime=true;var w=s.split(/ +/);x=this._parseDate(w[0],B);C=this._parseTime(w[1]);return(new Date(x[0],parseFloat(x[1])-1,x[2],C[0],C[1],[2])).getTime()}if(z){C=this._parseTime(s);var u=0;for(var v=0;v<C.length;v++){u+=parseFloat(C[v]*Math.pow(60,C.length-v))}u=u*1000;return u}if((B||A)){calculation_isTime.isDate=true;x=this._parseDate(s,B);return(new Date(x[0],parseFloat(x[1])-1,x[2])).getTime()}s=s.replace(/\,/g,"");return parseFloat(s)},_parseDate:function(t,s){var v;if(s){return t.split("-")}else{v=[];var u=t.split("/");v[0]=u[2];v[1]=u[0];v[2]=u[1]}return v},_parseTime:function(s){return s.split(":")},_default_value:function(t,s){if(t==null||isNaN(t)){return s}return t},showValidateDom:function(){this.getStandardValidateDom().style.display="block"},hideValidateDom:function(){this.getStandardValidateDom().style.display="none"},_date_distance:function(s,v,x){var t=0;this.setAllowSubmit(s,v,x);try{if(parseFloat(v)<parseFloat(s)||(!isNaN(s)&&isNaN(v))){if(!x){this.showValidateDom()}return NaN}else{if(!this.notAllowSubmit){this.hideValidateDom()}}if(this.isReturnNaN(s,v)){return NaN}var w=1;if(s===0&&v===0){w=0}t=parseInt((parseFloat(v)-parseFloat(s))/86400000+w)}catch(u){}return t},_time_distance:function(s,v,w){var t=0;this.setAllowSubmit(s,v,w);try{endData=parseFloat(v);s=parseFloat(s);if(endData<s||(!isNaN(s)&&isNaN(v))){if(!w){this.showValidateDom()}return NaN}else{if(!this.notAllowSubmit){this.hideValidateDom()}}if(this.isReturnNaN(s,v)){return NaN}t=endData-s}catch(u){}return t},_detail_sum:function(){var v=(arguments.length>1||!(arguments[0] instanceof Array))?arguments:arguments[0];var u=0,s;for(var t=0;t<v.length;t++){s=parseFloat(v[t]);if(isNaN(s)){s=0}u=this._accAdd(u,s)}return u},_detail_avg:function(){var w=(arguments.length>1||!(arguments[0] instanceof Array))?arguments:arguments[0];var u=0,s,v=0;for(var t=0;t<w.length;t++){s=parseFloat(w[t]);if(isNaN(s)){continue}u=this._accAdd(u,s);v++}return(u/v)},_detail_count:function(){var u=(arguments.length>1||!(arguments[0] instanceof Array))?arguments:arguments[0];var t=0;if(u.length==1&&u[0]==0&&this.isDeleteCount==true){this.isDeleteCount==false;return t}for(var s=0;s<u.length;s++){if(u[s]!=null&&u[s]!==""&&!isNaN(u[s])){t++}}return t},_accAdd:function(x,v){var u,t,s;try{u=x.toString().split(".")[1].length}catch(w){u=0}try{t=v.toString().split(".")[1].length}catch(w){t=0}s=Math.pow(10,Math.max(u,t));return Math.round(x*s+v*s)/s},formatDateTime:function(v){var u=v.getFullYear();var t=v.getMonth();var s=v.getDate();t=t+1;if(t<10){t="0"+t}if(s<10){s="0"+s}return u+"-"+t+"-"+s},_manHours_hourDistance:function(x,s,w,v,z){if(!x){var u=(parseFloat(this._time_distance(s,w)))/3600000;return this._round(u,this.scaleInt||2)}this.setAllowSubmit(s,w,z);if(calculation_isTime.isTime){var t=new Date();t=this.formatDateTime(t);d=this._parseDate(t,"-");t=(new Date(d[0],parseFloat(d[1])-1,d[2])).getTime();s=new Date(t+s).getTime();w=new Date(t+w).getTime()}if(w<s||(!isNaN(s)&&isNaN(w))){if(!z){this.showValidateDom()}return NaN}else{if(!z){this.hideValidateDom()}}var B=calculation_isTime.isDate;if(v){B=v=="date"}if(B){w+=86400000}var A=0;$.ajax({type:"post",async:false,data:{userId:x,startDate:s,endDate:w,flag:"hour"},dataType:"text",url:Com_Parameter.ContextPath+"sys/xform/designer/formula_calculation/jsonp.jsp?s_bean=sysTimeCountService",success:function(C){A=C}});if(this.isReturnNaN(s,w)){return NaN}var u=(parseFloat(A))/3600000;return this._round(u,this.scaleInt||2)},_preDealExpression:function(){var s=f.create("div",{innerHTML:this.expression});this.expression=c.get(s,"textContent")},validateFun:function(){var v=o(this.domNode).parent("xformflag")[0];var t=o(v).children("div.muiValidate");var s=false;var u=n.get(this.domNode,"notAllowSubmit");if(u==="true"){return false}return true}});return m})},"sys/xform/mobile/controls/fSelect/FSelectDialog":function(){define(["dojo/_base/declare","dojo/topic","dojo/dom","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/html","dojo/_base/array","mui/util","dojo/touch","dojox/mobile/_css3","dijit/registry","dojo/dom-class","dijit/_WidgetBase"],function(h,k,f,c,l,b,j,m,i,g,p,a,o,e){var n=h("sys.xform.mobile.controls.fSelect.FSelectDialog",[e],{isMul:true,templURL:"sys/xform/mobile/controls/fSelect/fSelect.jsp",key:"",data:[],_dialogDivPrefix:"__cate_dialog_",SETVALUE_EVNET:"/sys/xform/fSelect/setvalue",SUBMIT_EVENT:"/sys/xform/fSelect/main/submit",_init:function(q){k.subscribe(this.SUBMIT_EVENT,b.hitch(this,"returnDialog"));this.key=q.key;this.curIds=q.curIds;this.data=q.data;this.isMul=q.isMul;this.required=q.required;this.leastNItem=q.leastNItem;this.subject=q.subject},returnDialog:function(r,q){if(q){if(r.key==this.key){k.publish(this.SETVALUE_EVNET,this,q);this.closeDialog(r)}}},showAnimate:function(){o.add(this.dialogDiv,"fadeIn animated");l.set(this.dialogDiv,"display","block");l.set(this.dialogDiv,"background-color","rgba(0, 0, 0, 0.6)");o.add(this.dialogContainerDiv,"fadeInRight animated");l.set(this.dialogContainerDiv,"display","block");var q=this;setTimeout(function(){o.remove(q.dialogDiv,"fadeIn");o.remove(q.dialogContainerDiv,"fadeInRight")},500)},closeDialog:function(r){if(this.dialogDiv&&r.key==this.key){l.set(this.dialogDiv,p.name("transform"),"translate3d(100%, 0, 0)");var q=this;setTimeout(function(){if(q.parseResults&&q.parseResults.length){m.forEach(q.parseResults,function(s){if(s.destroy){s.destroy()}});delete q.parseResults}c.destroy(q.dialogDiv);q.dialogDiv=null;q._working=false},410)}},initSelData:function(){var r=a.byId("_fSelect_sgl_search_list_"+this.key);if(r){r.initSearchBars(this.data,"")}var q=a.byId("_fSelect_sgl_list_"+this.key);q.setData(this.data,null,this.curIds);q.setArgu(this.argu)},_closeDialog:function(q){var r=q.target;if(this.dialogDiv&&r===this.dialogDiv){this.__doCloseDialog()}},__doCloseDialog:function(){o.add(this.dialogContainerDiv,"fadeOutRight animated");o.add(this.dialogDiv,"fadeOut animated");this.defer(function(){if(this.dialogContainerDiv){l.set(this.dialogContainerDiv,"display","none")}if(this.dialogDiv){l.set(this.dialogDiv,"display","none")}},500);setTimeout(b.hitch(this,function(){if(this.parseResults&&this.parseResults.length){m.forEach(this.parseResults,function(q){if(q.destroy){q.destroy()}});delete this.parseResults}c.destroy(this.dialogDiv);this.dialogDiv=null;this._working=false}),410)},select:function(s){this._init(s);if(this.templURL&&!this._working){var r=this._dialogDivPrefix+this.key;this._working=true;this.dialogDiv=f.byId(r);if(this.dialogDiv==null){var q=this;require(["dojo/text!"+i.urlResolver(this.templURL,this)],function(u){q.dialogDiv=c.create("div",{id:r,className:"muiCateDiaglog",tabindex:"0"},document.body,"last");q.dialogContainerDiv=c.create("div",{className:"muiCateDiaglogContainer "},q.dialogDiv);q.dialogDiv.focus();q.defer(function(){q.connect(q.dialogDiv,"click","_closeDialog")},500);i.disableTouch(q.dialogDiv,g.move);var t=new j._ContentSetter({node:q.dialogContainerDiv,parseContent:true,cleanContent:true,onBegin:function(){this.content=b.replace(this.content,{argu:q});this.inherited("onBegin",arguments)}});t.set(u);t.parseDeferred.then(function(v){q.parseResults=v;l.set(q.dialogDiv,p.name("transform"),"translate3d(0, 0, 0)");q.initSelData()});t.tearDown();q.showAnimate()})}}}});return n})},"sys/xform/mobile/controls/DetailTableValidator":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/json","dojo/dom","dojo/dom-construct","dojo/dom-attr","dijit/registry","dojox/mobile/viewRegistry","dojox/mobile/ListItem","dojo/query","dojo/NodeList-manipulate"],function(e,g,l,c,b,i,a,k,j,h){var f=e("sys.xform.mobile.controls.DetailTableValidator",[j],{detailTableId:null,showRow:0,edit:false,curView:null,_needValidate:false,postCreate:function(){this.inherited(arguments)},startup:function(){this.inherited(arguments);this.dTableView=a.byId("dt_wrap_"+this.detailTableId+"_view");this.view=a.byId(this.curView);if(this.view._validation!=null){var m=this;this._needValidate=true;this.view._validation.addValidator("detailTable_required_"+this.detailTableId,"{name} 中有必填项",function(){return m.validateDetailTable()})}},validateDetailTable:function(){if(this._needValidate){if(this.dTableView&&this.view){if(this.dTableView.validate){if(!this.dTableView.validate()){return false}}}}return true}});return f})},"sys/attend/map/mobile/resource/js/common/MapUtil":function(){define(["dojo/_base/declare","dojo/_base/window","mui/coordtransform"],function(b,e,c){var a=b("map.mui.MapUtil",null,{bMapKey:"cnG6G1wW70lQ36H693uVOyOXiwvMaph3",_OD:function(g,f,h){while(g>h){g-=h-f}while(g<f){g+=h-f}return g},_SD:function(g,f,h){f!=null&&(g=Math.max(g,f));h!=null&&(g=Math.min(g,h));return g},getDistance:function(g,f){var i=this.getCoordType(g);var h=this.getCoordType(f);var k=g.replace("bd09:","").replace("gcj02:","").split(/[,;]/);var j=f.replace("bd09:","").replace("gcj02:","").split(/[,;]/);var p={lat:k[0],lng:k[1]};var n={lat:j[0],lng:j[1]};if(i!=h){if(i==5){var r=c.gcj02tobd09(p.lng,p.lat);p={lat:r[1],lng:r[0]}}if(h==5){var r=c.gcj02tobd09(n.lng,n.lat);n={lat:r[1],lng:r[0]}}}var q=Math.PI*this._OD(p.lng,-180,180)/180;var o=Math.PI*this._OD(n.lng,-180,180)/180;var m=Math.PI*this._SD(p.lat,-74,74)/180;var l=Math.PI*this._SD(n.lat,-74,74)/180;return 6370996.81*Math.acos(Math.sin(m)*Math.sin(l)+Math.cos(m)*Math.cos(l)*Math.cos(o-q))},getCoordType:function(f){if(f.indexOf("bd09:")>-1){return 3}if(f.indexOf("gcj02:")>-1){return 5}return 3},formatCoord:function(f,g){var i="bd09:";if(g==5){i="gcj02:"}var h=i+(f.lat+","+f.lng);return h},getCoord:function(g){var f=g.replace("bd09:","").replace("gcj02:","").split(/[,;]/);return{lat:f[0],lng:f[1]}}});return new a()})},"sys/xform/mobile/controls/event/EventDataSelectAllCheckBox":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dojo/dom-attr","dojo/dom-style","dijit/_WidgetBase","dojo/topic","dojo/query","dijit/registry","mui/i18n/_i18n!sys/xform/mobile/mui-xform"],function(j,g,b,m,e,l,i,f,h,k,a,c){return g("sys.xform.mobile.controls.event.EventDataSelectAllCheckBox",[f],{key:null,isMul:false,selected:false,isSelectAll:true,buildRendering:function(){this.inherited(arguments);this.selectAllCheckboxArea=e.create("div",{className:"muiEventSelectAllCheckboxArea"},this.domNode);this.selectAllCheckbox=e.create("div",{className:"muiEventSelectAllCheckbox"},this.selectAllCheckboxArea);this.selectAll=e.create("span",{innerHTML:c["mui.event.selectAll"]},this.selectAllCheckboxArea);i.set(this.selectAll,"display","inline-block");if(this.params&&!this.params.isMul){i.set(this.selectAllCheckboxArea,"display","none")}},postCreate:function(){this.inherited(arguments);this.subscribe("/sys/xform/event/checked","_checked");this.subscribe("/sys/xform/event/unchecked","unchecked");this.subscribe("/sys/xform/event/searchData","unchecked");this.connect(this.selectAllCheckboxArea,"click",function(n){var o=new Date().getTime();if(this._lastClickTime){if((o-this._lastClickTime)<500){return}this._lastClickTime=o}this._lastClickTime=o;this.defer(function(p){this._select(p)},350)})},startup:function(){this.inherited(arguments)},_checked:function(o){var r=o.getParent();if(r==null){return}var n=true;if(o.key==this.key&&o!=this){var q=r.get("domNode")||{};var s=q.children||[];for(var p=0;p<s.length;p++){var t=a.byNode(s[p]);if(t&&t.get("selected")===false){n=false;break}}if(n&&!this.selected){this.selected=!this.selected;e.create("i",{className:"fontmuis muis-form-selected-cor"},this.selectAllCheckbox);m.add(this.selectAllCheckbox,"selected")}}},unchecked:function(n){if(n.key==this.key&&this.selected){this.selected=!this.selected;e.empty(this.selectAllCheckbox);m.remove(this.selectAllCheckbox,"selected")}},_select:function(n){if(n){if(n.stopPropagation){n.stopPropagation()}if(n.cancelBubble){n.cancelBubble=true}if(n.preventDefault){n.preventDefault()}if(n.returnValue){n.returnValue=false}}this.selected=!this.selected;if(this.selected){e.create("i",{className:"fontmuis muis-form-selected-cor"},this.selectAllCheckbox);m.add(this.selectAllCheckbox,"selected")}else{e.empty(this.selectAllCheckbox);m.remove(this.selectAllCheckbox,"selected")}h.publish("/sys/xform/event/selectAll",this)}})})},"sys/xform/mobile/controls/relationRule/RelationRuleAttrChange":function(){define(["dojo/_base/declare","sys/xform/mobile/controls/xformUtil","dojo/json","dojo/dom-construct","mui/form/_FormBase","dojo/query","dojo/_base/array","dojo/dom-attr","mui/form/DateTime"],function(c,b,j,a,h,i,f,g,k){var e=c("sys.xform.mobile.controls.relationRule.RelationRuleAttrChange",null,{baseField:null,constructor:function(l){this.inherited(arguments);this.baseField=l;if(l.target&&l.target.widget){this.widgetDomNode=l.target.widget.domNode}},isContainedByRightControl:function(){var m=this.widgetDomNode;if(m){while(m!=document.body){if(m.nodeName=="XFORMFLAG"){var l=g.get(m,"flagtype");if(l&&l=="xform_right"){return true}}m=m.parentNode}}return false},execRequired:function(l){var m=this.baseField;if(m.target.type==="relationRadio"&&this.widgetDomNode&&$(this.widgetDomNode).find("input[type='radio']").length===0){l="0"}if(l){if(l=="0"||l==false){m.required(false);if(m.target&&m.target.widget){m.target.widget.isRelationRule=true}}else{if(l=="1"||l==true){m.required(true)}}}},execDisplay:function(l){var m=this.baseField;if(l){if(l=="0"||l==false){m.display(false)}else{if(l=="1"||l==true){m.display(true)}else{if(l=="21"){var n=this.widgetDomNode;if(n){while(n.nodeName!="TR"&&n!=document.body){n=n.parentNode}n.style.display="table-row"}}else{if(l=="20"){var n=this.widgetDomNode;if(n){while(n.nodeName!="TR"&&n!=document.body){n=n.parentNode}n.style.display="none"}}}}}}},execReadonly:function(l){var m=this.baseField;if(l){if(l=="0"||l==false){m.readOnly(false)}else{if(l=="1"||l==true){m.readOnly(true)}}}}});return e})},"sys/xform/mobile/controls/advancedDt/DetailsTable":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-construct","dojo/dom","dojo/_base/lang","mui/util","sys/xform/mobile/controls/advancedDt/_RequestDataMixin","dojo/dom-class","sys/xform/mobile/controls/advancedDt/Paging","dojo/dom-attr","dojo/dom-form","dojox/mobile/viewRegistry","dojo/_base/array","sys/attachment/mobile/js/AttachmentList","dijit/registry","mui/form/_FormBase","sys/xform/mobile/controls/detailsTable/mobileDetailsTableScript","mui/base64","dojo/topic","dojo/query","dojo/parser","dojo/dom-style"],function(u,s,k,q,x,b,f,n,h,t,j,r,l,w,m,a,e,c,p,i,g,o){var v=u("sys.xform.mobile.controls.advancedDt.DetailsTable",[s,f],{pageno:"1",pageSize:"5",totalSize:"0",adDetail:true,controlId:null,mainModelName:null,fdKey:null,fdOriginControlId:"",formFilePath:"",docStatus:null,xformRight:"",right:"",expand:true,buildRendering:function(){this.mainModelName=_xformMainModelClass;this.modelId=_xformMainModelId;this.formFilePath=Xform_ObjectInfo.formFilePath;this.docStatus=Xform_ObjectInfo.mainDocStatus;this.fdOriginControlId=this.originId;this.controlId=this.objId;this.formId=Xform_ObjectInfo.fdFormId;this.optType=Xform_ObjectInfo.optType;this.inherited(arguments);this.init();n.add(this.domNode,"muiDetailTableWrap")},init:function(){DocList_Info.push(this.tableId);window._mobileDetailsTableScript.init(this.objId,this.tableId,this.showRow,this.required);var z=this;Com_Parameter.event["confirm"].push(function(){z.savePageData();return true})},savePageData:function(B){var A=this.getOnePageValueNew();var z={};x.mixin(z,A);z.fdControlId=this.controlId;z.fdKey=this.fdKey;z.fdModelName=this.mainModelName;z.fdModelId=this.modelId;z.fdFormId=this.formId;z.fdOriginControlId=this.originId;this.submit(B,z)},getOnePageValueNew:function(){return this.formSubmit()},doPaging:function(z){this.requestData(this.appendNextPageRows)},validate:function(){var A=r.getEnclosingView(this.domNode);var z=true;var B=this.getValidateElements();l.forEach(B,function(C){if(!A._validation.validateElement(C)){z=false}});return z},expandTable:function(){var A=i(".muiDetailTableHead",this.domNode)[0];var z=i(".muiDetailDisplayOpt",A)[0];this.connect(z,"click",this.doExpandTable)},doExpandTable:function(z){var A=z.srcElement;var B=i(".muiDetailTableContent",this.domNode)[0];if(this.expand){n.add(B,"folder");n.add(A,"muis-spread");n.remove(A,"muis-put-away")}else{n.remove(B,"folder");n.add(A,"muis-put-away");n.remove(A,"muis-spread")}this.expand=!this.expand;p.publish("/mui/list/resize")},getValidateElements:function(){var z=[];if(this.domNode){l.forEach(i("[widgetid]",this.domNode),function(B){var A=m.byNode(B);if(A instanceof a&&A.edit==true){z.push(A)}});l.forEach(i("[validate]",this.domNode),function(A){z.push(A)})}return z},formSubmit:function(){var A=q.byId(this.tableId);var z=k.toDom("<form name='"+this.tableId+"'></form>");k.place(z,this.domNode,"first");k.place(A,z,"first");var B=j.toObject(z);return B},getAttWgts:function(){var z=[];l.forEach(i("[widgetid]",this.domNode),function(B){var A=m.byNode(B);if(A instanceof w&&A.edit){z.push(A)}});return z},confirm:function(){var z=this.getAttWgts();for(var A=0;A<z.length;A++){var B=z[A];if(B.edit){var C=B.checkAttRules();if(!C){return false}}}return true},postCreate:function(){this.inherited(arguments)},startup:function(){this.inherited(arguments);this.subscribe("/sys/xform/detailsTable/page",x.hitch(this,function(z){if(typeof this.controlId!="undefined"&&z.controlId==this.controlId){this.pageno=z.pageno;this.doPaging()}}))},destroyRow:function(){var A=q.byId(this.tableId);var z=this;i(".detail_wrap_td",A).forEach(function(B){window["detail_"+z.objId+"_delRow"](B.parentNode)})},setHtml:function(A){var z=this;b.setInnerHTML(this.domNode,A).then(x.hitch(z,function(){g.parse({rootNode:z.domNode}).then(function(){p.publish("/detailsTable/parser/done");z.parseDone();z.expandTable();z.refreshTableInfo()})}))},parseDone:function(){var A=q.byId(this.tableId);var z=window["detail_"+this.objId+"_pageInfo"];if(z){z=JSON.parse(z);this.reRender({pageno:z.currentPage,rowsize:z.pageSize,totalSize:z.totalSize})}else{this.reRender({})}},onDataLoad:function(A){if(A){this.setHtml(A)}else{if(this.right=="edit"){var B=parseInt(this.showRow);for(var z=0;z<B;z++){window["detail_"+this.objId+"_addRow"]()}}}},refreshTableInfo:function(){var C=q.byId(this.tableId);this.tableInfo=DocList_TableInfo[C.id];if(this.tableInfo){this.tableInfo.DOMElement=C;for(var A=0;A<C.rows.length;A++){var B=C.rows[A];z=B.getAttribute("KMSS_IsReferRow");if(z=="1"||z=="true"){this.tableInfo.firstIndex=A;this.tableInfo.lastIndex=A;Com_SetOuterHTML(B,"");break}}for(;A<C.rows.length;A++){var z=C.rows[A].getAttribute("KMSS_IsContentRow");if(z!="1"&&z!="true"){break}this.tableInfo.lastIndex++}DocList_ResetOptCol(this.tableInfo)}},doRender:function(){this.renderPaging()},renderPaging:function(){if(!this.pagingWgt){this.pagingWgt=new h();this.pagingWgt.startup();this.pagingWgt.render(this);k.place(this.pagingWgt.domNode,this.domNode,"last")}else{this.pagingWgt.render(this)}},reRender:function(z){this.pageno=(z.pageno&&z.pageno>0)?z.pageno:"1";this.pageSize=(z.rowsize&&z.rowsize>0)?z.rowsize:"5";this.totalSize=z.totalSize||0;this.currentPageDatas=[];this.doRender()},delRow:function(B){var z=i("input[ele-type='rowId']")[0];if(z){var A=t.get(z,"value");if(A){this.delRowById(A)}}},appendNextPageRows:function(z){this.handler(z)},handler:function(A){var z=this;if(!this.formatDom){this.formatDom=k.toDom("<div name='detail_"+this.objId+"_format'></div>");k.place(this.formatDom,this.domNode,"last")}b.setInnerHTML(this.formatDom,A).then(x.hitch(z,function(){g.parse({rootNode:z.formatDom}).then(function(){var B=i("tr[kmss_iscontentrow='1']",z.formatDom);z.appendRows(B);var C=window["detail_"+z.objId+"_pageInfo"];if(C){C=JSON.parse(C);z.reRender({pageno:C.currentPage,rowsize:C.pageSize,totalSize:C.totalSize})}else{z.reRender({})}})}))},appendRows:function(A){var C=q.byId(this.tableId);var B=i("tr[kmss_iscontentrow='1']",C);var z=B[B.length-1];l.forEach(A,function(D){k.place(D,z,"after")});k.empty(this.formatDom);this.tableInfo=DocList_TableInfo[this.tableId];if(this.tableInfo){this.tableInfo.lastIndex=this.tableInfo.lastIndex+A.length}}});return v})},"sys/xform/mobile/controls/fSelect/FSelectList":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-construct","dojo/dom-attr","dijit/_Contained","dijit/_Container","dijit/_WidgetBase","dojo/topic","sys/xform/mobile/controls/fSelect/FSelectListItem","sys/xform/mobile/controls/xformUtil","dojo/request","mui/util","dojo/dom-style","mui/list/item/_TemplateItemMixin","dojo/query","dojo/dom-class","dojox/mobile/_css3","mui/i18n/_i18n!sys/xform/mobile/mui-xform","mui/dialog/Tip"],function(g,r,u,e,q,s,k,o,m,t,f,b,a,l,n,c,i,h,j,p){return r("sys.xform.mobile.controls.fSelect.FSelectList",[o,k,s],{isMul:true,pageAble:false,key:null,headers:null,argu:null,baseClass:"muiCateLists",_pageNum:1,items:[],SUBMIT_EVENT:"/sys/xform/fSelect/submit",ONPUSH_EVENT:"/mui/list/onPush",SEARCH_EVENT:"/sys/xform/fSelect/search",SELECTED_EVENT:"/sys/xform/fSelect/selected",SHOWNOMORE_EVENT:"/sys/xform/event/showNomore",NEXTPAGE_EVENT:"/sys/xform/event/nextpage",CANCEL_SEARCH_EVENT:"/mui/search/cancel",CHECKED_EVENT:"/sys/xform/fSelect/checked",UNSELECTALL_EVENT:"/sys/xform/fSelect/unSelectAll",postCreate:function(){this.inherited(arguments);this.subscribe(this.SUBMIT_EVENT,"_returnData");this.subscribe(this.SEARCH_EVENT,"_searchDataInfo");this.subscribe(this.ONPUSH_EVENT,"_appendNext")},_returnData:function(w){if(this.key==w.key){var v={};v.headers=this.headers;v.argu=this.argu;v.rows=[];g.forEach(this.getChildren(),function(z){if(z.selected){v.rows.push(z.data)}},this);if(this.required){if(this.leastNItem>v.rows.length){var x=p.tip({text:j["mui.fSelect.validateMsg"].replace("{title}",this.subject).replace("{n}",this.leastNItem)});l.set(x.containerNode,{"z-index":9999999});return false}}m.publish(this.SELECTED_EVENT,this,v)}},setArgu:function(v){this.argu=v},setData:function(x,z,v){if(!this.headers){this.headers=x.headers}if(!z){z=this.containerNode}if(x.length>0){this.items=[];var w=0;g.forEach(x,function(C){C.itemVals=[C.text];var B=this.createItem(x.headers,C);this.append(B,z);var D=(v||"").split(";");for(var A=0;A<D.length;A++){if(D[A]===C.value){w++;B._selectData();break}}},this);if(w!=x.length){m.publish(this.UNSELECTALL_EVENT,this)}}},_searchDataInfo:function(A,w){if(w){if(A.key==this.key){var z=this;var v=w.argu;v=JSON.parse(v);var B=new RegExp(v.value,"gi");var x=false;g.forEach(this.items,function(D){var C=D.data.text.match(B);if(C==null){l.set(D.domNode,"display","none")}else{l.set(D.domNode,"display","block");x=true}},this);if(!x){this.noDataDom=e.toDom(this.buildNoDataMessage());e.place(this.noDataDom,this.domNode,"last")}else{if(this.noDataDom){e.destroy(this.noDataDom);this.noDataDom=null}m.publish("/sys/xform/fSelect/unSelectAll",this)}}}},_appendNext:function(w,x){if(w.key==this.key){if(this.pageAble){var v=this;m.publish(v.NEXTPAGE_EVENT,this,{argu:this.argu,pageNum:(this._pageNum+1)},{done:function(z){if(z!=null&&z.rows.length>0){v.argu.dataLength=z.rows.length;v._pageNum=v._pageNum+1;v.setData(z)}else{m.publish(v.SHOWNOMORE_EVENT,v)}x.done()}})}else{x.done()}}},append:function(v,w){e.place(v.domNode,w,"last")},createItem:function(x,w){var v=new t({key:this.key,isMul:this.isMul,headers:x,data:w});v.startup();this.items.push(v);return v},buildNoDataMessage:function(){var v=[];v.push("<li class='muiListNoData' style='height: 599px; line-height: 599px;'>");v.push("<div class='muiListNoDataArea'>");v.push("<div class='muiListNoDataInnerArea'>");v.push("<div class='muiListNoDataContainer muiListNoDataIcon'><i class='mui mui-message'></i></div>");v.push("</div>");v.push("<div class='muiListNoDataTxt'>");v.push("暂无内容");v.push("</div>");v.push("</div>");return v.join("")}})})},"sys/xform/mobile/controls/newAddress/address_mul":function(){define(["./address_common"],function(b){function a(f,e){var c=b.html({mul:true});e(c)}return{load:function(f,c,e){a(f,e)}}})},"sys/xform/mobile/controls/xform":function(){(function(e){var a=[];var g={};var f={};var b={};var c={};e.__xformDispatch=function(l,k){var j=0,h;if(typeof XFormOnValueChange=="function"){XFormOnValueChange(l,k)}for(j=0;j<a.length;j++){a[j](l,k)}var n=k.get("name");var m=null;for(m in g){if(n.indexOf(m)>-1){h=g[m];for(j=0;j<h.length;j++){h[j](l,k)}}}for(m in f){if(k.subject==m){h=f[m];for(j=0;j<h.length;j++){h[j](l,k)}}}};e.AttachXFormValueChangeEventById=function(j,i){var h=g[j];if(h==null){h=[];g[j]=h}h.push(i)};e.AttachXFormValueChangeEventByLabel=function(j,i){var h=f[j];if(h==null){h=[];f[j]=h}h.push(i)};e.GetXFormFieldById=function(i,h){};e.GetXFormFieldByLabel=function(h,i){};require(["sys/xform/mobile/controls/xformUtil"],function(h){e.GetXFormFieldById=function(k,i){var j=i==true?null:c[k];if(j!=null&&j.length>0){return j}j=h.getXformWidgetsNoFilIndex(null,k);c[k]=j;return j};e.GetXFormFieldByLabel=function(i,j){var k=j==true?null:b[i];if(k!=null&&k.length>0){return k}k=[];b[i]=k;return k}});e.GetXFormFieldValueById=function(o,j){var k=[];var n=e.GetXFormFieldById(o,j);for(var h=0;h<n.length;h++){var m=n[h];if(m.declaredClass=="mui.form.Address"||m.declaredClass=="sys.xform.mobile.controls.NewAddress"){var l=m.curNames;if(m.getText){l=m.getText()}k.push(l)}else{k.push(n[h].value)}}return k};_SetXFormFieldValue=function(p,v){for(var n=0;n<p.length;n++){var m=p[n];if(m.type=="radio"&&m.value==v){m.set("value",true)}if(m.type=="checkbox"&&(v==m.value&&v.indexOf(m.value)>-1)){m.set("value",true)}if(m.type=="input"||m.type=="textarea"||m.type=="select"){if(v instanceof Array){v=v.length>1?v[1]:v[0]}m.set("value",v)}if(m.type=="date"||m.type=="datetime"||m.type=="time"){try{if(v instanceof Array){v=v[0]}if(v.match(RegExp(/-/ig))){v=v.replace(/-/ig,"/")}else{if(v.match(RegExp(/[年月日]/g))){v=v.replace(/[年月日]/g,"/")}else{v=v.substring(0,4)+"/"+v.substring(4,6)+"/"+v.substring(6,8)}}if(matchDate(v)){v=v+" 00:00:00"}else{if(matchTime(v)){var h=new Date();var t=h.getFullYear();var r=h.getMonth()+1;var u=h.getDate();v=t+"-"+r+"-"+u+" "+v}}var l=m.dimension;if(l=="yearMonthDay"){l=""}v=new Date(v);v=window.$form.str(v,m.type,l);window.$form(m.valueField).val(v)}catch(q){}}var s=m.declaredClass;if(s=="mui.form.RadioGroup"){var o=m.getChildren();for(var j=0;j<o.length;j++){if(o[j].value==v&&o[j]._onClick){o[j]._onClick()}}}if(s=="mui.form.CheckBoxGroup"){var o=m.getChildren();var w=(v+"").split(";");for(var j=0;j<o.length;j++){if(o[j]._onClick){if(o[j].value&&w.indexOf(o[j].value)>-1){o[j].checked=false}else{o[j].checked=true}o[j]._onClick()}}}}};matchDate=function(l){var k=/^[1-9]\d{3}\/(0[1-9]|1[0-2])\/(0[1-9]|[1-2][0-9]|3[0-1])$/;var j=/^[1-9]\d{3}\/(0[1-9]|1[0-2])$/;var i=/^(0[1-9]|1[0-2])\/(0[1-9]|[1-2][0-9]|3[0-1])$/;var h=new RegExp(k);var n=new RegExp(j);var m=new RegExp(i);if(!h.test(l)&&!n.test(l)&&!m.test(l)){return false}return true};matchTime=function(k){var j=/^(20|21|22|23|[0-1]\d):[0-5]\d$/;var i=/^(20|21|22|23|[0-1]\d):[0-5]\d:[0-5]\d$/;var h=new RegExp(j);var l=new RegExp(i);if(!h.test(k)&&!l.test(k)){return false}return true};e.SetXFormFieldValueById=function(k,i,h){var j=e.GetXFormFieldById(k,h);_SetXFormFieldValue(j,i)};e.GetXFormFieldValueByLabel=function(h,k){var l=[];var m=e.GetXFormFieldByLabel(h,k);for(var j=0;j<m.length;j++){l.push(m[j].value)}return l};e.SetXFormFieldValueByLabel=function(h,j,i){var k=e.GetXFormFieldByLabel(h,i);_SetXFormFieldValue(k,j)};e.GetXFormSameRowFieldById=function(n,o){var m=[],l,j,k;var h=e.GetXFormFieldById(o,true);if(n.name!=null&&n.name!=""&&n.name.indexOf(".")>-1){k=n.name;k=k.substring(0,k.lastIndexOf("."));for(l=0;l<h.length;l++){j=h[l].name;j=j.substring(0,j.lastIndexOf("."));if(j==k){m.push(h[l])}}}return m};e.GetDomOwnerDomTag=function(h,j,i){if(typeof(h)=="object"&&h.tagName){h=h.tagName}if(i==null){i=Com_GetEventObject()}if(!j){j=i.target?i.target:i.srcElement}if(typeof(j)=="string"){j=document.getElementById(j)}if(j.tagName.toLowerCase()==h.toLowerCase()){return j}else{return GetDomOwnerDomTag(h,j.parentNode,i)}};require(["sys/xform/mobile/validate/ValidationExtend","dojo/topic"],function(i,h){h.subscribe("mui/form/validationInitFinish",function(m){if(m._validation){var j=m._validation;var l=i.XFormExtendValidates;for(var k in l){j.addValidator(k,l[k].error,l[k].test)}}})})})(window)}}});require({cache:{"sys/xform/mobile/mui-xform_zh-cn._min_":function(){define("",{"mui.voteNodeDisagree":"不同意","mui.eventbase.noRecordMsg":"触发后未能找到符合条件的记录！","mui.xform.mobile.edit.prevewMess":"预览图","mui.voteNodeAbstain":"弃权","mui.event.selectAll":"全选","mui.fSelect.search.enter":"搜索","mui.event.search.ok":"确定","mui.stageDiagram.handler":"操作者","mui.stageDiagram.endNode":"结束节点","mui.event.list.noContent":"暂无内容","mui.relevance":"关联文档","mui.validator.checkFailMsg":"校验不通过!","mui.xform.common.view":"查看","mui.detailTable.item":"行","mui.ControlPleaseSelect":"==请选择==","mui.event.search.reset":"重置","mui.stageDiagram.startNode":"开始节点","mui.event.nextPage.noMore":"没有数据了","mui.event.search.more":"更多检索","mui.xform.common.use":"引用","mui.detailTable.more":"查看更多","mui.stageDiagram.currentHandler":"未提交","mui.event.nextPage.loadMore":"加载更多","mui.qRCode.example":"样例","mui.event.header.title":"信息选择","mui.eventbase.errorMsg":"执行获取数据过程中出错!","mui.stageDiagram.historyHandler":"已提交","mui.newAuditNote.handwrite":"签批","mui.button.cancel":"取消","mui.button.ok":"确定","mui.event.header.cancel":"取消","mui.event.search.enter":"请输入","mui.qRCode.example_tip":"真实二维码将在提交文档后展示","mui.fSelect.validateMsg":"{title}至少选择{n}项 ","mui.calculation.validateMsg":"初始时间不能晚于结束时间","mui.event.rule.title":"填充控件","mui.detailTable.the":"第","mui.relevance.delete_msg":"请保存后再查看，否则可能造成数据丢失，是否继续？","mui.xform.mobile.edit.tip":"可登陆PC端管理后台进行更多表单设置","mui.qRCode.exCreate":"提示：二维码将在提交文档后展示","mui.relevance.path.all":"全部","mui.event.selection.ok":"确定","mui.voteNodeAgree":"同意","mui.freeFlow.lbpm.node.processType_2.signNode":"会签","mui.signature.cancel":"取消","mui.freeFlow.lbpm.nodeType.signNode":"签字节点","mui.freeFlow.node.onAdjoinHandlerSame":"仅相邻处理人身份重复跳过","mui.freeFlow.tip.successChange":"修改成功","mui.lbpmservice.lbpmPostscript.load.failure":"新增流程附言加载失败","mui.hand.empty.tip":"请签批","mui.freeFlow.lbpm.oprItem.modifyProcessType":"修改流转方式","mui.extOperation.im.approver":"我是审批人","mui.extOperation.next":"下一步","mui.lbpmservice.lbpmAuditNote.fdCostTime":"耗时","mui.freeFlow.sendNode.nodeTitle":"多人抄送","mui.lbpmNode.usage.speech":"语音","mui.lbpmservice.node.hide":"隐藏","mui.extOperation.im.finishProcessor":"我是已处理人","mui.subform.transaction":"有待处理事务","mui.freeFlow.node.yes":"是","mui.errors.maxLength.simple":"{0} 超出 {1} 个英文字符限制","mui.commonUsage.tip.empty":"请输入数据","mui.lbpmservice.node.operation":"操作","mui.freeFlow.node.select":"请选择","mui.lbpmservice.flowchart.process.branch":"启动分支节点","mui.freeFlow.node.ignoreOnFutureHandlerSame":"后续处理人身份重复跳过当前","mui.freeFlow.node.flowPopedom_1":"增加节点","mui.freeFlow.node.flowPopedom_0":"无","mui.freeFlow.node.flowPopedom_2":"编辑流程","mui.freeFlow.reviewNode.processType_2.nodeTitle":"{0}人审批|会审","mui.commonUsage.manage":"管理","mui.commonUsage.del":"删除","mui.freeFlow.lbpm.node.processType_1":"并行","mui.freeFlow.lbpm.node.processType_0":"串行","mui.operation.commonUsage.none":"暂时没有数据","mui.freeFlow.node.close":"关闭","mui.extOperation.audit":"审批","mui.freeFlow.node.open":"开启","mui.freeFlow.node.set":"请设置","mui.freeFlow.lbpm.oprItem.viewHandler":"查看人员","mui.commonUsage.edit":"编辑","mui.freeFlow.node.deleteMsg":"确定删除该节点？","mui.operation.processed":"已处理","mui.signature.warn.msg":"密码错误，请重新输入","mui.lbpmservice.lbpmPostscript.ok":"确定","mui.lbpmNode.usage.handwrite.color.red":"红色","mui.subform.defaultForm":"默认表单","mui.lbpmNode.signature":"电子签章","mui.process.mobile.note":"流程记录","mui.freeFlow.lbpm.oprItem.insertNode":"添加节点","mui.operation.branchadmin":"分支特权人","mui.dialog.selectOrg":"选择","mui.freeFlow.draftorNode.default":"默认为本人","mui.freeFlow.lbpm.nodeType.sendNode":"抄送节点","mui.workitem.operation.transaction":"事务","mui.freeFlow.node.onSkipHandlerSame":"处理人身份重复跳过","mui.lbpmNode.usage.handwrite.color.blue":"蓝色","mui.lbpmNode.usage.handwrite.color.black":"黑色","mui.lbpmservice.node.operation.from":"来自","mui.freeFlow.node.canModifyMainDoc":"编辑主文档","mui.commonUsage.placeholder":"请输入审批语","mui.freeFlow.splitNode.deleteMsg":"您确定删除当前节点及后面所有节点吗?","mui.extOperation.operationselection":"操作选择","mui.freeFlow.tip.successInsert":"添加成功","mui.freeFlow.lbpm.oprItem.modifyHandler":"替换人员","mui.freeFlow.signNode.processType_2.nodeTitle":"{0}人签字|会签","mui.freeFlow.lbpm.nodeType.reviewNode":"审批节点","mui.freeFlow.node.more":"等","mui.lbpmNode.usage.handwrite.color":"颜色","mui.commonUsage.add":"添加审批语","mui.freeFlow.node.person":"人","mui.subform.defaultCurrForm":"默认表单(当前表单)","mui.lbpmNode.usage.handwrite":"手写","mui.lbpmNode.usage.handwrite.penWidth":"笔触","mui.freeFlow.node.attrSet":"节点设置","mui.freeFlow.node.canAddAuditNoteAtt":"审批意见中上传附件","mui.lbpmservice.lbpmPostscript":"回复","mui.freeFlow.lbpm.nodeType.robotNode":"机器人节点","mui.freeFlow.reviewNode.processType_0.nodeTitle":"{0}人审批|串行","mui.button.savedraft":"暂存","mui.lbpmservice.node.deleted":"此审批意见所属节点已删除","mui.freeFlow.draftorNode":"起草节点","mui.freeFlow.node.no":"否","mui.freeFlow.reviewNode.processType_1.nodeTitle":"{0}人审批|并行","mui.extOperation.finishProcessor":"已处理人","mui.lbpmNode.usage":"审批语","mui.freeFlow.lbpm.oprItem.modifyPopedom":"修改节点权限","mui.freeFlow.lbpm.node.processType_2.reviewNode":"会审","mui.extOperation.drafter":"起草人","mui.freeFlow.cancel":"取消","mui.freeFlow.node.ignoreOnHandlerSame":"处理人身份重复不跳过","mui.commonUsage.tip.same":"数据没有变更","mui.freeFlow.signNode.processType_0.nodeTitle":"{0}人签字|串行","mui.signature.input.password":"输入密码","mui.operation.drafter":"起草人","mui.subform.switchForm":"切换表单","mui.freeFlow.lbpm.node.flowPopedom_2":"编辑流程","mui.freeFlow.lbpm.node.flowPopedom_1":"增加节点","mui.freeFlow.lbpm.node.flowPopedom_0":"不可编辑","mui.lbpmservice.lbpmPostscript.cancel":"取消","mui.lbpmservice.flowchart.process.end":"结束","mui.freeFlow.signNode.processType_1.nodeTitle":"{0}人签字|并行","mui.extOperation.im.drafter":"我是起草人","mui.lbpmservice.flowchart.process.begin":"开始","mui.operation.commonUsage":"常用审批意见","mui.freeFlow.node.delete":"删除","mui.workitem.operation.other":"其他","mui.operation.process":"流程处理","mui.lbpmNode.usage.sign":"批注","mui.signature.ok":"确定","mui.subform.currForm":"当前表单","Designer_Lang.selectRowFirst":"请先选中行!","Designer_Lang.controlAttrValChkId":"当前控件 和 {0} 的ID存在父子集关系","Designer_Lang.attrPanelInputTypeText":"输入框","Designer_Lang.controlAttrValWidthSelect":"宽度必须是正整数","Designer_Lang.relevance_notMix":"请勿新旧数据混合使用","Designer_Lang.relation_rule_display_disprow":"显示行","Designer_Lang.fieldLayout_notNull":"不能为空","Designer_Lang.div_background_cover":"拉伸","Designer_Lang.controlCalculation_attr_autoCalculate":"自动计算","Designer_Lang.autoFormat":"一键排版","Designer_Lang.controlSeniorDetailsTable_info_td":"单元格","Designer_Lang.buttonsCopy":"拷贝","Designer_Lang.newAuditNote_commission":"转办","Designer_Lang.buttonsShowAdvanced":"显示高级控件","Designer_Lang.controlInputTextAttrMaxlength":"长度","Designer_Lang.relation_common_base_choose":"选择","Designer_Lang.newAuditNote_heightValidation":"高度需大于等于60","Designer_Lang.relation_choose_sourceNotNul":"请先选择数据来源","Designer_Lang.relation_rule_trigger_event":"触发事件","Designer_Lang.hh":"H 水平排列","Designer_Lang.relation_rule_requiredOne":"请至少保留一个","Designer_Lang.stage_diagram_allNode_must_selected":"所有节点都必须包含在阶段内","Designer_Lang.controlDetailsTable_deleteRow":"删除","Designer_Lang.controlAttrAlignmentDefault":"默认","Designer_Lang.controlSelectPleaseAdd":"--- 请添加选项 ---","Designer_Lang.controlDetailsTable_attr_defaultFreezeCol_suffix":"列","Designer_Lang.controlUploadImg_tittle":"标题图片","Designer_Lang.detailSummary_title":"汇总控件","Designer_Lang.newAuditNote_handerShowByAddress":"选择处理人(地址本)","Designer_Lang.relation_rule_formField":"表单字段","Designer_Lang.auditshow_filterNote_assigneeNoteOnly":"仅显示被加签人意见","Designer_Lang.controlLinkLabelAttrLink":"链接地址","Designer_Lang.rebuildJsp":"重新生成jsp","Designer_Lang.controlFSelectAttrLeastNItemTip":"n必须为正整数","Designer_Lang.NewAuditNote_CheckRequiredAttributeNotNull":"必填属性不能为空","Designer_Lang.auditNote_optionalNodeReject":"可选节点驳回","Designer_Lang.sysXformAuditshow_msg":"请处理该项任务！","Designer_Lang.controlTableSelectSplitCell":"请选中一个能取消合并的单元格！","Designer_Lang.buttonsCopyNotNull":"请选择一个需要拷贝的控件！","Designer_Lang.controlAttrValRepeat":"{0} 的值不能相同","Designer_Lang.relation_rule_name":"属性变更","Designer_Lang.controlQRCodeInfoName":"二维码","Designer_Lang.detailSummary_calc_min":"最小值","Designer_Lang.jsp_GetXFormFieldValueById":"根据控件ID获取对象值","Designer_Lang.controlNew_AddressOtherOrgDeptNames":"其他机构或部门Name","Designer_Lang.controlJspCancel":"放弃","Designer_Lang.auditshow_attr_noteSort":"意见排序","Designer_Lang.detailSummary_calc_sum":"求和","Designer_Lang.detailSummary_tips_nofield_1":"目标明细表内没有有效匹配字段","Designer_Lang.detailSummary_tips_nofield_0":"所在明细表内没有有效匹配字段","Designer_Lang.preview":"预览","Designer_Lang.controlAttrValNumRange":"开始值 {0} 必须小于结束值 {1}","Designer_Lang.isNewDesktopLayout":"移动端桌面端模式","Designer_Lang.controlLabelTable_toolbarTitle":"插入标签表格","Designer_Lang.attrpanelTitle":"属性","Designer_Lang.auditshow_attr_preview":"预览图","Designer_Lang.controlAttrReCalculate_draft":"重新计算（按起草时间）","Designer_Lang.auditshow_attr_noteFilter":"意见过滤","Designer_Lang.updatee":"修改","Designer_Lang.buttonsExpBuilder":"放大画布","Designer_Lang.div_auto":"自动呈现（auto）","Designer_Lang.relevance_option":"选项","Designer_Lang.relation_event_event":"数据填充","Designer_Lang.controlDatetimeAttrDefaultValueNull":"无","Designer_Lang.buttonsSplitCellAlert":"请选择需要拆分的单元格！","Designer_Lang.controlStandardTableDomAttrTdAlignLeft":"左对齐","Designer_Lang.div_background_repeat":"平铺","Designer_Lang.relation_outputParamNotEmpty":"函数模板中输出参数不能为空","Designer_Lang.seniorImportTypeTip":"可配置明细表Excel导入默认模式，若明细表中存在前端计算列、汇总控件或列之间数据存在关联关系，建议设置“关联导入”。若不存在，建议设置“无关联导入”。","Designer_Lang.relation_event_fillType":"明细表行填充模式","Designer_Lang.controlTextGlobalStyleSet":"设置全局样式","Designer_Lang.circulationOpinionShow_style_custom":"自定义","Designer_Lang.controlDocImg_TypeMuti":"多图片","Designer_Lang.relation_event_add_show_out":"新增显示传出，结果集备选项中可以看到","Designer_Lang.loadSuccess":"加载成功!","Designer_Lang.controlNew_AddressInfoName":"高级地址本选择框","Designer_Lang.qrCode_name":"二维码","Designer_Lang.div_disable":"无效","Designer_Lang.controlAttrSelect":"选择","Designer_Lang.controlAttrAlignmentRight":"居右","Designer_Lang.validatorControlRuleDes":"用于校验用户输入数据的正确性，如输入数据不符合表达式的要求，如果校验规则为不符合条件,则会弹出提示且不能提交流程。","Designer_Lang.controlValidatorCancel":"放弃","Designer_Lang.div_scroll":"滚动呈现（scroll）","Designer_Lang.relevance_associatedAllModulesWhenNull":"为空则表示可以关联所有模块","Designer_Lang.auditshow_groupNote_dept":"按部门分组","Designer_Lang.controlAttachAttrSizeTypeSingle":"单附件","Designer_Lang.detailSummary_help":"帮助:明细表汇总控件，仅应用于明细表内</br>关系映射字段支持匹配控件：</br>【单行输入，单选按钮，下拉菜单，日期选择，地址本，高级地址本】</br>字段汇总支持控件类型：【数字、金额类型】","Designer_Lang.validatorControlClose":"关闭","Designer_Lang.buttonsInsertRowAlert":"请在表格中选择要插入的位置！","Designer_Lang.configFontCourierNew":"Courier New","Designer_Lang.sunform_check":"其他表单中也存在该控件，修改同时会同步修改文本、长度、类型等，是否继续？","Designer_Lang.jspControlCode":"代码片段","Designer_Lang.relation_rule_display_hidecontrol":"隐藏","Designer_Lang.approvalOpinionHandlerShowDate":"审批意见+处理人+日期","Designer_Lang.rebuildJspIsByIds":"指定模板重新生成jsp","Designer_Lang.controlTableSelectOneCell":"请选中一个单元格！","Designer_Lang.isNewDesktopLayoutDesc":"说明：开启该功能后，移动端呈现的桌面端样式按照移动端设备尺寸等比缩放，支持放大与缩小。目前只支持新版样式（比如：流程管理）","Designer_Lang.controlAttrReturnTypetext":"单行输入框","Designer_Lang.qrCode_mold_hyperlink":"超链接url","Designer_Lang.relation_event_chooseList":"待选列表","Designer_Lang.detailSummary_calc_max":"最大值","Designer_Lang.controlDetailsTable_attr_defaultFreezeCol_prefix":"前","Designer_Lang.relation_common_base_chooseSource":"请先选择数据源","Designer_Lang.controlAttrValRequired":"{0} 为必填值","Designer_Lang.attrpanelSelect":"选择","Designer_Lang.controlMutiTab_initTab_Two":"选项卡2","Designer_Lang.buttonsSplitCell":"拆分单元格","Designer_Lang.auditshow_sortNote_HandlerAsc":"按审批人排序号升序","Designer_Lang.controlDetailsTable_attr_required":"明细表至少一行","Designer_Lang.controlDocImg_tittle":"图片上传","Designer_Lang.controlAttachDomDelBtn":"删除","Designer_Lang.attrpanelNoAttrs":"控件无属性","Designer_Lang.newAuditNote_select":"请选择","Designer_Lang.auditshow_preference":"自定义","Designer_Lang.auditshow_attr_groupNote":"意见分组","Designer_Lang.underline":"下划线","Designer_Lang.controlInputTextValDefValueEmail":"初始值 {0} 不是合法邮件地址","Designer_Lang.controlNew_AddressOtherOrgOrDept":"其他机构或部门","Designer_Lang.circulationOpinionShow_attr_exhibitionStyle":"展现样式","Designer_Lang.controlLabelTable_buttonsAppendLabel":"追加标签页","Designer_Lang.controlDetailsTable_info_td":"单元格","Designer_Lang.controlAttachAttrFileType":"允许附件格式","Designer_Lang.controlAttrValLabelSpecialChar":"显示文字不可包含特殊字符 ‘{0}’ ","Designer_Lang.jspControlCss":"css片段","Designer_Lang.defaultValue":"默认值","Designer_Lang.controlAttrValNumValue":"{0} 的值必须为数字","Designer_Lang.relation_choose_clear":"清空","Designer_Lang.isNewDesktopLayoutOpen":"开启","Designer_Lang.fieldLayout_basicAttributeField":"基本属性字段","Designer_Lang.controlStandardTableTopBorder":"上边框","Designer_Lang.newAuditNote_noRefuseNode":"无可驳回节点","Designer_Lang.jsp_GetXFormFieldById":"根据控件ID获取对象","Designer_Lang.controlCalculation_html_button":"计算","Designer_Lang.controlDocImg_upFile":"上传","Designer_Lang.relation_common_base_inputParams":"传入参数","Designer_Lang.controlDetailsTable_attr_showStatisticRow":"统计行","Designer_Lang.handlerShowNode_CheckRequiredAttributeNotNull":"必填属性不能为空","Designer_Lang.div_borderThickness":"边框厚度","Designer_Lang.jspControlRestore":"还原","Designer_Lang.stage_diagram_stage_not_null":"阶段名称,所属节点不能为空","Designer_Lang.relevance_discard":"废弃","Designer_Lang.handler":"仅处理人","Designer_Lang.controlTextGlobalTestContent":"预览文本","Designer_Lang.detailSummary_auto":"计算方式","Designer_Lang.controlUploadImgDefault":"长宽为空时，默认‘100x100’","Designer_Lang.controlNew_AddressCustomType":"自定义范围类型","Designer_Lang.fieldLayout_basicAttrField":"基本属性布局字段","Designer_Lang.jsp_SetXFormFieldValueById":"根据控件ID设置对象值","Designer_Lang.paperSignature_flowNode":"流程节点","Designer_Lang.controlAttrConcatSubTableRowIndex":"流水号","Designer_Lang.relevance_docStatus":"文档状态","Designer_Lang.controlDetailsTable_notSupportControl":"明细表暂不支持此控件","Designer_Lang.fieldLayout_decimalValidate":"小数位数必须为数字","Designer_Lang.relation_common_base_busiName":"业务名称","Designer_Lang.div_shiftEnter":"帮助:拖动控件请按住Shift键拖动","Designer_Lang.controlAttrDataTypeMoney":"金额","Designer_Lang.controlInputTextValEnd":"之间","Designer_Lang.relevance_sureDeleteRelevance":"确定删除选中控件？","Designer_Lang.attrpanelNoSelect":"未选中控件","Designer_Lang.controlInputCheckboxItemVal":"选项中值{0}存在分号(;),不允许存在此符号","Designer_Lang.b":"加粗","Designer_Lang.attrpanelSelfLabel":"与旁边文字域绑定","Designer_Lang.controlFormula_loadType_requiredMessage":"加载方式为 必填值","Designer_Lang.isNewDesktopLayoutClose":"关闭","Designer_Lang.controlCalculation_func_sum_value":"$列表.求和$(列表)","Designer_Lang.i":"斜体","Designer_Lang.relation_rule_onchange":"值改变","Designer_Lang.readOnly":"只读属性","Designer_Lang.relation_rule_readonly":"只读","Designer_Lang.relation_event_trigger_event":"触发事件","Designer_Lang.controlAttachAttrShowDownloadCount":"下载次数","Designer_Lang.fieldLayout_number_validate":"数字校验","Designer_Lang.controlAttrValInteger":"{0} 必须为整数","Designer_Lang.ShowHandlerNodeSelectNodes":"选择展示节点","Designer_Lang.buttonsOpenBgColorAlert":"请选择要操作的单元格（按住CTRL键可进行多选）！","Designer_Lang.controlNew_AddressDept":"本部门","Designer_Lang.controlAttrDataTypeNumber":"数字","Designer_Lang.controlTextLabelAttreNoWrap":"强制不换行","Designer_Lang.buttonsTextMSelectAlert":"请选择要操作的文字（按住CTRL键可进行多选）！","Designer_Lang.buttonsUnderline":"下划线","Designer_Lang.buttonsInputCheckbox":"多选按钮","Designer_Lang.buttonsAlignRight":"右对齐","Designer_Lang.Toolbar_start":"开始","Designer_Lang.controlValidator_addExpression":"添加","Designer_Lang.configFontYaHei":"微软雅黑","Designer_Lang.massdata_addColDefine":"添加列定义","Designer_Lang.massdata_excelImport":"Excel导入","Designer_Lang.sysXformAuditshow_post":"架构师","Designer_Lang.relation_radio_option":"选项 ","Designer_Lang.buttonsCopyNotContainer":"请选择非容器控件！","Designer_Lang.ShowHandlerNodeTips":"如需对显示类型文字进行拼接，可通过输入“{0}”符号实现，示例：“当前处理环节{0}”。","Designer_Lang.controlAttrAlignmentV":"V 垂直排列","Designer_Lang.auditshow_filterNote_personChargeOpinions":"负责人拟办意见","Designer_Lang.attrpanelTitlePrefix":"属性：","Designer_Lang.controlCalculation_info_name":"前端值计算","Designer_Lang.controlAttachSlideUp":"展开","Designer_Lang.newAuditNote_additionSign":"补签","Designer_Lang.controlAttrAlignmentH":"H 水平排列","Designer_Lang.relation_common_base_inputParamsNotNull":"传入参数存在必填参数为空","Designer_Lang.controlAttrMobileRenderTypeNormal":"标准","Designer_Lang.controlInputTextAttrEnd":"结束值","Designer_Lang.controlDateFormat_operations_title":"日期格式化控件","Designer_Lang.newAuditNote_operationType":"操作项","Designer_Lang.configFontVerdana":"Verdana","Designer_Lang.controlDetailsTable_attr_excel":"Excel操作","Designer_Lang.relation_choose_showvalue":"显示值","Designer_Lang.addd":"新增,","Designer_Lang.mobileAllowedDesign":"您好，当前使用移动端默认布局，不允许进行配置，如需要设置请去除勾选!","Designer_Lang.buttonsUniteCellAlert":"请选择需要合并的单元格（按住CTRL键可进行多选）！","Designer_Lang.jsp_AttachXFormValueChangeEventById":"通过控件ID绑定监听值变化","Designer_Lang.buttonsDeleteTable":"此操作会删除整个表格，是否继续？","Designer_Lang.controlDatetimeInfoName":"时间选择框","Designer_Lang.configFontYouYuan":"幼圆","Designer_Lang.controlTextLabelAttrNormal":"强制换行","Designer_Lang.controlDocImg_mobilePicDisplay":"移动端图片","Designer_Lang.controlSeniorDetailsTable_notSupportControl":"高级明细表暂不支持此控件","Designer_Lang.controlDetailsTable_attr_requiredValidate":"初始行数 必须大于等于1！","Designer_Lang.commonFormField":"表单字段","Designer_Lang.relation_rule_destdom":"目标控件","Designer_Lang.controlRightModeEidt":"可编辑","Designer_Lang.button_fullScreen":"全屏","Designer_Lang.controlSeniorDetailsTable_title":"高级明细表","Designer_Lang.controlTextLabelAttrFont":"字体","Designer_Lang.buttonsAttachment":"附件上传","Designer_Lang.controlOperation_redo":"恢复","Designer_Lang.auditshow_mould_distribution":"按父流程展示分发意见","Designer_Lang.relation_event_appendSearchResult":"追加搜索结果","Designer_Lang.newAuditNote_passAndsign":"通过/签字","Designer_Lang.circulationOpinionShow_attr_noteSort":"意见排序","Designer_Lang.basicSet":"基础设置","Designer_Lang.buttonsSelectControl":"请选择正确的控件！","Designer_Lang.newAuditNote_handerShowByFormula":"选择处理人(公式定义器)","Designer_Lang.div_background_img_src":"图片的src","Designer_Lang.controlTextLabelInfoName":"文本","Designer_Lang.relation_event_mutiReturn":"多行直接返回","Designer_Lang.relation_select_chooseSource":"请先选择数据源","Designer_Lang.controlValidator_tipRule":"提示说明","Designer_Lang.controlInputTextAttrdisplayFormat":"显示格式","Designer_Lang.controlChinaValue_info_controlName":"大小写转换","Designer_Lang.controlAttrEncryptTip":"开启加密功能后，该字段值保存到数据库的是密文，且不会保存到映射表","Designer_Lang.formDataPersistenceFormat":"表单数据持久化格式","Designer_Lang.div_ocrNotSupportInsertToDivControl":"ocr控件不支持DIV布局控件嵌套！","Designer_Lang.newAuditNote_communicate":"沟通","Designer_Lang.controlAttrReturnTypeAddress":"地址本","Designer_Lang.controlAttrThousandShow":"千分位显示","Designer_Lang.controlAttrWidth":"宽度","Designer_Lang.massdata_notOptions":"该业务没有更多可选项","Designer_Lang.voteNode_attr_mold":"类型","Designer_Lang.circulationOpinionShow_dept":"平台部","Designer_Lang.controlDocImg_attr_width":"宽度","Designer_Lang.relation_select_hiddeValue":"实际值","Designer_Lang.controlCalculation_func_sum_title":"对列表中所有的数字计算总和（忽略空值与非数字）","Designer_Lang.circulationOpinionShow_sortNote_DeptDown":"按部门排序号降序","Designer_Lang.relevance_append":"待审","Designer_Lang.ShowHandlerNodeName":"节点控件","Designer_Lang.putAway":"收起","Designer_Lang.controlDatetimeAttrBusinessTypeDatetime":"日期时间","Designer_Lang.controlDetailsTable_the":"第","Designer_Lang.relation_event_trigger_dom":"触发控件","Designer_Lang.auditshow_attr_hiddenValue":"控件隐藏值","Designer_Lang.buttonsInsertColAlert":"请在表格中选择要插入的位置！","Designer_Lang.auditshow_auditorOwnerNotNull":"审批人属于必填参数为空","Designer_Lang.relation_rule_display_hiderow":"隐藏行","Designer_Lang.configFontSelect":"== 默认字体 ==","Designer_Lang.controlAttachDomFileName":"文件名","Designer_Lang.designProcessFirst":"=请先进行流程设计!","Designer_Lang.auditshow_name_insert":"审批意见","Designer_Lang.massdata_time":"时间","Designer_Lang.controlAddressValAlterNotNull":"请至少选择一种组织架构类型","Designer_Lang.controlAttachDomUploadBtn":"上传","Designer_Lang.controlDateFormat_info_controlName":"日期格式化","Designer_Lang.jspMobileEnable":"有效","Designer_Lang.controlNew_AddressSelectType":"请选择类型","Designer_Lang.controlDetailsTable_attr_excelImport":"Excel导入","Designer_Lang.controlDetailsTable_excelExport":"导出","Designer_Lang.controlNew_Address_templateField":"模板字段（双击选中）","Designer_Lang.truee":"是","Designer_Lang.detailSummary_detailPointer":"明细表映射","Designer_Lang.auditshow_filterNote_suggestionsOpinions":"工作人员拟办意见","Designer_Lang.fieldLayout_widthValidate":"宽度百分比或像素格式不正确","Designer_Lang.auditshow_filterNote_showDrafterPostscript":"显示起草人附言","Designer_Lang.attrpanelUpLabel":"与上边文字域绑定","Designer_Lang.controlDetailsTable_attr_oprBtn":"操作按钮","Designer_Lang.controlStandardTableDomAttrTdClassNameNormal":"普通","Designer_Lang.auditshow_sortNote_Asc":"按时间升序","Designer_Lang.controlStandardTableDomAttrTdClassNameTitle":"标题","Designer_Lang.controlAttrEncrypt":"加密","Designer_Lang.newAuditNote_assign":"加签","Designer_Lang.controlDetailsTable_attr_dataEntryMode":"数据录入方式 ","Designer_Lang.fieldLayout_parameterSetting":"参数设置","Designer_Lang.controlAddressAttrOrgTypeDept":"部门","Designer_Lang.composite":"复合组件","Designer_Lang.ShowHandlerNodeNameContent":"内容","Designer_Lang.attrPanelSerialNumber":"序号","Designer_Lang.strr":"字符","Designer_Lang.rebuildJspIsAll":"全部模板重新生成jsp","Designer_Lang.controlStandardTableDomAttrTdAlignCenter":"居中","Designer_Lang.menusTable":"表格","Designer_Lang.controlStandardTableInfoName":"表格","Designer_Lang.controlAttrSlideHint":"展开：显示全部的附件详情<br/>收缩：显示附件总数，可展开查看全部附件，可收起","Designer_Lang.controlTextLabelAttrDefault":"默认","Designer_Lang.relation_event_fillTypeOne":"单值填充模式","Designer_Lang.fieldLayout_to":"到","Designer_Lang.relevance_rangeValue":"关联范围值","Designer_Lang.div_hidden":"部分呈现（hidden）","Designer_Lang.controlValidatorInfoName":"校验器","Designer_Lang.controlMutiTab_initTab":"选项卡","Designer_Lang.relation_rule_op":"动作","Designer_Lang.fieldLayout":"属性布局","Designer_Lang.controlAttrTipInfo":"提示信息","Designer_Lang.buttonsAddress":"地址本","Designer_Lang.controlAttrItemsDefaultValueHint":'提示：多值用";" 隔开',"Designer_Lang.buttonsAppendRow":"追加行","Designer_Lang.controlInputTextValTo":"到","Designer_Lang.fieldLayout_width":"宽度(百分比或像素,如80%或200px)","Designer_Lang.fieldLayout_date":"日期","Designer_Lang.rebuildJspModelName":"模板名","Designer_Lang.rebuildJsp_msg":"该功能仅支持编辑时使用","Designer_Lang.auditshow_filterNote_remarksOpinions":"备注意见","Designer_Lang.buttonsDeleteRowAlert":"请在表格中选择需要删除的行！","Designer_Lang.defaultForm":"默认表单(移动)","Designer_Lang.buttonsHidden":"隐藏字段","Designer_Lang.controlAddressAttrDefaultValueSelfOrg":"提交人的机构","Designer_Lang.buttonsLinkLabel":"超链接","Designer_Lang.div_background_img_showtype":"展示方式","Designer_Lang.controlAttrShowScheduling":"显示排班","Designer_Lang.auditshow_choose":"选择","Designer_Lang.Toolbar_form":"表单元素","Designer_Lang.massdata_string":"字符串","Designer_Lang.auditshow_auditNode":"审批节点","Designer_Lang.controlNew_AddressSelect":"选择","Designer_Lang.relation_select_sourceNotNull":"数据源不能为空","Designer_Lang.controlAttrValNotNull":"{0} 不可以为空","Designer_Lang.controlDatetimeAttrDefaultValueSelect":"固定值","Designer_Lang.controlStandardTableDomAttrTdAlign":"水平对齐","Designer_Lang.controlAddressAttrDefaultValueSelfDept":"提交人的部门","Designer_Lang.auditshow_filterNote_personDistributesOpinions":"负责人分送意见","Designer_Lang.configFontTahoma":"Tahoma","Designer_Lang.controlCalculation_func_manHoursHourDistance_title":"获取两个参数的工时,返回小时(备注：起始时间与结束时间相等时,结果为1)","Designer_Lang.stage_diagram_start_node":"开始节点","Designer_Lang.vote_heigth":"高度","Designer_Lang.circulationOpinionShow_time":"2016-16-11 09:30","Designer_Lang.menusShow":"显示","Designer_Lang.controlMutiTab_msg_info_upinfo":"该操作已经取消选项卡提升，如需提升请重新设置","Designer_Lang.controlAttachAttrSizeType":"选项","Designer_Lang.configSizeSelect":"== 默认大小 ==","Designer_Lang.controlStandardTableDomAttrTdVAlignMiddle":"垂直居中","Designer_Lang.controlLabelTable_buttonsDeleteLabel":"删除标签页","Designer_Lang.controlInputTextInfoName":"单行输入框","Designer_Lang.auditshow_return_comments":"显示加签退回意见","Designer_Lang.attrpanelLeftLabel":"与左边文字域绑定","Designer_Lang.controlDocImg_chooseFile":"请选择要上传的文件","Designer_Lang.auditshow_attr_hiddenName":"存在域","Designer_Lang.controlInputTextValFalse":"不校验","Designer_Lang.buttonsAppendCol":"追加列","Designer_Lang.controlAttrRequired":"必填","Designer_Lang.stage_diagram_name":"阶段图","Designer_Lang.controlOperation_undo":"撤销","Designer_Lang.controlFragmentSet_info_name":"片段集","Designer_Lang.controlTextLabelAttrIsHiddenInMobile":"是否在移动端隐藏","Designer_Lang.auditshow_subProcessChoose":"子流程选择","Designer_Lang.controlSelectInfoName":"下拉菜单","Designer_Lang.buttonsRight":"权限区段","Designer_Lang.relation_select_inputParamsNotNull":"传入参数存在必填参数为空","Designer_Lang.controlAttrFormulaLoad":"公式加载","Designer_Lang.relevance_mappingFiled":"映射字段","Designer_Lang.controlTextGlobalStyle":"全局样式","Designer_Lang.relevance_or":"或","Designer_Lang.fieldLayout_dateTime":"日期时间","Designer_Lang.relation_select_resetValue_tipMessage":"传入值改变时，重置输出值","Designer_Lang.controlNew_AddressCustomId":"自定义ID","Designer_Lang.relationBase_noMoreOptions":"该业务没有更多可选项","Designer_Lang.controlLabelTable_buttonsModifyLabel":"修改标签名","Designer_Lang.buttonsDeleteControl":"确认删除选中控件？","Designer_Lang.voteNode_requiredAttributeNotNull":"选择节点不能为空","Designer_Lang.fieldLayout_validate":"校验","Designer_Lang.controlDocImg_orginSize":"大图展示","Designer_Lang.controlInputTextValBegin":"介于","Designer_Lang.formDataPersistenceFormatClose":"关闭","Designer_Lang.failMessage":"提示语","Designer_Lang.fieldLayout_numberValidate":"限制范围必须为数字","Designer_Lang.approvalOpinionDepartmentPostHandlerDate":"审批意见+部门/岗位/处理人+时间","Designer_Lang.controlCalculation_func_timeDistance_value":"$时间.求时间差$(起始时间, 结束时间)","Designer_Lang.layout2colName":"移动端展现模式","Designer_Lang.controlNew_AddressOtherOrgDeptIds":"其他机构或部门ID","Designer_Lang.controlLinkLabelAttrLinkHint":"例如：http://www.landray.com.cn/","Designer_Lang.div_DIYStyle":"自定义样式","Designer_Lang.relation_event_fillTypeOne_replace":"覆盖","Designer_Lang.relation_event_oneRowSearchNum":"一行显示搜索项数","Designer_Lang.circulationOpinionShow_Owner":"处理人属于","Designer_Lang.div_background":"背景设置","Designer_Lang.auditNote_select":"请选择","Designer_Lang.auditshow_mould_handler99":"所有意见","Designer_Lang.massdata_date":"日期","Designer_Lang.controlAddressAttrDefaultValueSelf":"提交人","Designer_Lang.controlBrcontrol_html_title":"换行","Designer_Lang.relation_event_noOutputParams":"无输出参数","Designer_Lang.controlCalculation_func_count_value":"$列表.求条目数$(列表)","Designer_Lang.circulationOpinionShow_operation":"【通过】","Designer_Lang.controlNew_AddressAll":"全部","Designer_Lang.controlFormula_scopeMessage1":"表达式里的参数控件和公式加载控件必须出现在同一明细表或都不出现在明细表中","Designer_Lang.notPassTip":"不满足字段表达式时提示","Designer_Lang.controlDetailsTable_check":"查看详情","Designer_Lang.controlFormula_scopeMessage2":"{0}的表达式里的参数控件和公式加载控件必须出现在同一明细表或都不出现在明细表中","Designer_Lang.controlPromptAttrContent":"提示内容","Designer_Lang.relation_loadingError":"加载模板出错","Designer_Lang.fieldLayout_basicAttributeFieldId":"基本属性字段Id","Designer_Lang.controlAddressAttrOrgTypeGroup":"常用群组","Designer_Lang.relation_event_add_hidden_out":"新增隐藏传出，结果集备选项中不可以看到，一般用于传出ID等","Designer_Lang.controlHyperLinkLabelInfoName":"超链接","Designer_Lang.relation_attrFieldVar":"字段变量","Designer_Lang.formConfiguration":"表单配置","Designer_Lang.delete":"删除","Designer_Lang.approvalOpinionPostHandlerDate":"审批意见+岗位/处理人+时间","Designer_Lang.controlMutiTab_isUp":"是否提升","Designer_Lang.validator_notContainIsRowControl":"明细表外的校验器控件表达式不支持明细表内的控件","Designer_Lang.controlValidatorSuccess":"确定","Designer_Lang.auditshow_sortNote_HandlerDesc":"按审批人排序号降序","Designer_Lang.circulationOpinionShow_person":"张三","Designer_Lang.controlAttrValDecimal":"{0} 不可以为小数","Designer_Lang.controlAttrIsMark":"是否留痕","Designer_Lang.handlerShowNode_requiredAttributeNotNull":"选择节点不能为空","Designer_Lang.controlDetailsTable_title":"明细表","Designer_Lang.massdata_outputNotEmpty":"请至少添加一个传出参数！","Designer_Lang.controlFSelectInfoName":"复选下拉框","Designer_Lang.controlFormula_html_alt":"公式加载","Designer_Lang.controlOperation_excel":"表格导入","Designer_Lang.controlNew_AddressOutputParamsMsg":"新增传出参数，可赋值给其他指定的表单控件","Designer_Lang.fieldLayout_calendarType":"日历类型","Designer_Lang.voteNode_mold_pieChart":"饼图","Designer_Lang.relation_rule_templateField":"模板字段","Designer_Lang.relation_event_params_out1":"传出","Designer_Lang.relation_event_params_out2":"参数","Designer_Lang.detailSummary_tips_statisticRow":"汇总控件不能放在汇总行!","Designer_Lang.PC":"PC端","Designer_Lang.controlAttrValSysLabelUnique":"显示文字与主文档基本信息字段名称重复","Designer_Lang.auditshow_filterNote_handlerNoteOnly":"仅显示节点处理人的意见","Designer_Lang.fieldLayout_mustSetTheRequiredParameters":"必须设置必填参数","Designer_Lang.controlAttrMobileRenderType":"移动端呈现方式","Designer_Lang.buttonsSelect":"下拉菜单","Designer_Lang.controlDocImg_FileTypeHint":"图片后缀名：如：jpg|.gif|.png|.bmp","Designer_Lang.relation_radio_name":"动态单选","Designer_Lang.relevance_publish":"发布","Designer_Lang.controlTableSelectInRowOrInColumn":"请选中同一行或同一列单元格！","Designer_Lang.controlInputTextValMaxlengthP":"不超过","Designer_Lang.controlAddressAttrDefaultValueSelect":"固定值","Designer_Lang.attrpanelRightLabel":"与右边文字域绑定","Designer_Lang.relation_event_name":"数据填充","Designer_Lang.buttonsDeleteElem":"删除","Designer_Lang.controlInputTextValMaxlengthS":"个字符","Designer_Lang.relation_event_onmouseClick":"鼠标单击","Designer_Lang.relevance_multi":"多选","Designer_Lang.controlNew_AddressTitleTip":"相对于地址本，新增了范围选择，并且可以赋值给其他控件","Designer_Lang.sysXformAuditshow_time":"2016-11-16 09:30","Designer_Lang.controlDetailsTable_attr_excelExport":"Excel导出","Designer_Lang.addMobileForm":"添加移动端表单","Designer_Lang.controlCalculation_func_avg_text":"列表.求平均值","Designer_Lang.controlAttachSlideDown":"收缩","Designer_Lang.label":"标题","Designer_Lang.sure_to_rebuildJsp":"该操作会重新生成所选模板jsp及其所有的历史版本jsp,确定要重新生成吗？","Designer_Lang.controlDetailsTable_seqNo":"序号","Designer_Lang.attrPanelDelBtn":"删除","Designer_Lang.configFontZhongsong":"华文中宋","Designer_Lang.auditshow_groupNote_org":"按机构分组","Designer_Lang.fieldLayout_dept":"部门","Designer_Lang.relevance_and":"和","Designer_Lang.controlAttachDomTitle":"附件提示：只能添加  {type} 类型的文件","Designer_Lang.controlCalculation_attr_paramDefault":"参数默认为0","Designer_Lang.controlAttrValDoubleTypeValue":"{0} 的值必须为有效数字,例如:数字前后不能加多余的0","Designer_Lang.voteNode_heigth_isAuto":"为空表示高度和宽度为默认值","Designer_Lang.detailSummary_tips_detailPointer":"未发现除本明细表之外的明细表,请在表单中再次增加明细表","Designer_Lang.relation_common_base_defalutValue":"默认实际值","Designer_Lang.controlInputTextChkEmail":"{0} {1} 不是合法邮件地址","Designer_Lang.controlAttrLoadType":"加载方式","Designer_Lang.controlNew_AddressSelectedType":"选中的类型","Designer_Lang.jspMobileDisable":"无效","Designer_Lang.controlDocImg_type":"允许图片格式","Designer_Lang.controlAttachAttrShow":"展示方式(仅PC有效)","Designer_Lang.controlFormulaLoadDescription":"根据定义的公式获取数据并且可以设置数据的展示形式","Designer_Lang.controlStandardTableDomAttrTdVAlignBottom":"底端对齐","Designer_Lang.attrpanelRelationLabel":"与相临文字域绑定","Designer_Lang.controlUploadImgDefaultHeight":"默认为‘100px’","Designer_Lang.controlAttrReturnTypeSelect":"下拉列表","Designer_Lang.jspControlMaximize":"最大化","Designer_Lang.auditNote_refuse":"驳回","Designer_Lang.controlBrcontrol_attr_lineHeight":"高度","Designer_Lang.relation_rule_readonly_yes":"只读","Designer_Lang.voteNode_chooseNode":"选择节点","Designer_Lang.tableStyle_sourceForm_tip":"表单样式设置不支持钉钉套件!","Designer_Lang.saveTheTemplateFirst":"请先保存模板!","Designer_Lang.relevance_tempFiled":"模板字段","Designer_Lang.relation_rule_noOutputParams":"无输出参数","Designer_Lang.attrpanelDownLabel":"与下边文字域绑定","Designer_Lang.controlRightDestroyMessage":"确认删除此权限区段？","Designer_Lang.auditshow_filterNote_sameDept":"同部门取最后一条","Designer_Lang.stage_diagram_notNull":"不能为空","Designer_Lang.buttonsAttribute":"属性","Designer_Lang.stage_diagram_startEndNode":"开始/结束节点","Designer_Lang.commonTemplateField":"模板字段","Designer_Lang.relation_common_base_outputParams":"传出参数","Designer_Lang.pcNotLoad":"PC端未加载完毕,请稍等!","Designer_Lang.controlValidatorControl_attention":"注意:规则的格式必须为 结果=公式(例如:Z = X + Y)","Designer_Lang.validatorControlRuleScene":"场景","Designer_Lang.auditshow_mould_handler1":"按处理人展示（地址本）","Designer_Lang.auditshow_mould_handler2":"按处理人展示（公式计算）","Designer_Lang.relation_select_outputParamsNotNull":"传出参数存在必填参数为空","Designer_Lang.controlAttachDomFileSize":"文件大小","Designer_Lang.buttonsTextarea":"多行输入","Designer_Lang.controlInputTextValDecimal":"小数位数","Designer_Lang.controlDocImg_thumbnail":"缩略图展示","Designer_Lang.relation_common_base_sourceNotNull":"数据源不能为空","Designer_Lang.div_notSupportInsertToListControl":"插入的控件不支持插入到明细表！","Designer_Lang.buttonsDeleteCol":"删除列","Designer_Lang.massdata_colDefineNotEmpty":"请至少添加一行列定义！","Designer_Lang.div_sureDeleteAllControls":"此操作会删除该控件和控件内的所有内容，是否继续？","Designer_Lang.falsee":"否","Designer_Lang.controlAttrReturnType":"返回类型","Designer_Lang.controlAttachDomAddBtn":"添加","Designer_Lang.controlValidatorControl_title":"校验器","Designer_Lang.controlAttachAttrDisplayDetails":"显示详情","Designer_Lang.validatorControlRule":"规则","Designer_Lang.controlBrcontrol_attr_chkLineHeight":"{0} 高度必须是正整数","Designer_Lang.rebuildJspClose":"已关闭","Designer_Lang.controlMutiTab_tabNames":"选项卡名称","Designer_Lang.menusAdd":"添加","Designer_Lang.auditNote_handlerBelongsTo":"审批人属于","Designer_Lang.fieldLayout_parameterJSPPath":"参数JSP路径","Designer_Lang.configFontFZXBSJT":"方正小标宋简体","Designer_Lang.controlDetailsTable_attr_showRow":"初始行数","Designer_Lang.controlCalculation_func_count_title":"获取列表的条目数（忽略空值与非数字）","Designer_Lang.relevance_inputFiled":"入参字段","Designer_Lang.controlValidator_deleteExpression":"删除","Designer_Lang.loading_Msg":"数据处理中...","Designer_Lang.buttonsDeleteColConfirm":"确认删除当前列，\\n以及列所包含的控件？","Designer_Lang.controlAttrValStrLen":"{0} 不能超过 {1} 个字符","Designer_Lang.configFontSongTi":"宋体","Designer_Lang.controlTextLabelAttrBold":"加粗","Designer_Lang.Toolbar_other":"其他","Designer_Lang.controlDetailsTable_excelImport":"导入","Designer_Lang.controlRightModeView":"只读","Designer_Lang.fieldPanel":"属性列表","Designer_Lang.controlCalculation_func_manHoursHourDistance_value":"$时间.获取工时$(人员,起始时间,结束时间)","Designer_Lang.circulationOpinionDeptHandlerDate":"传阅意见+部门+处理人+时间","Designer_Lang.buttonsDeleteRow":"删除行","Designer_Lang.controlStandardTableLabelHelp":"帮助:按住Shift拖动整个表格,按住鼠标左键滑动(或按住Ctrl点击鼠标左键)可以选中多个单元格","Designer_Lang.treeRightTreeWfText":"流程处理人默认场景","Designer_Lang.ShowHandlerNodeDisplayType2":"节点名称","Designer_Lang.relation_event_mutiPage":"多选分页","Designer_Lang.ShowHandlerNodeDisplayType1":"节点名称+处理人","Designer_Lang.controlDatetimeAttrBusinessTypeDate":"日期","Designer_Lang.controlPromptInfoName":"提示","Designer_Lang.jspControlJs":"javascript片段","Designer_Lang.auditshow_mould_node1":"按节点展示（仅审批意见）","Designer_Lang.auditshow_mould_node2":"按节点展示（带节点表格）","Designer_Lang.jspIsInMobileEnable":"移动端是否有效:","Designer_Lang.validator_standTable":"主表","Designer_Lang.controlDocImg_hidePicName":"隐藏图片名称","Designer_Lang.controlLabelTable_exampleLabelTitle":"标签页一","Designer_Lang.relation_templatesNotEmpty":"业务函数模板不能为空","Designer_Lang.circulationOpinionHandlerDate":"传阅意见+处理人+时间","Designer_Lang.div_background_image":"背景图片","Designer_Lang.controlCalculation_func_timeDistance_title":"获取两个参数的时间差，返回毫秒","Designer_Lang.relation_rule_choose":"选择","Designer_Lang.auditNote_rejectType":"驳回类型","Designer_Lang.configSizeSelect2":"=默认=","Designer_Lang.detailSummary_auto_1":"手动计算","Designer_Lang.detailSummary_auto_0":"自动计算","Designer_Lang.controlTableColumn":"列","Designer_Lang.zeroFill":"补零格式","Designer_Lang.auditshow_filterNote_showHandlerPostscript":"显示审批人附言","Designer_Lang.fieldLayout_dataType":"数据类型","Designer_Lang.relevance_formFiled":"表单字段","Designer_Lang.failure_operation":"操作失败","Designer_Lang.controlCalculation_func_sum_text":"列表.求和","Designer_Lang.controlAddressAttrDefaultValueNull":"无","Designer_Lang.controlDatetimeAttrYearMonth":"年月","Designer_Lang.relation_select_name":"动态下拉框","Designer_Lang.buttonsTable":"添加表格","Designer_Lang.controlAttrMaxPersonNumValidate":"选择人员不能超过{maxNum}个","Designer_Lang.relation_rule_required_yes":"必填","Designer_Lang.controlStandardTableBorderDefault":"默认","Designer_Lang.controlMutiTab_name":"多标签控件","Designer_Lang.buttonsDeleteHint":"请在表格中选择需要删除的字段（按住CTRL键可进行多选）","Designer_Lang.fieldPanel_doNotHaveAttrOrExtend":"没有可以用的属性或扩展","Designer_Lang.relation_select_inputParams":"传入参数","Designer_Lang.fieldLayout_orgType":"组织架构类型","Designer_Lang.panelExpandTitle":"展开","Designer_Lang.buttonsInsertCol":"插入列","Designer_Lang.attrPanelAddBtn":"添加","Designer_Lang.relation_choose_notNul":"不能为空","Designer_Lang.controlFSelectAttrLeastNItemChkTip":"{0},n必须为正整数","Designer_Lang.controlAttrChkLabelUnique":"显示文字 ‘{0}’ 重复","Designer_Lang.controlAttrItemsHint":"提示：文本|值，每行一值，<br/>值不允许相同","Designer_Lang.layout2colMobile":"移动端","Designer_Lang.controlUploadTemplateAttachment_info_name":"模板附件","Designer_Lang.controlStandardTableRightBorder":"右边框","Designer_Lang.successful_operation":"操作成功，请刷新页面进行查看","Designer_Lang.controlCalculation_html_alt":"计算控件","Designer_Lang.controlMutiTab_initTab_Three":"选项卡3","Designer_Lang.relation_rule_required_no":"非必填","Designer_Lang.jspControlFun":"函数","Designer_Lang.validator_message_unknowvar":"未知的变量","Designer_Lang.fieldLayout_defauleValue":"默认值","Designer_Lang.controlStandardTableMainLabelName":"主表","Designer_Lang.buttonsJsp":"JSP片段","Designer_Lang.controlNew_AddressOrg":"本机构","Designer_Lang.controlAttrValNumber":"{0} 必须为数字","Designer_Lang.controlDatetimeAttrDefaultValueNowTime":"当前时间","Designer_Lang.controlMutiTab_msg_del":"此操作会删除整个多标签控件，是否继续？","Designer_Lang.relation_common_base_pleaseChoose":"==请选择==","Designer_Lang.configFontFangSongGB2312":"仿宋_GB2312","Designer_Lang.controlDetailsTable_selectAllRow":"全选","Designer_Lang.controlCalculation_validate_unknowvar":"无法识别的变量名：","Designer_Lang.circulationOpinionTable":"表格显示","Designer_Lang.controlJspHelp":"帮助","Designer_Lang.controlAttrConcatSubTableRowIndexTip":"开启流水号功能后，该流水号会作为当前控件输入值的后缀","Designer_Lang.buttonsItalic":"斜体","Designer_Lang.controlAttrLoad":"控件加载","Designer_Lang.buttonsInsertRow":"插入行","Designer_Lang.controlStandardTableOpenTableAttr":"打开表格属性","Designer_Lang.relation_choose_button":"选择","Designer_Lang.relation_select_busiName":"业务名称","Designer_Lang.controlTableRow":"行","Designer_Lang.div_isSupportMobile":"移动端是否有效","Designer_Lang.controlCalculation_edit_var":"变量","Designer_Lang.controlAttrDataEntryModeSingleRow":"单行编辑","Designer_Lang.buttonsAlignLeft":"左对齐","Designer_Lang.controlValidatorControl_info_name":"校验器","Designer_Lang.approvalOpinionDepartmentHandlerDate":"审批意见+部门/处理人+时间","Designer_Lang.fieldLayout_associatedFormField":"关联表单字段","Designer_Lang.fieldLayout_group":"常用群组","Designer_Lang.controlDetailsTable_attr_defaultFreezeTitle":"冻结表头","Designer_Lang.configFontArial":"Arial","Designer_Lang.relation_rule_event":"属性变更","Designer_Lang.newAuditNote_commonOpinion":"常用意见","Designer_Lang.controlStandardTableDomAttrTdVAlign":"垂直对齐","Designer_Lang.sysXformAuditshow_dept":"平台部","Designer_Lang.attrpanelCancel":"取消","Designer_Lang.circulationOpinionShow_sortNote_DateDown":"按时间降序","Designer_Lang.controlAttrAlignment":"排列风格","Designer_Lang.buttonsFontStyle":"字体样式","Designer_Lang.paperSignature":"稿纸签章","Designer_Lang.fieldLayout_number":"数字","Designer_Lang.relation_select_clearValue":"清空值","Designer_Lang.fieldLayout_selectMappingField":"请选择映射字段！","Designer_Lang.relation_rule_notNul":"不能为空","Designer_Lang.relation_event_singleNoPage":"单选不分页","Designer_Lang.buttonsAlignCenter":"居中","Designer_Lang.newAuditNote":"新审批操作","Designer_Lang.controlAddressMaxPersonNumText":"限制选择人员数量","Designer_Lang.stage_choose":"选择","Designer_Lang.auditNote_requiredAttributeNotNull":"必填属性不能为空","Designer_Lang.controlAttrValMaxPersonNum":"限制选择人员数量必须是0或者正整数或者为空","Designer_Lang.buttonsOpenFontColorAlert":"请选择要操作的文字（按住CTRL键可进行多选）！","Designer_Lang.qrCode_attr_mold":"类型","Designer_Lang.controlFormluCalculation_btn_title":"公式加载","Designer_Lang.controlDetailsTable_attr_unRelevanceImport":"无关联导入","Designer_Lang.relation_select_source":"数据来源","Designer_Lang.controlNew_AddressMsg3":"{0}的自定义范围中表达式里的参数控件和高级地址本控件请同时出现在同一明细表中或都不出现在明细表中","Designer_Lang.controlNew_AddressMsg2":"自定义范围中表达式里的参数控件和高级地址本控件请同时出现在同一明细表中或都不出现在明细表中","Designer_Lang.fieldLayout_required":"必填(针对数据库非必填字段生效)","Designer_Lang.ShowHandlerNodeNotice":"请检查拼接显示文字格式，在内容中必须包含“{0}”符号！","Designer_Lang.rebuildJspScope":"重新生成jsp范围","Designer_Lang.newAuditNote_chooseNode":"选择节点","Designer_Lang.controlBrcontrol_title":"换行控件","Designer_Lang.deletee":"删除","Designer_Lang.stage_name":"名称","Designer_Lang.controlLabelTable_buttonsInsertLabel":"插入标签页","Designer_Lang.varEval":"公式填写不正确","Designer_Lang.stage_diagram_stage":"阶段","Designer_Lang.controlInputCheckboxInfoName":"多选按钮","Designer_Lang.edit_form_HTMLCode":"源码","Designer_Lang.controlMutiTab_initTab_One":"选项卡1","Designer_Lang.controlUploadImg_attr_height":"高度","Designer_Lang.buttonsInputText":"单行输入","Designer_Lang.newAuditNote_choose":"选择","Designer_Lang.controlInputTextValIDCard":"身份证","Designer_Lang.controlMutiTab_msg_del_tab":"该选项卡删除后，将删除选项卡上的所有控件，是否继续？","Designer_Lang.controlCalculation_func_dayDistance_title":"获取两个参数的日期差，返回天数（备注：起始时间与结束时间相等时，结果为1）","Designer_Lang.div_contentOverflowDefinition":"内容溢出定义","Designer_Lang.buttonsTree":"控件树","Designer_Lang.tb_normal_lightweight":"表格内外无边框，互联网风格轻量化","Designer_Lang.controlNew_AddressMsg":"输出参数中目标控件和高级地址本控件请同时出现在同一明细表中或都不出现在明细表中","Designer_Lang.controlSeniorDetailsTable_description":"支持数据结构化存储跟分页展示","Designer_Lang.enterTheFormName":"请输入表单名称","Designer_Lang.relation_select_dataSourceConfigurationTips1":"数据来源配置提示：","Designer_Lang.relation_select_dataSourceConfigurationTips2":"数据源来自后台的JDBC业务数据、TIB组件、拓展点等","Designer_Lang.controlDetailsTable_attr_defaultFreezeCol":"冻结列","Designer_Lang.relevance":"关联文档","Designer_Lang.tableStyle":"表格样式","Designer_Lang.controlAttrReCalculate_approval":"重新计算","Designer_Lang.controlInputTextValFormatFalse":"常规","Designer_Lang.relation_choose_hidevalue":"实际值","Designer_Lang.relevance_diffusionAuth_note":"传阅文档包括我起草的和非我起草但有阅读权限的","Designer_Lang.loadFailed":"加载失败!","Designer_Lang.voteNote_choose":"选择","Designer_Lang.controlDetailsTable_alert":"请至少保留一行！","Designer_Lang.div_name":"DIV布局","Designer_Lang.controlInputRadioItemsLabel":"单选按钮","Designer_Lang.newAuditNote_handlerBelongsTo":"审批人属于","Designer_Lang.buttonsBold":"加粗","Designer_Lang.controlAttrChkMaxPersonNum":"{0} 限制选择人员数量必须是0或者正整数或者为空","Designer_Lang.validator_message_unknowexperssion":"无效的表达式","Designer_Lang.validatorControlMaximize":"最大化","Designer_Lang.relation_rule_display":"显示","Designer_Lang.stage_belong_node":"所属节点","Designer_Lang.controlAttachInfoName":"附件","Designer_Lang.fieldLayout_post":"岗位","Designer_Lang.treeRightTreeTitle":"表单权限","Designer_Lang.relation_choose_name":"选择框","Designer_Lang.copy":"复制","Designer_Lang.controlFormula_html_button":"公式加载","Designer_Lang.pleaseWritevalidatorExpression":"请先填写校验表达式","Designer_Lang.auditshow_preferenceHint":"Bean：必须实现AuditNoteDataShow接口，此处传Bean的Id，建议从AuditNoteDataShowByPreference类继承。参数：在扩展类中通过getShowAuditNoteTag().getValue()获取后自行解析","Designer_Lang.controlAttachDeleteRight":"删除权限","Designer_Lang.controlnew_addressAttrScope":"选择范围","Designer_Lang.enumValues":"选项值","Designer_Lang.auditshow_attr_type":"类型","Designer_Lang.controlTextLabelAttrLine":"换行","Designer_Lang.jspControlName":"片段名称: ","Designer_Lang.jspControlClose":"关闭","Designer_Lang.controlAttrAutoLoad":"自动加载","Designer_Lang.controlCalculation_edit_fun":"函数","Designer_Lang.div_visible":"完整呈现（visible）","Designer_Lang.controlAttrDataTypeBigNumber":"数字（Big Decimal）","Designer_Lang.controlCalculation_func_timeWarning":"初始时间不得晚于结束时间","Designer_Lang.controlAttrChkWidth":"{0} 宽度必须是正整数或者百分数","Designer_Lang.relation_select_showText":"显示值","Designer_Lang.handler_NotNull":"处理人属于必填参数为空","Designer_Lang.configSizePx":" 像素","Designer_Lang.relation_event_fillType_detailadd":"追加行数据","Designer_Lang.controlDatetimeAttrDimension":"维度","Designer_Lang.fieldLayout_fontStyle":"字体样式设置","Designer_Lang.controlInputTextValFormatPhoneNumber":"手机号码","Designer_Lang.div":"DIV控件","Designer_Lang.controlRightNotUseDefault":"非默认权限","Designer_Lang.controlTextLabelAttrSize":"大小","Designer_Lang.controlInputTextValFormatZeroFill":"补零","Designer_Lang.controlNew_AddressFormField":"关联表单字段（双击选中）","Designer_Lang.buttonsDeleteColAlert":"请在表格中选择需要删除的列！","Designer_Lang.controlAttrChkSysLabelUnique":"显示文字 ‘{0}’ 与主文档基本信息字段名称重复","Designer_Lang.detailSummary_tips_place":"请将该控件放置明细表内","Designer_Lang.qrCode_mold_docURL":"文档链接","Designer_Lang.buttonsBGColor":"单元格颜色","Designer_Lang.controlAddressAttrMultiSelect":"多选","Designer_Lang.from":"由","Designer_Lang.jspControlJava":"java片段","Designer_Lang.auditshow_filterNote_reviewNoteReading":"阅示意见","Designer_Lang.controlAttrAlignmentCenter":"居中","Designer_Lang.controlLinkLabelInfoName":"链接","Designer_Lang.controlnew_addressAttrOrgType":"选择类型","Designer_Lang.ShowHandlerNodeType":"显示类型","Designer_Lang.controlUploadImg_info_name":"标题图片","Designer_Lang.buttonsDeleteRowConfirm":"确认删除当前行，\\n以及行所包含的控件？","Designer_Lang.relation_event_formField":"表单字段","Designer_Lang.controlRtfInfoName":"富文本框","Designer_Lang.notNull":"必填属性","Designer_Lang.auditNote":"审批操作","Designer_Lang.buttonsInputRadio":"单选按钮","Designer_Lang.copySuccess":"复制成功!","Designer_Lang.handlerpersion":"处理人","Designer_Lang.relation_event_inputParamsNotNull":"存在必填传入参数为空","Designer_Lang.treeRightTreeDefaultAlt":"非流程处理人权限","Designer_Lang.massdata_colDefine":"列定义","Designer_Lang.controlFieldLayoutName":"属性布局","Designer_Lang.buttonsSetAlignAlert":"请选择需要对齐的单元格或控件（按住CTRL键可进行多选）！","Designer_Lang.controlCalculation_func_defaultValue_value":"$取值$(表达式, 默认值)","Designer_Lang.attrpanelDefaultValueReCalculate":"更新时重新计算","Designer_Lang.controlDatetimeAttrYear":"年","Designer_Lang.auditshow_sortNote_Desc":"按时间降序","Designer_Lang.buttonsFSelect":"复选下拉框","Designer_Lang.voteNode_locked":"锁定比例","Designer_Lang.circulationOpinionShow_sortNote_DeptUp":"按部门排序号升序","Designer_Lang.controlMutiTab_name_insert":"多标签","Designer_Lang.controlDetailsTable_attr_multipleHeader":"多表头","Designer_Lang.controlAddressInfoName":"地址本选择框","Designer_Lang.buttonsUniteCell":"合并单元格","Designer_Lang.controlLabelTable_buttonsLabelTable":"标签表格","Designer_Lang.relevance_noInputParams":"无输入参数","Designer_Lang.controlTextLabelAttrContent":"文本内容","Designer_Lang.validatorExpression":"字段表达式","Designer_Lang.controlInputTextValString":"字符长度","Designer_Lang.controlBrcontrol_info_name":"换行控件","Designer_Lang.duplicateName":"名称重复","Designer_Lang.controlAttrNeedFilter":"过滤内容","Designer_Lang.relevance_single":"单选","Designer_Lang.circulationOpinionShow_name":"传阅意见","Designer_Lang.controlAttrDataEntryModeMultipleRow":"多行编辑","Designer_Lang.controlAddressAttrOrgTypeOrg":"机构","Designer_Lang.auditNote_flowNote":"流程节点","Designer_Lang.treepanelNoControl":"无控件","Designer_Lang.controlVoteNodeInfoName":"投票结果","Designer_Lang.controlAttachDomSampleFileSize":"50.5KB","Designer_Lang.controlInputRadioInfoName":"单选按钮","Designer_Lang.div_background_color":"底色","Designer_Lang.controlCalculation_func_dayDistance_value":"$时间.求日期差$(起始时间, 结束时间)","Designer_Lang.relation_event_mutiNoPage":"多选不分页","Designer_Lang.controlCalculation_func_defaultValue_title":"获取参数表达式的值，如果表达式值为空，将返回参数默认值","Designer_Lang.controlChinaValue_operations_title":"大小写转换控件","Designer_Lang.controlAttrReturnTypeCheckbox":"多选按钮","Designer_Lang.controlDetailsTable_info_name":"明细表","Designer_Lang.relation_rule_cusotmEvent":"自定义事件","Designer_Lang.controlAttrAlignmentLeft":"居左","Designer_Lang.jspControlFormField":"表单字段","Designer_Lang.detailSummary_calc":"计算","Designer_Lang.circulationOpinionShow_name_insert":"传阅意见","Designer_Lang.controlTextareaMaxlength":"长度限制","Designer_Lang.controlCalculation_func_avg_value":"$列表.求平均值$(列表)","Designer_Lang.controlInputTextAttrBegin":"开始值","Designer_Lang.controlAttrValWidth":"宽度必须是正整数或者百分数","Designer_Lang.auditshow_attr_filterNote":"意见筛选","Designer_Lang.controlTextLabelContorlType":"控件类型","Designer_Lang.detailSummary_calc_avg":"平均值","Designer_Lang.fieldPanel_required":"必选","Designer_Lang.mobile":"移动端","Designer_Lang.mobileNotAllowedDesign":"您好，当前版本使用移动端默认布局，不允许进行配置!","Designer_Lang.layout2colValDefault":"默认","Designer_Lang.controlCalculation_validate_success":"校验通过！","Designer_Lang.auditshow_attr_exhibitionStyle":"展示样式","Designer_Lang.controlDetailsTable_attr_importType":"Excel导入模式","Designer_Lang.newAuditNote_attr_type":"类型","Designer_Lang.controlUploadImg_attr_url":"图片","Designer_Lang.ShowHandlerTextLengthLimit":"内容长度为{0},超出最大长度限制！","Designer_Lang.controlAttachDomSample2FileSize":"100.5KB","Designer_Lang.controlAttrValMoreThan":"{0} 必须大于 {1}","Designer_Lang.controlTextLabelAttrBreakWord":"单词换行","Designer_Lang.buttonsTextSelectAlert":"请选择要操作的文字！","Designer_Lang.attrpanelSuccess":"确定","Designer_Lang.relation_attrFun":"函数","Designer_Lang.controlAttrValDecimalSize":"{0} 小数位不能超过 {1} 位","Designer_Lang.relation_rule_condition":"条件","Designer_Lang.controlAddressAttrDefaultValueSelfPost":"提交人的岗位","Designer_Lang.controlStandardTableLeftBorder":"左边框","Designer_Lang.fieldLayout_height":"高度(百分比或像素,如80%或200px)","Designer_Lang.controlDatetimeAttrYearMonthDay":"年月日","Designer_Lang.controlDetailsTable_attr_relevanceImport":"关联导入","Designer_Lang.mobileNotSupportInsert":"移动端配置不支持在表格外插入控件","Designer_Lang.treeRightTreeHandlerAlt":"节点处理人权限","Designer_Lang.prompt_name":"提示控件","Designer_Lang.divControlChkHeight":"{0} 高度必须是正整数或者百分数","Designer_Lang.controlStandardTableDomAttrTdClassName":"样式","Designer_Lang.auditshow_filterNote_processingResult":"办理结果","Designer_Lang.controlAttrLabel":"显示文字","Designer_Lang.controlCalculation_attr_expression":"表达式","Designer_Lang.relation_event_dialogWidth":"弹窗宽度","Designer_Lang.controlStandardTableBottomBorder":"下边框","Designer_Lang.controlDatetimeAttrBusinessTypeDateAndYearMoney":"日期（年-月）","Designer_Lang.relation_rule_readonly_no":"可编辑","Designer_Lang.auditshow_chooseExhibitionNodes":"选择展示节点","Designer_Lang.configFontTimesNewRoman":"Times New Roman","Designer_Lang.fieldLayout_multi":"多选","Designer_Lang.jspControlImport":"import片段","Designer_Lang.fieldLayout_basicAttribute":"基本属性","Designer_Lang.controlAttrReCalculate":"重新计算","Designer_Lang.stage_diagram_requiredOne":"请至少保留一个","Designer_Lang.mobileControlStyleDesc":"说明：开启该功能后，表单控件的字体颜色和字体样式将在移动端生效(目前支持文本、单行输入、前端计算、多行输入、单选按钮、多选按钮、下拉菜单、复选下拉、大小写转换、公式加载)","Designer_Lang.controlFSelectAttrLeastNItem":"最少选n项","Designer_Lang.controlAttrDataTypeHint":"提示：调整数据类型时请注意调整格式","Designer_Lang.attrpanelApply":"应用","Designer_Lang.douu":"数字","Designer_Lang.toolbarSampleImg":"样本","Designer_Lang.controlAttrCanShow":"显示","Designer_Lang.sysXformAuditshow_person":"张三","Designer_Lang.controlHiddenInfoName":"隐藏字段","Designer_Lang.controlCalculation_btn_title":"前端值计算","Designer_Lang.buttonsRtf":"富文本框","Designer_Lang.relation_event_singlePage":"单选分页","Designer_Lang.controlAddressAttrBusinessType":"业务类别","Designer_Lang.relation_checkbox_name":"动态多选","Designer_Lang.controlTextLabelAttrItalic":"斜体","Designer_Lang.controlCalculation_func_timeDistance_text":"时间.求时间差","Designer_Lang.controlNoSupportRight":"该控件不支持权限区段","Designer_Lang.controlTextareaMaxlength_hint":"为“空”或为“0”，表示无限制","Designer_Lang.fieldLayout_person":"个人","Designer_Lang.controlDetailsTable_item":"行","Designer_Lang.controlAddressAttrOrgType":"组织架构类型","Designer_Lang.builderDeleteControlAlter":"确认删除当前控件，\\n以及控件所包含的其他控件？","Designer_Lang.fieldLayout_pleaseChooseBaseAttributeControlFirst":"请先选择基本属性控件","Designer_Lang.formDataPersistenceFormatOpen":"开启","Designer_Lang.controlDisplayValueMessage":"(显示值)","Designer_Lang.layout2colDesktop":"桌面端","Designer_Lang.approvalOpinionHandlerDate":"审批意见+处理人+时间","Designer_Lang.relation_common_base_source":"数据来源","Designer_Lang.relation_event_dialogHeight":"弹窗高度","Designer_Lang.mobileControlStyleOpen":"开启","Designer_Lang.sysXformAuditshow_date":"2016-11-16","Designer_Lang.configFontKaiTi":"楷体","Designer_Lang.mobileControlStyleClose":"关闭","Designer_Lang.pleaseSelectRemoveValidators":"请先选择要删除的校验表达式","Designer_Lang.controlCalculation_func_dayDistance_text":"时间.求日期差","Designer_Lang.controlInputCheckboxItemsLabel":"多选按钮","Designer_Lang.div_background_img":"图片","Designer_Lang.control":"控件","Designer_Lang.controlSeniorDetailsTable_info_name":"高级明细表","Designer_Lang.relation_event_onextendReturn":"扩展返回事件","Designer_Lang.auditNote_chooseNode":"选择节点","Designer_Lang.commonNoOutputParams":"无输出参数","Designer_Lang.controlCalculation_edit_title":"表达式定义","Designer_Lang.massdata_delColWarning":"删除之后，已有的流程文档会找不到该列，确定要删除吗？","Designer_Lang.fieldLayout_contentLength":"内容长度限制(0或空不限制)","Designer_Lang.controlInputTextAttrValidate":"校验","Designer_Lang.detailSummary_fieldCalc":"字段汇总","Designer_Lang.controlJspSuccess":"确定","Designer_Lang.circulationOpinionShow_sortNote_DateUp":"按时间升序","Designer_Lang.controlInputTextAttrDecimal":"小数位数","Designer_Lang.form_resource":"表单源码","Designer_Lang.controlCalculation_validate_wait":"校验正在执行中，请等待执行结果后再执行下一步操作！","Designer_Lang.controlQRCodeAttrContent":"二维码链接","Designer_Lang.controlAttrMobileRenderTypeBlock":"块状","Designer_Lang.controlRightPleaseInputName":"请输入名称","Designer_Lang.relation_common_base_outputParamsNotNull":"传出参数存在必填参数为空","Designer_Lang.buttonsDatetime":"日期选择","Designer_Lang.controlDocImg_imgType":"选项","Designer_Lang.fieldLayout_setParameters":"设置参数","Designer_Lang.controlAttrValChkId_NotNull":"错误： ID不能为空","Designer_Lang.form":"表单","Designer_Lang.controlNew_AddressSelectByFormula":"使用公式定义器","Designer_Lang.controlAttrFormula":"公式定义","Designer_Lang.mobileControlStyleUpdate":"批量更新样式","Designer_Lang.controlInputTextValPhoneNumber":"手机号码","Designer_Lang.auditNote_pass":"通过","Designer_Lang.controlFormulaCalculation_info_name":"公式加载","Designer_Lang.auditshow_mould_node1AndHandler1":"按节点 + 处理人展示(仅审批意见)","Designer_Lang.controlAttachDomTip":"请选择要上传的文件","Designer_Lang.controlValidatorRule":"已添加规则","Designer_Lang.controlAttrHeight":"高度","Designer_Lang.div_enable":"有效","Designer_Lang.rebuildJspOpen":"已开启","Designer_Lang.buttonsAppendColAlert":"请选择需要追加列的表格！","Designer_Lang.div_background_clean":"清除","Designer_Lang.controlDocImg_TypeSingle":"单图片","Designer_Lang.relevance_diffusionAuth":"传阅文档阅读权限","Designer_Lang.relation_event_outputParamTip":"若传出参数关联到时间控件，请注意格式转换。目前支持日期格式为:yyyy-MM-dd、yyyy年MM月dd日、dd/MM/yyyy、yyyyMMdd","Designer_Lang.fieldLayout_decimalDigits":"小数位数","Designer_Lang.configFontHeiTi":"黑体","Designer_Lang.to":"变更为","Designer_Lang.controlAttrIsShowDownLoadButton":"是否显示下载按钮","Designer_Lang.validatorControlRuleExam":"如后台配置的字段表达式为“$借阅时间$ >= $借阅创建时间$”,校验规则为条件为不符合时提示,提示语为“借阅时间不能在文档创建时间之前”,当前时间为2018-06-18 15：00时,前端输入不符合条件的时间则会弹出提示：","Designer_Lang.controlNew_AddressSelectByOrg":"从组织架构选择","Designer_Lang.controlAttrReturnTypeRadio":"单选按钮","Designer_Lang.stage_diagram_finishTime":"阶段完成时间","Designer_Lang.controlRightNotSetReader":"未设置读者","Designer_Lang.controlDocImg_attr_height":"高度","Designer_Lang.controlAttachAttrSizeTypeMulti":"多附件","Designer_Lang.controlStandardTableDomAttrTdAlignRight":"右对齐","Designer_Lang.controlAddressChkAlterNotNull":"{0} 请至少选择一种组织架构类型","Designer_Lang.newAuditNote_flowNote":"选择节点","Designer_Lang.fieldLayout_time":"时间","Designer_Lang.controlRightInputNameNotNull":"不可以为空","Designer_Lang.auditNote_handerShowByAddress":"处理人(地址本)","Designer_Lang.controlDateFormat_formatType_title":"显示格式","Designer_Lang.fieldLayout_bigDecimal":"数字(BigDecimal)","Designer_Lang.treepanelTitle":"控件树","Designer_Lang.stage_diagram_end_node":"结束节点","Designer_Lang.controlRightInfoName":"权限区段","Designer_Lang.configFontXinSongTi":"新宋体","Designer_Lang.auditshow_filterNote_reviewNoteInstruction":"批示意见","Designer_Lang.controlChinaValue_attr_relatedControl":"关联控件","Designer_Lang.relation_select_defalutValue":"默认实际值","Designer_Lang.confirmDelete":"确认删除吗？","Designer_Lang.fieldLayout_inter":"之间","Designer_Lang.treeRightTreeDefaultText":"非流程处理人场景","Designer_Lang.relevance_btnName":"按钮名称","Designer_Lang.modifyAttr":"修改节点属性后，可能会导致公式、后端程序等地方无法正确获取到该控件内容，是否继续？","Designer_Lang.relation_select_pleaseChoose":"==请选择==","Designer_Lang.fieldLayout_contentLengthValidate":"内容长度限制必须为数字","Designer_Lang.Toolbar_extend":"扩展","Designer_Lang.vv":"V 垂直排列","Designer_Lang.divControlValHeight":"高度必须是正整数或者百分数","Designer_Lang.stage_diagram_displayItem":"显示项","Designer_Lang.controlAttachDeleteRightTip":"不允许删除别人上传的附件","Designer_Lang.massdata_sourceRequire":"请先选择数据源！","Designer_Lang.controlInputTextValNumber":"数字","Designer_Lang.controlCalculation_func_avg_title":"对列表中所有的数字求平均值（忽略空值与非数字）","Designer_Lang.controlPromptTip":'内容可以为html标签,例如：<a href="http://www.landray.com.cn/">蓝凌</a>',"Designer_Lang.buttonsSelectOptControl":"请选择需要操作的控件或者当前控件不支持设置样式!","Designer_Lang.controlAttrSummary":"是否摘要","Designer_Lang.relation_event_templateField":"模板字段","Designer_Lang.controlStandardTableSetStyle":"设置样式","Designer_Lang.div_height":"高度(为空表示\\'auto\\')","Designer_Lang.controlStandardTableDomAttrTdVAlignTop":"顶端对齐","Designer_Lang.controlAttrDataType":"数据类型","Designer_Lang.controlRightUseDefault":"随默认权限","Designer_Lang.controlAttrReadOnly":"只读","Designer_Lang.controlDocImg_info_name":"图片上传","Designer_Lang.controlTextareaInfoName":"多行输入框","Designer_Lang.div_inherit":"继承父规则（inherit）","Designer_Lang.attrPanelMoveUp":"上移","Designer_Lang.circulationOpinionShow_attr_preview":"预览","Designer_Lang.buttonsFontSize":"字体大小","Designer_Lang.voteNode_title":"投票结果","Designer_Lang.newAuditNote_refuse":"驳回","Designer_Lang.controlCalculation_validate_failure_evalError":"表达式校验未通过！可能是由于表达式编写错误，或者校验器无法模拟真实数据导致。","Designer_Lang.controlNew_AddressIsShowOutputParams":"是否显示传出参数","Designer_Lang.controlNew_AddressCustom":"自定义","Designer_Lang.controlJspInfoName":"JSP片段","Designer_Lang.auditshow_name":"审批意见","Designer_Lang.new_address_name":"高级地址本","Designer_Lang.relation_event_fillTypeOne_add":"追加","Designer_Lang.controlStandardTableLabelName":"表格","Designer_Lang.jsp_AttachXFormValueChangeEventById_Title":"仅当ID标识的控件发生值变化时进行调用","Designer_Lang.passTip":"满足字段表达式时提示","Designer_Lang.controlDetailsTable_attr_freezeEnable":"开启（使用多表头时，冻结表头与冻结列无效）","Designer_Lang.relation_rule_display_dispcontrol":"显示","Designer_Lang.buttonsPaste":"粘贴","Designer_Lang.controlAttrFormulas":"公式","Designer_Lang.controlAttrDefaultValue":"初始值","Designer_Lang.qrCode_mold_custom":"自定义","Designer_Lang.controlTextLabelAttrEffect":"效果","Designer_Lang.controlInputTextValFormatPercent":"百分比","Designer_Lang.controlAddressAttrOrgTypePerson":"个人","Designer_Lang.fieldLayout_org":"机构","Designer_Lang.qrCode_attr_valType":"值","Designer_Lang.mobileControlStyle":"移动端控件样式","Designer_Lang.controlUploadImg_attr_width":"宽度","Designer_Lang.relation_common_base_hiddeValue":"实际值","Designer_Lang.ControlPleaseSelect":"==请选择==","Designer_Lang.Toolbar_tool":"集成&辅助","Designer_Lang.auditshow_filterNote_nullNoteHave":"保留空意见","Designer_Lang.controlValidatorHelp":"帮助","Designer_Lang.modifyRelationAttr":"修改节点属性后，可能会导致公式、后端程序等地方无法正确获取到该控件内容，修改ID需要重新配置数据源, 是否继续？","Designer_Lang.controlDetailsTable_noSuppotAlert":"明细表不支持此操作！","Designer_Lang.controlAttrItems":"选项","Designer_Lang.panelFoldTitle":"折叠","Designer_Lang.controlAttachDomSampleFileName":"表单自己定义 帮助文档.doc","Designer_Lang.controlDetailsTable_attr_replicationRow":"复制行","Designer_Lang.relevance_isUseNew":"使用新格式式","Designer_Lang.auditshow_filterNote_membersSendOpinions":"工作人员分送意见","Designer_Lang.controlFragmentSet_not_support":"片段集暂不支持多表单","Designer_Lang.relation_choose_labelNotNul":"请先填写控件显示文字","Designer_Lang.mobileForm":"移动表单","Designer_Lang.massdata_dateTime":"日期时间","Designer_Lang.treeRightTreeWfAlt":"流程处理人默认权限","Designer_Lang.Toolbar_layout":"布局","Designer_Lang.attrpanelSuccessUpdate":"成功更新属性","Designer_Lang.adjust":"调整样式或者调整控件位置","Designer_Lang.fieldLayout_readOnly":"只读","Designer_Lang.controlDatetimeAttrBusinessTypeTime":"时间","Designer_Lang.treepanelNoLabel":"未设置显示文字","Designer_Lang.relation_event_onchange":"值改变","Designer_Lang.controlStandardTableStyle":"表格样式","Designer_Lang.relation_common_base_dataSourceConfigurationTips2":"数据源来自后台的JDBC业务数据、TIB组件、拓展点等","Designer_Lang.pleaseNotAddRepeatValidator":"表达式已存在,请不要重复添加","Designer_Lang.relation_common_base_dataSourceConfigurationTips1":"数据来源配置提示：","Designer_Lang.handlerShowNode_chooseNode":"选择节点","Designer_Lang.fieldLayout_noParameters":"没有需要设置的参数","Designer_Lang.relevance_ifNull":"为空则取全局默认参数","Designer_Lang.controlNew_AddressFormfieldsMsg":"当前支持的表单控件：单行、多行输入、单选、多选按钮、下拉菜单、日期选择","Designer_Lang.auditshow_mould_recycling":"按子流程展示回收意见","Designer_Lang.relevance_noAgree":"数据类型不一致！","Designer_Lang.relation_rule_onmouseClick":"鼠标单击","Designer_Lang.controlDatetimeAttrBusinessType":"类别","Designer_Lang.relation_select_choose":"选择","Designer_Lang.circulationOpinionShow_date":"2016-16-11","Designer_Lang.controlCalculation_func_count_text":"列表.求条目数","Designer_Lang.controlAttachDomSample2FileName":"EKP-J 帮助文档.doc","Designer_Lang.auditNote_handerShowByFormula":"处理人(公式计算)","Designer_Lang.controlAttrValItemsDefaultValue":"{0} 在选项值中不存在\\n请输入选项中的值","Designer_Lang.buttonsRightTree":"显示权限","Designer_Lang.relevance_range":"关联范围","Designer_Lang.rebuildJspSelect":"请选择需要重新生成jsp的模板","Designer_Lang.panelCloseTitle":"关闭","Designer_Lang.auditNote_commonOpinion":"常用意见","Designer_Lang.auditNote_rejectTheDraftingNode":"驳回起草节点","Designer_Lang.controlRightModeHidden":"不可见","Designer_Lang.auditshow_mould_custom":"自定义","Designer_Lang.controlStandardTableInfoTd":"单元格","Designer_Lang.fieldLayout_heightValidate":"高度百分比或像素格式不正确","Designer_Lang.controlAttachAttrFileTypeHint":"文件后缀名，如：.doc|.txt","Designer_Lang.controlCalculation_validate_unknowfunc":"无法识别的函数名：","Designer_Lang.circulationOpinionShow_post":"架构师","Designer_Lang.controlDocImg_attr_url":"图片","Designer_Lang.controlBrcontrol_attr_valLineHeight":"高度必须是正整数","Designer_Lang.controlValidatorPleaseSelect":"请选择","Designer_Lang.relation_checkbox_option":"选项 ","Designer_Lang.controlDetailsTable_add_item":"添加行","Designer_Lang.relation_select_clearVal":"清空值","Designer_Lang.buttonsSelectOptControlForm_tip":"请选择需要操作的表单！","Designer_Lang.sysXformAuditshow_operation":"【通过】","Designer_Lang.buttonsCutBuilder":"缩小画布","Designer_Lang.div_relevanceNotSupportInsertToDivControl":"关联控件不支持DIV布局控件嵌套！","Designer_Lang.relation_common_base_showText":"显示值","Designer_Lang.relation_event_fillType_detailrepace":"覆盖行数据（清空+追加）","Designer_Lang.controlInputTextZeroFillFormat":"补零格式","Designer_Lang.NewAuditNote_requiredAttributeNotNull":"{0} 必填属性不能为空","Designer_Lang.approvalOpinionHandlerDate2":"审批意见+处理人+时间（同行显示）","Designer_Lang.massdata_output":"传出","Designer_Lang.buttonsAppendRowAlert":"请选择需要追加行的表格！","Designer_Lang.massdata":"大数据呈现","Designer_Lang.controlAttrDataTypeText":"字符","Designer_Lang.controlUploadTemplateAttachment_title":"模板附件","Designer_Lang.auditshow_filterNote_sameHandler":"同处理人取最后一条","Designer_Lang.controlAddressAttrOrgTypePost":"岗位","Designer_Lang.auditshow_auditorOwner":"审批人属于","Designer_Lang.massdata_formField":"表单","Designer_Lang.controlCalculation_func_defaultValue_text":"取值","Designer_Lang.controlAttrValInt":"{0} 必须为正整数","Designer_Lang.jspMobileDefault":"默认","Designer_Lang.controlAttachDeleteAllRightTip":"不允许删除上传的附件","Designer_Lang.circulationOpinionShow_msg":"已阅","Designer_Lang.controlNew_AddressModel":"模板","Designer_Lang.controlDetailsTable_attr_showIndex":"显示序号","Designer_Lang.controlNotSupportStyle":"该控件不支持样式设置！","Designer_Lang.button_setterHTML":"设置HTML","Designer_Lang.controlCalculation_func_manHoursHourDistance_text":"时间.获取工时","Designer_Lang.fieldLayout_mustBeSelect":"必须被选择","Designer_Lang.buttonsDeleteDetailsTable":"此操作会删除整个明细表，是否继续？","Designer_Lang.auditshow_filterNote_reviewNote":"仅显示通过意见","Designer_Lang.attrPanelMoveDown":"下移","Designer_Lang.relation_pointError":"扩展点中数据源出错","Designer_Lang.relation_rule_trigger_dom":"触发控件","Designer_Lang.voteNode_mold_barGraph":"柱状图","Designer_Lang.massdata_colTitle":"列标题","Designer_Lang.controlAttrValChkId_TwoCap":"警告： ID首两个字符最好为小写字母","Designer_Lang.relation_select_outputParams":"传出参数","Designer_Lang.div_notSupportInsertToAdvancedListControl":"插入的控件不支持插入到高级明细表！","Designer_Lang.relation_rule_choose_please":"请选择","Designer_Lang.controlNew_AddressSelectednNumber":"类型选中的数量","Designer_Lang.controlNew_AddressCustomValue":"自定义值","Designer_Lang.relevance_noExist":"数据类型不存在！","Designer_Lang.auditshow_preferenceParam":"参数","Designer_Lang.buttonsFontColor":"字体颜色","Designer_Lang.controlTableSelectTwoOrMoreCell":"请选中两个或两个以上相邻的单元格！","Designer_Lang.detailSummary_relation":"关系映射","Designer_Lang.fieldLayout_between":"介于","Designer_Lang.controlInputTextValEmail":"邮件地址","Designer_Lang.controlAttrValLabelUnique":"显示文字不能重复","Designer_Lang.validatorRule":"校验规则","Designer_Lang.controlTextLabelAttrUnderline":"下划线","Designer_Lang.relation_rule_required":"必填","Designer_Lang.buttonsTextLabel":"文本","Designer_Lang.formDataPersistenceFormatDesc":"说明：开启该功能后，支持JSON格式;JSON（推荐）：空间占用少，解析效率高;XML（默认）：兼容历史数据，若无数据定制处理，建议使用JSON","Designer_Lang.relevance_notSupportPutInConainer":"关联控件不支持放置到容器中！","Designer_Lang.controlSelectPleaseSelect":"--- 请选择 ---","Designer_Lang.DelValidator":"删除","Designer_Lang.controlMutiTab_msg_error_position":"提升多标签必须设置为根容器，该控件外或同级不能包含任何其他控件","Designer_Lang.controlTextLabelAttrNormal1":"正常","Designer_Lang.controlTextLabelAttrColor":"颜色","Designer_Lang.controlAttrValLessThan":"{0} 必须小于 {1}","Designer_Lang.attrpanelDefaultValueFormula":"公式定义"})}}});