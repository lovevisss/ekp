require({cache:{"sys/mobile/js/mui/chart/ChartWesterosMixin":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/dom-style","dojo/window"],function(b,d,a,c){return b("mui.chart.chartWesterosMixin",null,{colors:["#4285f4","#e57abc","#f3c14a","#69e27c","#a294e3","#f29393"],concatDefaultOptions:function(e){this.defaultColor(e);this.defaultXAxis(e)},defaultXAxis:function(e){var g=e.xAxis;if(g instanceof Array){for(var f=0;f<g.length;f++){if(!e.xAxis[f].axisLabel){e.xAxis[f].axisLabel={}}if(!e.xAxis[f].axisLabel.rotate){e.xAxis[f].axisLabel.rotate=30}}}},defaultColor:function(e){if(!e.color){e.color=this.colors}},registerTheme:function(e){e.registerTheme("westeros",{color:this.colors,backgroundColor:"rgba(0,0,0,0)",textStyle:{},title:{textStyle:{color:"#666666"},subtextStyle:{color:"#f2f2f2"}},line:{itemStyle:{normal:{borderWidth:"2"}},lineStyle:{normal:{width:"2"}},symbolSize:"6",symbol:"emptyCircle",smooth:true},radar:{itemStyle:{normal:{borderWidth:"2"}},lineStyle:{normal:{width:"2"}},symbolSize:"6",symbol:"emptyCircle",smooth:true},bar:{itemStyle:{normal:{barBorderWidth:0,barBorderColor:"#ffffff"},emphasis:{barBorderWidth:0,barBorderColor:"#ffffff"}}},pie:{itemStyle:{normal:{borderWidth:0,borderColor:"#ffffff"},emphasis:{borderWidth:0,borderColor:"#ffffff"}}},scatter:{itemStyle:{normal:{borderWidth:0,borderColor:"#ffffff"},emphasis:{borderWidth:0,borderColor:"#ffffff"}}},boxplot:{itemStyle:{normal:{borderWidth:0,borderColor:"#ffffff"},emphasis:{borderWidth:0,borderColor:"#ffffff"}}},parallel:{itemStyle:{normal:{borderWidth:0,borderColor:"#ffffff"},emphasis:{borderWidth:0,borderColor:"#ffffff"}}},sankey:{itemStyle:{normal:{borderWidth:0,borderColor:"#ffffff"},emphasis:{borderWidth:0,borderColor:"#ffffff"}}},funnel:{itemStyle:{normal:{borderWidth:0,borderColor:"#ffffff"},emphasis:{borderWidth:0,borderColor:"#ffffff"}}},gauge:{itemStyle:{normal:{borderWidth:0,borderColor:"#ffffff"},emphasis:{borderWidth:0,borderColor:"#ffffff"}}},candlestick:{itemStyle:{normal:{color:"#f79fc2",color0:"transparent",borderColor:"#f04086",borderColor0:"#2cd3e1",borderWidth:"2"}}},graph:{itemStyle:{normal:{borderWidth:0,borderColor:"#ffffff"}},lineStyle:{normal:{width:1,color:"#aaaaaa"}},symbolSize:"6",symbol:"emptyCircle",smooth:true,color:["#4285f4","#e57abc","#f3c14a","#69e27c","#a294e3","#f29393"],label:{normal:{textStyle:{color:"#ffffff"}}}},map:{itemStyle:{normal:{areaColor:"#f3f3f3",borderColor:"#516b91",borderWidth:0.5},emphasis:{areaColor:"rgba(165,231,240,1)",borderColor:"#516b91",borderWidth:1}},label:{normal:{textStyle:{color:"#000000"}},emphasis:{textStyle:{color:"rgb(81,107,145)"}}}},geo:{itemStyle:{normal:{areaColor:"#f3f3f3",borderColor:"#516b91",borderWidth:0.5},emphasis:{areaColor:"rgba(165,231,240,1)",borderColor:"#516b91",borderWidth:1}},label:{normal:{textStyle:{color:"#000000"}},emphasis:{textStyle:{color:"rgb(81,107,145)"}}}},categoryAxis:{axisLine:{show:true,lineStyle:{color:"#cccccc"}},axisTick:{show:false,lineStyle:{color:"#333"}},axisLabel:{show:true,textStyle:{color:"#999999"}},splitLine:{show:true,lineStyle:{color:["#eeeeee"]}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},valueAxis:{axisLine:{show:true,lineStyle:{color:"#cccccc"}},axisTick:{show:false,lineStyle:{color:"#333"}},axisLabel:{show:true,textStyle:{color:"#999999"}},splitLine:{show:true,lineStyle:{color:["#eeeeee"]}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},logAxis:{axisLine:{show:true,lineStyle:{color:"#cccccc"}},axisTick:{show:false,lineStyle:{color:"#333"}},axisLabel:{show:true,textStyle:{color:"#999999"}},splitLine:{show:true,lineStyle:{color:["#eeeeee"]}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},timeAxis:{axisLine:{show:true,lineStyle:{color:"#cccccc"}},axisTick:{show:false,lineStyle:{color:"#333"}},axisLabel:{show:true,textStyle:{color:"#999999"}},splitLine:{show:true,lineStyle:{color:["#eeeeee"]}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},toolbox:{iconStyle:{normal:{borderColor:"#999999"},emphasis:{borderColor:"#666666"}}},legend:{textStyle:{color:"#999999"}},tooltip:{axisPointer:{lineStyle:{color:"#cccccc",width:1},crossStyle:{color:"#cccccc",width:1}}},timeline:{lineStyle:{color:"#8fd3e8",width:1},itemStyle:{normal:{color:"#8fd3e8",borderWidth:1},emphasis:{color:"#8fd3e8"}},controlStyle:{normal:{color:"#8fd3e8",borderColor:"#8fd3e8",borderWidth:0.5},emphasis:{color:"#8fd3e8",borderColor:"#8fd3e8",borderWidth:0.5}},checkpointStyle:{color:"#8fd3e8",borderColor:"rgba(181,173,194,0.37)"},label:{normal:{textStyle:{color:"#8fd3e8"}},emphasis:{textStyle:{color:"#8fd3e8"}}}},visualMap:{color:["#516b91","#59c4e6","#a5e7f0"]},dataZoom:{backgroundColor:"rgba(0,0,0,0)",dataBackgroundColor:"rgba(255,255,255,0.3)",fillerColor:"rgba(167,183,204,0.4)",handleColor:"#a7b7cc",handleSize:"100%",textStyle:{color:"#333333"}},markPoint:{label:{normal:{textStyle:{color:"#ffffff"}},emphasis:{textStyle:{color:"#ffffff"}}}}})}})})},"sys/mobile/js/mui/chart/ChartMacaronsMixin":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/dom-style","dojo/window"],function(b,d,a,c){return b("mui.chart.chartMacaronsMixin",null,{colors:["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"],concatDefaultOptions:function(e){this.defaultColor(e);this.defaultXAxis(e)},defaultXAxis:function(e){var g=e.xAxis;if(g instanceof Array){for(var f=0;f<g.length;f++){if(!e.xAxis[f].axisLabel){e.xAxis[f].axisLabel={}}if(!e.xAxis[f].axisLabel.rotate){e.xAxis[f].axisLabel.rotate=30}}}},defaultColor:function(e){if(!e.color){e.color=this.colors}},registerTheme:function(e){var g=this.colors;var f={color:g,title:{textStyle:{fontWeight:"normal",color:"#008acd"}},visualMap:{itemWidth:15,color:["#5ab1ef","#e0ffff"]},toolbox:{iconStyle:{normal:{borderColor:g[0]}}},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#008acd"},crossStyle:{color:"#008acd"},shadowStyle:{color:"rgba(200,200,200,0.2)"}}},dataZoom:{dataBackgroundColor:"#efefff",fillerColor:"rgba(182,162,222,0.2)",handleColor:"#008acd"},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitLine:{lineStyle:{color:["#eee"]}}},valueAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitArea:{show:true,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{normal:{color:"#008acd"},emphasis:{color:"#008acd"}},symbol:"emptyCircle",symbolSize:3},line:{smooth:true,symbol:"emptyCircle",symbolSize:3},candlestick:{itemStyle:{normal:{color:"#d87a80",color0:"#2ec7c9",lineStyle:{color:"#d87a80",color0:"#2ec7c9"}}}},scatter:{symbol:"circle",symbolSize:4},map:{label:{normal:{textStyle:{color:"#d87a80"}}},itemStyle:{normal:{borderColor:"#eee",areaColor:"#ddd"},emphasis:{areaColor:"#fe994e"}}},graph:{color:g},gauge:{axisLine:{lineStyle:{color:[[0.2,"#2ec7c9"],[0.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5}}};e.registerTheme("macarons",f)}})})},"km/imissive/mobile/module/js/main/Functional":function(){define(["dojo/_base/declare","mui/i18n/_i18n!km/imissive/mobile/module/js/mui-kmImissive-indexMain"],function(a,b){return a("",null,{datas:[[{icon:"muis-send",text:b["kmImissive.tree.Send"],href:"/km/imissive/mobile/imissive_send/index.jsp",countUrl:"/km/imissive/km_imissive_send_main/kmImissiveSendMain.do?method=listChildren&q.docStatus=20&rowsize=1",countPath:"page.totalSize"},{icon:"muis-accept",text:b["kmImissive.tree.Receive"],href:"/km/imissive/mobile/imissive_receive/index.jsp",countUrl:"/km/imissive/km_imissive_receive_main/kmImissiveReceiveMain.do?method=listChildren&q.docStatus=20&rowsize=1",countPath:"page.totalSize"},{icon:"muis-report",text:b["kmImissive.tree.Sign"],href:"/km/imissive/mobile/imissive_sign/index.jsp",countUrl:"/km/imissive/km_imissive_sign_main/kmImissiveSignMain.do?method=listChildren&q.docStatus=20&rowsize=1",countPath:"page.totalSize"},{icon:"muis-exchange-stock",text:b["kmImissive.tree.Exchange"],href:"/km/imissive/mobile/exchange_library/index.jsp"}]]})})},"sys/mobile/js/mui/chart/Chart2":function(){!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):b(a.echarts={})}(this,function(YU){function ZV(d){var g={},j={},c=d.match(/Firefox\/([\d.]+)/),h=d.match(/MSIE\s([\d.]+)/)||d.match(/Trident\/.+?rv:(([\d.]+))/),b=d.match(/Edge\/([\d.]+)/),f=/micromessenger/i.test(d);return c&&(j.firefox=!0,j.version=c[1]),h&&(j.ie=!0,j.version=h[1]),b&&(j.edge=!0,j.version=b[1]),f&&(j.weChat=!0),{browser:j,os:g,node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart" in window&&!j.ie&&!j.edge,pointerEventsSupported:"onpointerdown" in window&&(j.edge||j.ie&&j.version>=11)}}function Y6(a,b){h0[a]=b}function ZJ(c){if(null==c||"object"!=typeof c){return c}var g=c,i=ON.call(c);if("[object Array]"===i){g=[];for(var h=0,b=c.length;b>h;h++){g[h]=ZJ(c[h])}}else{if(LN[i]){var f=c.constructor;if(c.constructor.from){g=f.from(c)}else{g=new f(c.length);for(var h=0,b=c.length;b>h;h++){g[h]=ZJ(c[h])}}}else{if(!UG[i]&&!aaw(c)&&!aaB(c)){g={};for(var d in c){c.hasOwnProperty(d)&&(g[d]=ZJ(c[d]))}}}}return g}function Y5(c,g,h){if(!YJ(g)||!YJ(c)){return h?ZJ(g):c}for(var b in g){if(g.hasOwnProperty(b)){var f=c[b],d=g[b];!YJ(d)||!YJ(f)||YH(d)||YH(f)||aaB(d)||aaB(f)||aao(d)||aao(f)||aaw(d)||aaw(f)?!h&&b in c||(c[b]=ZJ(g[b],!0)):Y5(f,d,h)}}return c}function Z4(d,f){for(var g=d[0],c=1,b=d.length;b>c;c++){g=Y5(g,d[c],f)}return g}function YY(a,b){for(var c in b){b.hasOwnProperty(c)&&(a[c]=b[c])}return a}function YW(b,c,d){for(var a in c){c.hasOwnProperty(a)&&(d?null!=c[a]:null==b[a])&&(b[a]=c[a])}return b}function Zk(){return rX||(rX=nY().getContext("2d")),rX}function YR(b,c){if(b){if(b.indexOf){return b.indexOf(c)}for(var d=0,a=b.length;a>d;d++){if(b[d]===c){return d}}}return -1}function ZK(b,c){function f(){}var a=b.prototype;f.prototype=c.prototype,b.prototype=new f;for(var d in a){b.prototype[d]=a[d]}b.prototype.constructor=b,b.superClass=c}function ZZ(a,b,c){a="prototype" in a?a.prototype:a,b="prototype" in b?b.prototype:b,YW(a,b,c)}function ZX(a){return a?"string"==typeof a?!1:"number"==typeof a.length:void 0}function ZR(d,f,h){if(d&&f){if(d.forEach&&d.forEach===CQ){d.forEach(f,h)}else{if(d.length===+d.length){for(var c=0,g=d.length;g>c;c++){f.call(h,d[c],c,d)}}else{for(var b in d){d.hasOwnProperty(b)&&f.call(h,d[b],b,d)}}}}}function ZN(d,f,h){if(d&&f){if(d.map&&d.map===aaf){return d.map(f,h)}for(var c=[],g=0,b=d.length;b>g;g++){c.push(f.call(h,d[g],g,d))}return c}}function Y3(d,f,h,c){if(d&&f){if(d.reduce&&d.reduce===EQ){return d.reduce(f,h,c)}for(var g=0,b=d.length;b>g;g++){h=f.call(c,h,d[g],g,d)}return h}}function Y9(d,f,h){if(d&&f){if(d.filter&&d.filter===DQ){return d.filter(f,h)}for(var c=[],g=0,b=d.length;b>g;g++){f.call(h,d[g],g,d)&&c.push(d[g])}return c}}function YN(a,b){var c=aj.call(arguments,2);return function(){return a.apply(b,c.concat(aj.call(arguments)))}}function YG(a){var b=aj.call(arguments,1);return function(){return a.apply(this,b.concat(aj.call(arguments)))}}function YH(a){return"[object Array]"===ON.call(a)}function Z8(a){return"function"==typeof a}function Z1(a){return"[object String]"===ON.call(a)}function YJ(a){var b=typeof a;return"function"===b||!!a&&"object"==b}function aao(a){return !!UG[ON.call(a)]}function aaB(a){return"object"==typeof a&&"number"==typeof a.nodeType&&"object"==typeof a.ownerDocument}function aaK(a){return a!==a}function aam(){for(var a=0,b=arguments.length;b>a;a++){if(null!=arguments[a]){return arguments[a]}}}function aa3(a,b){return null!=a?a:b}function aaU(a,b,c){return null!=a?a:null!=b?b:c}function aaW(){return Function.call.apply(aj,arguments)}function aaD(a){if("number"==typeof a){return[a,a,a,a]}var b=a.length;return 2===b?[a[0],a[1],a[0],a[1]]:3===b?[a[0],a[1],a[2],a[1]]:a}function aav(a,b){if(!a){throw new Error(b)}}function Zt(a){a[g0]=!0}function aaw(a){return a[g0]}function YF(a){a&&ZR(a,function(b,c){this.set(c,b)},this)}function aaz(a){return new YF(a)}function aaS(){}function aaq(a,b){var c=new xW(2);return null==a&&(a=0),null==b&&(b=0),c[0]=a,c[1]=b,c}function aaZ(a,b){return a[0]=b[0],a[1]=b[1],a}function aaj(a){var b=new xW(2);return b[0]=a[0],b[1]=a[1],b}function aaO(a,b,c){return a[0]=b,a[1]=c,a}function aag(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a}function aaL(b,c,d,a){return b[0]=c[0]+d[0]*a,b[1]=c[1]+d[1]*a,b}function aaQ(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a}function aac(a){return Math.sqrt(aae(a))}function aae(a){return a[0]*a[0]+a[1]*a[1]}function aad(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a}function aak(a,b){var c=aac(b);return 0===c?(a[0]=0,a[1]=0):(a[0]=b[0]/c,a[1]=b[1]/c),a}function Y0(a,b){return Math.sqrt((a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1]))}function ZE(a,b){return(a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1])}function abv(b,c,d,a){return b[0]=c[0]+a*(d[0]-c[0]),b[1]=c[1]+a*(d[1]-c[1]),b}function aaG(b,c,f){var a=c[0],d=c[1];return b[0]=f[0]*a+f[2]*d+f[4],b[1]=f[1]*a+f[3]*d+f[5],b}function aaJ(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a}function aat(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a}function Iz(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function W9(a,b){return{target:a,topTarget:b&&b.topTarget}}function Ot(a,b,c){return{type:a,event:c,target:b.target,topTarget:b.topTarget,cancelBubble:!1,offsetX:c.zrX,offsetY:c.zrY,gestureEvent:c.gestureEvent,pinchX:c.pinchX,pinchY:c.pinchY,pinchScale:c.pinchScale,wheelDelta:c.zrDelta,zrByTouch:c.zrByTouch,which:c.which}}function S9(){}function Nt(b,c,f){if(b[b.rectHover?"rectContain":"contain"](c,f)){for(var a,d=b;d;){if(d.clipPath&&!d.clipPath.contain(c,f)){return !1}d.silent&&(a=!0),d=d.parent}return a?B2:!0}return !1}function abu(){var a=new i0(6);return Kz(a),a}function Kz(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a}function Jz(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a}function Qt(k,h,d){var g=h[0]*d[0]+h[2]*d[1],c=h[1]*d[0]+h[3]*d[1],j=h[0]*d[2]+h[2]*d[3],b=h[1]*d[2]+h[3]*d[3],m=h[0]*d[4]+h[2]*d[5]+h[4],f=h[1]*d[4]+h[3]*d[5]+h[5];return k[0]=g,k[1]=c,k[2]=j,k[3]=b,k[4]=m,k[5]=f,k}function Hz(a,b,c){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4]+c[0],a[5]=b[5]+c[1],a}function T9(q,k,d){var g=k[0],c=k[2],m=k[4],b=k[1],v=k[3],f=k[5],p=Math.sin(d),j=Math.cos(d);return q[0]=g*j+b*p,q[1]=-g*p+b*j,q[2]=c*j+v*p,q[3]=-c*p+j*v,q[4]=j*m+p*f,q[5]=j*f-p*m,q}function Z0(b,c,f){var a=f[0],d=f[1];return b[0]=c[0]*a,b[1]=c[1]*d,b[2]=c[2]*a,b[3]=c[3]*d,b[4]=c[4]*a,b[5]=c[5]*d,b}function X8(k,h){var d=h[0],g=h[2],c=h[4],j=h[1],b=h[3],m=h[5],f=d*b-j*g;return f?(f=1/f,k[0]=b*f,k[1]=-j*f,k[2]=-g*f,k[3]=d*f,k[4]=(g*m-b*c)*f,k[5]=(j*c-d*m)*f,k):null}function V9(a){return a>e0||-e0>a}function U9(a){this._target=a.target,this._life=a.life||1000,this._delay=a.delay||0,this._initialized=!1,this.loop=null==a.loop?!1:a.loop,this.gap=a.gap||0,this.easing=a.easing||"Linear",this.onframe=a.onframe,this.ondestroy=a.ondestroy,this.onrestart=a.onrestart,this._pausedTime=0,this._paused=!1}function Mt(a){return a=Math.round(a),0>a?0:a>255?255:a}function Pt(a){return a=Math.round(a),0>a?0:a>360?360:a}function Gz(a){return 0>a?0:a>1?1:a}function DB(a){return Mt(a.length&&"%"===a.charAt(a.length-1)?parseFloat(a)/100*255:parseInt(a,10))}function EB(a){return Gz(a.length&&"%"===a.charAt(a.length-1)?parseFloat(a)/100:parseFloat(a))}function aV(a,b,c){return 0>c?c+=1:c>1&&(c-=1),1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}function aaV(a,b,c){return a+(b-a)*c}function Fz(b,c,f,a,d){return b[0]=c,b[1]=f,b[2]=a,b[3]=d,b}function iO(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a}function oK(a,b){pY&&iO(pY,b),pY=A3.put(a,pY||b.slice())}function sJ(m,h){if(m){h=h||[];var d=A3.get(m);if(d){return iO(h,d)}m+="";var g=m.replace(/ /g,"").toLowerCase();if(g in RK){return iO(h,RK[g]),oK(m,h),h}if("#"!==g.charAt(0)){var c=g.indexOf("("),j=g.indexOf(")");if(-1!==c&&j+1===g.length){var b=g.substr(0,c),p=g.substr(c+1,j-(c+1)).split(","),f=1;switch(b){case"rgba":if(4!==p.length){return void Fz(h,0,0,0,1)}f=EB(p.pop());case"rgb":return 3!==p.length?void Fz(h,0,0,0,1):(Fz(h,DB(p[0]),DB(p[1]),DB(p[2]),f),oK(m,h),h);case"hsla":return 4!==p.length?void Fz(h,0,0,0,1):(p[3]=EB(p[3]),hO(p,h),oK(m,h),h);case"hsl":return 3!==p.length?void Fz(h,0,0,0,1):(hO(p,h),oK(m,h),h);default:return}}Fz(h,0,0,0,1)}else{if(4===g.length){var k=parseInt(g.substr(1),16);return k>=0&&4095>=k?(Fz(h,(3840&k)>>4|(3840&k)>>8,240&k|(240&k)>>4,15&k|(15&k)<<4,1),oK(m,h),h):void Fz(h,0,0,0,1)}if(7===g.length){var k=parseInt(g.substr(1),16);return k>=0&&16777215>=k?(Fz(h,(16711680&k)>>16,(65280&k)>>8,255&k,1),oK(m,h),h):void Fz(h,0,0,0,1)}}}}function hO(d,g){var j=(parseFloat(d[0])%360+360)%360/360,c=EB(d[1]),h=EB(d[2]),b=0.5>=h?h*(c+1):h+c-h*c,f=2*h-b;return g=g||[],Fz(g,Mt(255*aV(f,b,j+1/3)),Mt(255*aV(f,b,j)),Mt(255*aV(f,b,j-1/3)),1),4===d.length&&(g[3]=d[3]),g}function AF(A){if(A){var v,j,m=A[0]/255,g=A[1]/255,y=A[2]/255,b=Math.min(m,g,y),B=Math.max(m,g,y),k=B-b,z=(B+b)/2;if(0===k){v=0,j=0}else{j=0.5>z?k/(B+b):k/(2-B-b);var p=((B-m)/6+k/2)/k,x=((B-g)/6+k/2)/k,w=((B-y)/6+k/2)/k;m===B?v=w-x:g===B?v=1/3+p-w:y===B&&(v=2/3+x-p),0>v&&(v+=1),v>1&&(v-=1)}var q=[360*v,j,z];return null!=A[3]&&q.push(A[3]),q}}function xH(b,c){var d=sJ(b);if(d){for(var a=0;3>a;a++){d[a]=0>c?d[a]*(1-c)|0:(255-d[a])*c+d[a]|0}return mK(d,4===d.length?"rgba":"rgb")}}function yH(a){var b=sJ(a);return b?((1<<24)+(b[0]<<16)+(b[1]<<8)+ +b[2]).toString(16).slice(1):void 0}function pK(k,h,d){if(h&&h.length&&k>=0&&1>=k){d=d||[];var g=k*(h.length-1),c=Math.floor(g),j=Math.ceil(g),b=h[c],m=h[j],f=g-c;return d[0]=Mt(aaV(b[0],m[0],f)),d[1]=Mt(aaV(b[1],m[1],f)),d[2]=Mt(aaV(b[2],m[2],f)),d[3]=Gz(aaV(b[3],m[3],f)),d}}function lK(b,c,d,a){return b=sJ(b),b?(b=AF(b),null!=c&&(b[0]=Pt(c)),null!=d&&(b[1]=EB(d)),null!=a&&(b[2]=EB(a)),mK(hO(b),"rgba")):void 0}function Rq(a,b){return a=sJ(a),a&&null!=b?(a[3]=Gz(b),mK(a,"rgba")):void 0}function mK(a,b){if(a&&a.length){var c=a[0]+","+a[1]+","+a[2];return("rgba"===b||"hsva"===b||"hsla"===b)&&(c+=","+a[3]),b+"("+c+")"}}function CG(a,b){return a[b]}function nK(a,b,c){a[b]=c}function wH(a,b,c){return(b-a)*c+a}function jN(a,b,c){return c>0.5?b:a}function zG(k,h,d,g,c){var j=k.length;if(1==c){for(var b=0;j>b;b++){g[b]=wH(k[b],h[b],d)}}else{for(var m=j&&k[0].length,b=0;j>b;b++){for(var f=0;m>f;f++){g[b][f]=wH(k[b][f],h[b][f],d)}}}}function fO(k,h,d){var g=k.length,c=h.length;if(g!==c){var j=g>c;if(j){k.length=c}else{for(var b=g;c>b;b++){k.push(1===d?h[b]:qX.call(h[b]))}}}for(var m=k[0]&&k[0].length,b=0;b<k.length;b++){if(1===d){isNaN(k[b])&&(k[b]=h[b])}else{for(var f=0;m>f;f++){isNaN(k[b][f])&&(k[b][f]=h[b][f])}}}}function uJ(d,g,j){if(d===g){return !0}var c=d.length;if(c!==g.length){return !1}if(1===j){for(var h=0;c>h;h++){if(d[h]!==g[h]){return !1}}}else{for(var b=d[0].length,h=0;c>h;h++){for(var f=0;b>f;f++){if(d[h][f]!==g[h][f]){return !1}}}}return !0}function eO(y,p,g,k,f,w,b,z,j){var x=y.length;if(1==j){for(var m=0;x>m;m++){z[m]=tJ(y[m],p[m],g[m],k[m],f,w,b)}}else{for(var v=y[0].length,m=0;x>m;m++){for(var q=0;v>q;q++){z[m][q]=tJ(y[m][q],p[m][q],g[m][q],k[m][q],f,w,b)}}}}function tJ(k,h,d,g,c,j,b){var m=0.5*(d-k),f=0.5*(g-h);return(2*(h-d)+m+f)*b+(-3*(h-d)-2*m-f)*j+m*c+h}function vJ(b){if(ZX(b)){var c=b.length;if(ZX(b[0])){for(var d=[],a=0;c>a;a++){d.push(qX.call(b[a]))}return d}return qX.call(b)}return b}function bU(a){return a[0]=Math.floor(a[0]),a[1]=Math.floor(a[1]),a[2]=Math.floor(a[2]),"rgba("+a.join(",")+")"}function dO(a){var b=a[a.length-1].value;return ZX(b&&b[0])?2:1}function cO(W,an,ae,ai,ad,ar){var aa=W._getter,Y=W._setter,ag="spline"===an,V=ai.length;if(V){var ak,ao=ai[0].value,am=ZX(ao),al=!1,ac=!1,af=am?dO(ai):0;ai.sort(function(a,b){return a.time-b.time}),ak=ai[V-1].time;for(var U=[],J=[],Q=ai[0].value,au=!0,ap=0;V>ap;ap++){U.push(ai[ap].time/ak);var R=ai[ap].value;if(am&&uJ(R,Q,af)||!am&&R===Q||(au=!1),Q=R,"string"==typeof R){var j=sJ(R);j?(R=j,al=!0):ac=!0}J.push(R)}if(ar||!au){for(var F=J[V-1],ap=0;V-1>ap;ap++){am?fO(J[ap],F,af):!isNaN(J[ap])||isNaN(F)||ac||al||(J[ap]=F)}am&&fO(aa(W._target,ad),F,af);var K,d,ab,X,Z,G,q=0,ah=0;if(al){var B=[0,0,0,0]}var H=function(f,g){var h;if(0>g){h=0}else{if(ah>g){for(K=Math.min(q+1,V-1),h=K;h>=0&&!(U[h]<=g);h--){}h=Math.min(h,V-2)}else{for(h=q;V>h&&!(U[h]>g);h++){}h=Math.min(h-1,V-2)}}q=h,ah=g;var c=U[h+1]-U[h];if(0!==c){if(d=(g-U[h])/c,ag){if(X=J[h],ab=J[0===h?h:h-1],Z=J[h>V-2?V-1:h+1],G=J[h>V-3?V-1:h+2],am){eO(ab,X,Z,G,d,d*d,d*d*d,aa(f,ad),af)}else{var b;if(al){b=eO(ab,X,Z,G,d,d*d,d*d*d,B,1),b=bU(B)}else{if(ac){return jN(X,Z,d)}b=tJ(ab,X,Z,G,d,d*d,d*d*d)}Y(f,ad,b)}}else{if(am){zG(J[h],J[h+1],d,aa(f,ad),af)}else{var b;if(al){zG(J[h],J[h+1],d,B,1),b=bU(B)}else{if(ac){return jN(J[h],J[h+1],d)}b=wH(J[h],J[h+1],d)}Y(f,ad,b)}}}},E=new U9({target:W._target,life:ak,loop:W._loop,delay:W._delay,onframe:H,ondestroy:ae});return an&&"spline"!==an&&(E.easing=an),E}}}function gO(b,c,d,a){0>d&&(b+=d,d=-d),0>a&&(c+=a,a=-a),this.x=b,this.y=c,this.width=d,this.height=a}function Lt(a){for(var b=0;a>=YO;){b|=1&a,a>>=1}return a+b}function Sk(b,c,f,a){var d=c+1;if(d===f){return 1}if(a(b[d++],b[c])<0){for(;f>d&&a(b[d],b[d-1])<0;){d++}BH(b,c,d)}else{for(;f>d&&a(b[d],b[d-1])>=0;){d++}}return d-c}function BH(b,c,d){for(d--;d>c;){var a=b[c];b[c++]=b[d],b[d--]=a}}function qJ(m,h,d,g,c){for(g===h&&g++;d>g;g++){for(var j,b=m[g],p=h,f=g;f>p;){j=p+f>>>1,c(b,m[j])<0?f=j:p=j+1}var k=g-p;switch(k){case 3:m[p+3]=m[p+2];case 2:m[p+2]=m[p+1];case 1:m[p+1]=m[p];break;default:for(;k>0;){m[p+k]=m[p+k-1],k--}}m[p]=b}}function rJ(q,k,d,g,c,m){var b=0,v=0,f=1;if(m(q,k[d+c])>0){for(v=g-c;v>f&&m(q,k[d+c+f])>0;){b=f,f=(f<<1)+1,0>=f&&(f=v)}f>v&&(f=v),b+=c,f+=c}else{for(v=c+1;v>f&&m(q,k[d+c-f])<=0;){b=f,f=(f<<1)+1,0>=f&&(f=v)}f>v&&(f=v);var p=b;b=c-f,f=c-p}for(b++;f>b;){var j=b+(f-b>>>1);m(q,k[d+j])>0?b=j+1:f=j}return f}function kK(q,k,d,g,c,m){var b=0,v=0,f=1;if(m(q,k[d+c])<0){for(v=c+1;v>f&&m(q,k[d+c-f])<0;){b=f,f=(f<<1)+1,0>=f&&(f=v)}f>v&&(f=v);var p=b;b=c-f,f=c-p}else{for(v=g-c;v>f&&m(q,k[d+c+f])>=0;){b=f,f=(f<<1)+1,0>=f&&(f=v)}f>v&&(f=v),b+=c,f+=c}for(b++;f>b;){var j=b+(f-b>>>1);m(q,k[d+j])<0?f=j:b=j+1}return f}function H3(y,p){function g(a,c){j[v]=a,x[v]=c,v+=1}function k(){for(;v>1;){var a=v-2;if(a>=1&&x[a-1]<=x[a]+x[a+1]||a>=2&&x[a-2]<=x[a]+x[a-1]){x[a-1]<x[a+1]&&a--}else{if(x[a]>x[a+1]){break}}w(a)}}function f(){for(;v>1;){var a=v-2;a>0&&x[a-1]<x[a+1]&&a--,w(a)}}function w(t){var e=j[t],s=x[t],c=j[t+1],l=x[t+1];x[t]=s+l,t===v-3&&(j[t+1]=j[t+2],x[t+1]=x[t+2]),v--;var r=kK(y[c],y,e,s,0,p);e+=r,s-=r,0!==s&&(l=rJ(y[e+s-1],y,c,l,l-1,p),0!==l&&(l>=s?b(e,s,c,l):z(e,s,c,l)))}function b(t,B,h,F){var d=0;for(d=0;B>d;d++){q[d]=y[t+d]}var H=0,A=h,G=t;if(y[G++]=y[A++],0!==--F){if(1===B){for(d=0;F>d;d++){y[G+d]=y[A+d]}return void (y[G+F]=q[H])}for(var E,D,C,e=m;;){E=0,D=0,C=!1;do{if(p(y[A],q[H])<0){if(y[G++]=y[A++],D++,E=0,0===--F){C=!0;break}}else{if(y[G++]=q[H++],E++,D=0,1===--B){C=!0;break}}}while(e>(E|D));if(C){break}do{if(E=kK(y[A],q,H,B,0,p),0!==E){for(d=0;E>d;d++){y[G+d]=q[H+d]}if(G+=E,H+=E,B-=E,1>=B){C=!0;break}}if(y[G++]=y[A++],0===--F){C=!0;break}if(D=rJ(q[H],y,A,F,0,p),0!==D){for(d=0;D>d;d++){y[G+d]=y[A+d]}if(G+=D,A+=D,F-=D,0===F){C=!0;break}}if(y[G++]=q[H++],1===--B){C=!0;break}e--}while(E>=XH||D>=XH);if(C){break}0>e&&(e=0),e+=2}if(m=e,1>m&&(m=1),1===B){for(d=0;F>d;d++){y[G+d]=y[A+d]}y[G+F]=q[H]}else{if(0===B){throw new Error}for(d=0;B>d;d++){y[G+d]=q[H+d]}}}else{for(d=0;B>d;d++){y[G+d]=q[H+d]}}}function z(t,C,h,G){var d=0;for(d=0;G>d;d++){q[d]=y[h+d]}var J=t+C-1,B=G-1,I=h+G-1,F=0,E=0;if(y[I--]=y[J--],0!==--C){if(1===G){for(I-=C,J-=C,E=I+1,F=J+1,d=C-1;d>=0;d--){y[E+d]=y[F+d]}return void (y[I]=q[B])}for(var D=m;;){var e=0,A=0,H=!1;do{if(p(q[B],y[J])<0){if(y[I--]=y[J--],e++,A=0,0===--C){H=!0;break}}else{if(y[I--]=q[B--],A++,e=0,1===--G){H=!0;break}}}while(D>(e|A));if(H){break}do{if(e=C-kK(q[B],y,t,C,C-1,p),0!==e){for(I-=e,J-=e,C-=e,E=I+1,F=J+1,d=e-1;d>=0;d--){y[E+d]=y[F+d]}if(0===C){H=!0;break}}if(y[I--]=q[B--],1===--G){H=!0;break}if(A=G-rJ(y[J],q,0,G,G-1,p),0!==A){for(I-=A,B-=A,G-=A,E=I+1,F=B+1,d=0;A>d;d++){y[E+d]=q[F+d]}if(1>=G){H=!0;break}}if(y[I--]=y[J--],0===--C){H=!0;break}D--}while(e>=XH||A>=XH);if(H){break}0>D&&(D=0),D+=2}if(m=D,1>m&&(m=1),1===G){for(I-=C,J-=C,E=I+1,F=J+1,d=C-1;d>=0;d--){y[E+d]=y[F+d]}y[I]=q[B]}else{if(0===G){throw new Error}for(F=I-(G-1),d=0;G>d;d++){y[F+d]=q[d]}}}else{for(F=I-(G-1),d=0;G>d;d++){y[F+d]=q[d]}}}var j,x,m=XH,v=0,q=[];j=[],x=[],this.mergeRuns=k,this.forceMergeRuns=f,this.pushRun=g}function WY(k,h,d,g){d||(d=0),g||(g=k.length);var c=g-d;if(!(2>c)){var j=0;if(YO>c){return j=Sk(k,d,g,h),void qJ(k,d,g,d+j,h)}var b=new H3(k,h),m=Lt(c);do{if(j=Sk(k,d,g,h),m>j){var f=c;f>m&&(f=m),qJ(k,d,d+f,d+j,h),j=f}b.pushRun(d,j),b.mergeRuns(),c-=j,d+=j}while(0!==c);b.forceMergeRuns()}}function N2(a,b){return a.zlevel===b.zlevel?a.z===b.z?a.z2-b.z2:a.z-b.z:a.zlevel-b.zlevel}function M2(d,h,k){var c=null==h.x?0:h.x,j=null==h.x2?1:h.x2,b=null==h.y?0:h.y,g=null==h.y2?0:h.y2;h.global||(c=c*k.width+k.x,j=j*k.width+k.x,b=b*k.height+k.y,g=g*k.height+k.y);var f=d.createLinearGradient(c,b,j,g);return f}function abj(m,h,d){var g=d.width,c=d.height,j=Math.min(g,c),b=null==h.x?0.5:h.x,p=null==h.y?0.5:h.y,f=null==h.r?0.5:h.r;h.global||(b=b*g+d.x,p=p*c+d.y,f*=j);var k=m.createRadialGradient(b,p,0,b,p,f);return k}function J3(){return !1}function I3(d,g,j){var c=nY(),h=g.getWidth(),b=g.getHeight(),f=c.style;return f.position="absolute",f.left=0,f.top=0,f.width=h+"px",f.height=b+"px",c.width=h*j,c.height=b*j,c.setAttribute("data-zr-dom-id",d),c}function P2(a){if("string"==typeof a){var b=ER.get(a);return b&&b.image}return a}function G3(d,g,j,c,h){if(d){if("string"==typeof d){if(g&&g.__zrImageSrc===d||!j){return g}var b=ER.get(d),f={hostEl:j,cb:c,cbPayload:h};return b?(g=b.image,!Zq(g)&&b.pending.push(f)):(!g&&(g=new Image),g.onload=TY,ER.put(d,g.__cachedImgObj={image:g,pending:[f]}),g.src=g.__zrImageSrc=d),g}return d}return g}function TY(){var b=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var c=0;c<b.pending.length;c++){var d=b.pending[c],a=d.cb;a&&a(this,d.cbPayload),d.hostEl.dirty()}b.pending.length=0}function Zq(a){return a&&a.width&&a.height}function XX(d,g){g=g||zW;var j=d+":"+g;if(h1[j]){return h1[j]}for(var c=(d+"").split("\n"),h=0,b=0,f=c.length;f>b;b++){h=Math.max(oj(c[b],g).width,h)}return nZ>rY&&(nZ=0,h1={}),nZ++,h1[j]=h,h}function VY(d,g,j,c,h,b,f){return b?L2(d,g,j,c,h,b,f):UY(d,g,j,c,h,f)}function UY(w,m,f,j,d,q){var b=r9(w,m,d,q),x=XX(w,m);d&&(x+=d[1]+d[3]);var g=b.outerHeight,v=O2(0,x,f),k=F3(0,g,j),p=new gO(v,k,x,g);return p.lineHeight=b.lineHeight,p}function L2(w,m,f,j,d,q,b){var x=ht(w,{rich:q,truncate:b,font:m,textAlign:f,textPadding:d}),g=x.outerWidth,v=x.outerHeight,k=O2(0,g,f),p=F3(0,v,j);return new gO(k,p,g,v)}function O2(a,b,c){return"right"===c?a-=b:"center"===c&&(a-=b/2),a}function F3(a,b,c){return"middle"===c?a-=b/2:"bottom"===c&&(a-=b),a}function C4(m,h,d){var g=h.x,c=h.y,j=h.height,b=h.width,p=j/2,f="left",k="top";switch(m){case"left":g-=d,c+=p,f="right",k="middle";break;case"right":g+=d+b,c+=p,k="middle";break;case"top":g+=b/2,c-=d,f="center",k="bottom";break;case"bottom":g+=b/2,c+=j+d,f="center";break;case"inside":g+=b/2,c+=p,f="center",k="middle";break;case"insideLeft":g+=d,c+=p,k="middle";break;case"insideRight":g+=b-d,c+=p,f="right",k="middle";break;case"insideTop":g+=b/2,c+=d,f="center";break;case"insideBottom":g+=b/2,c+=j-d,f="center",k="bottom";break;case"insideTopLeft":g+=d,c+=d;break;case"insideTopRight":g+=b-d,c+=d,f="right";break;case"insideBottomLeft":g+=d,c+=j-d,k="bottom";break;case"insideBottomRight":g+=b-d,c+=j-d,f="right",k="bottom"}return{x:g,y:c,textAlign:f,textVerticalAlign:k}}function D4(d,h,k,c,j){if(!h){return""}var b=(d+"").split("\n");j=aJ(h,k,c,j);for(var g=0,f=b.length;f>g;g++){b[g]=aaC(b[g],j)}return b.join("\n")}function aJ(k,g,c,f){f=YY({},f),f.font=g;var c=aa3(c,"...");f.maxIterations=aa3(f.maxIterations,2);var b=f.minChar=aa3(f.minChar,0);f.cnCharWidth=XX("国",g);var h=f.ascCharWidth=XX("a",g);f.placeholder=aa3(f.placeholder,"");for(var m=k=Math.max(0,k-1),d=0;b>d&&m>=h;d++){m-=h}var j=XX(c);return j>m&&(c="",j=0),m=k-j,f.ellipsis=c,f.ellipsisWidth=j,f.contentWidth=m,f.containerWidth=k,f}function aaC(d,h){var k=h.containerWidth,c=h.font,j=h.contentWidth;if(!k){return""}var b=XX(d,c);if(k>=b){return d}for(var g=0;;g++){if(j>=b||g>=h.maxIterations){d+=h.ellipsis;break}var f=0===g?E4(d,j,h.ascCharWidth,h.cnCharWidth):b>0?Math.floor(d.length*j/b):0;d=d.substr(0,f),b=XX(d,c)}return""===d&&(d=h.placeholder),d}function E4(d,h,k,c){for(var j=0,b=0,g=d.length;g>b&&h>j;b++){var f=d.charCodeAt(b);j+=f>=0&&127>=f?k:c}return b}function it(a){return XX("国",a)}function oj(a,b){return wX.measureText(a,b)}function r9(y,p,g,k){null!=y&&(y+="");var f=it(p),w=y?y.split("\n"):[],b=w.length*f,z=b;if(g&&(z+=g[0]+g[2]),y&&k){var j=k.outerHeight,x=k.outerWidth;if(null!=j&&z>j){y="",w=[]}else{if(null!=x){for(var m=aJ(x-(g?g[1]+g[3]:0),p,k.ellipsis,{minChar:k.minChar,placeholder:k.placeholder}),v=0,q=w.length;q>v;v++){w[v]=aaC(w[v],m)}}}}return{lines:w,height:b,outerHeight:z,lineHeight:f}}function ht(K,ad){var V={lines:[],width:0,height:0};if(null!=K&&(K+=""),!K){return V}for(var Z,U=g1.lastIndex=0;null!=(Z=g1.exec(K));){var ah=Z.index;ah>U&&z7(V,K.substring(U,ah)),z7(V,Z[2],Z[1]),U=g1.lastIndex}U<K.length&&z7(V,K.substring(U,K.length));var Q=V.lines,N=0,X=0,J=[],aa=ad.textPadding,af=ad.truncate,ae=af&&af.outerWidth,ac=af&&af.outerHeight;aa&&(null!=ae&&(ae-=aa[1]+aa[3]),null!=ac&&(ac-=aa[0]+aa[2]));for(var ab=0;ab<Q.length;ab++){for(var R=Q[ab],W=0,H=0,D=0;D<R.tokens.length;D++){var F=R.tokens[D],ai=F.styleName&&ad.rich[F.styleName]||{},ag=F.textPadding=ai.textPadding,G=F.font=ai.font||ad.font,q=F.textHeight=aa3(ai.textHeight,it(G));if(ag&&(q+=ag[0]+ag[2]),F.height=q,F.lineHeight=aaU(ai.textLineHeight,ad.textLineHeight,q),F.textAlign=ai&&ai.textAlign||ad.textAlign,F.textVerticalAlign=ai&&ai.textVerticalAlign||"middle",null!=ac&&N+F.lineHeight>ac){return{lines:[],width:0,height:0}}F.textWidth=XX(F.text,G);var A=ai.textWidth,E=null==A||"auto"===A;if("string"==typeof A&&"%"===A.charAt(A.length-1)){F.percentWidth=A,J.push(F),A=0}else{if(E){A=F.textWidth;var j=ai.textBackgroundColor,O=j&&j.image;O&&(O=P2(O),Zq(O)&&(A=Math.max(A,O.width*q/O.height)))}var B=ag?ag[1]+ag[3]:0;A+=B;var z=null!=ae?ae-H:null;null!=z&&A>z&&(!E||B>z?(F.text="",F.textWidth=A=0):(F.text=D4(F.text,z-B,G,af.ellipsis,{minChar:af.minChar}),F.textWidth=XX(F.text,G),A=F.textWidth+B))}H+=F.width=A,ai&&(W=Math.max(W,F.lineHeight))}R.width=H,R.lineHeight=W,N+=W,X=Math.max(X,H)}V.outerWidth=V.width=aa3(ad.textWidth,X),V.outerHeight=V.height=aa3(ad.textHeight,N),aa&&(V.outerWidth+=aa[1]+aa[3],V.outerHeight+=aa[0]+aa[2]);for(var ab=0;ab<J.length;ab++){var F=J[ab],Y=F.percentWidth;F.width=parseInt(Y,10)/100*X}return V}function z7(q,k,d){for(var g=""===k,c=k.split("\n"),m=q.lines,b=0;b<c.length;b++){var v=c[b],f={styleName:d,text:v,isLineHolder:!v&&!g};if(b){m.push({tokens:[f]})}else{var p=(m[m.length-1]||(m[0]={tokens:[]})).tokens,j=p.length;1===j&&p[0].isLineHolder?p[0]=f:(v||!j||g)&&p.push(f)}}}function w8(a){return(a.fontSize||a.fontFamily)&&[a.fontStyle,a.fontWeight,(a.fontSize||12)+"px",a.fontFamily||"sans-serif"].join(" ")||a.textFont||a.font}function x8(w,m){var f,j,d,q,b=m.x,x=m.y,g=m.width,v=m.height,k=m.r;0>g&&(b+=g,g=-g),0>v&&(x+=v,v=-v),"number"==typeof k?f=j=d=q=k:k instanceof Array?1===k.length?f=j=d=q=k[0]:2===k.length?(f=d=k[0],j=q=k[1]):3===k.length?(f=k[0],j=q=k[1],d=k[2]):(f=k[0],j=k[1],d=k[2],q=k[3]):f=j=d=q=0;var p;f+j>g&&(p=f+j,f*=g/p,j*=g/p),d+q>g&&(p=d+q,d*=g/p,q*=g/p),j+d>v&&(p=j+d,j*=v/p,d*=v/p),f+q>v&&(p=f+q,f*=v/p,q*=v/p),w.moveTo(b+f,x),w.lineTo(b+g-j,x),0!==j&&w.quadraticCurveTo(b+g,x,b+g,x+j),w.lineTo(b+g,x+v-d),0!==d&&w.quadraticCurveTo(b+g,x+v,b+g-d,x+v),w.lineTo(b+q,x+v),0!==q&&w.quadraticCurveTo(b,x+v,b,x+v-q),w.lineTo(b,x+f),0!==f&&w.quadraticCurveTo(b,x,b+f,x)}function pj(a){return lj(a),ZR(a.rich,lj),a}function lj(b){if(b){b.font=w8(b);var c=b.textAlign;"middle"===c&&(c="center"),b.textAlign=null==c||xX[c]?c:"left";var d=b.textVerticalAlign||b.textBaseline;"center"===d&&(d="middle"),b.textVerticalAlign=null==d||oZ[d]?d:"top";var a=b.textPadding;a&&(b.textPadding=aaD(b.textPadding))}}function Q2(b,c,f,a,d){a.rich?Ck(b,c,f,a,d):mj(b,c,f,a,d)}function mj(F,V,L,P,K){var Z=s9(V,"font",P.font||zW),H=P.textPadding,G=F.__textCotentBlock;(!G||F.__dirty)&&(G=F.__textCotentBlock=r9(L,Z,H,P.truncate));var O=G.outerHeight,E=G.lines,Q=G.lineHeight,X=et(O,P,K),W=X.baseX,U=X.baseY,R=X.textAlign,J=X.textVerticalAlign;v9(V,P,K,W,U);var N=F3(U,O,J),D=W,z=N,B=y8(P);if(B||H){var aa=XX(L,Z),Y=aa;H&&(Y+=H[1]+H[3]);var C=O2(W,Y,R);B&&ft(F,V,P,C,N,Y,O),H&&(D=ct(W,R,H),z+=H[0])}s9(V,"textAlign",R||"left"),s9(V,"textBaseline","middle"),s9(V,"shadowBlur",P.textShadowBlur||0),s9(V,"shadowColor",P.textShadowColor||"transparent"),s9(V,"shadowOffsetX",P.textShadowOffsetX||0),s9(V,"shadowOffsetY",P.textShadowOffsetY||0),z+=Q/2;var k=P.textStrokeWidth,q=u9(P.textStroke,k),A=bH(P.textFill);q&&(s9(V,"lineWidth",k),s9(V,"strokeStyle",q)),A&&s9(V,"fillStyle",A);for(var j=0;j<E.length;j++){q&&V.strokeText(E[j],D,z),A&&V.fillText(E[j],D,z),z+=Q}}function Ck(d,f,h,c,g){var b=d.__textCotentBlock;(!b||d.__dirty)&&(b=d.__textCotentBlock=ht(h,c)),nj(d,f,b,c,g)}function nj(J,ab,U,X,R){var af=U.width,O=U.outerWidth,L=U.outerHeight,W=X.textPadding,H=et(L,X,R),Y=H.baseX,ad=H.baseY,ac=H.textAlign,aa=H.textVerticalAlign;v9(ab,X,R,Y,ad);var Z=O2(Y,O,ac),Q=F3(ad,L,aa),V=Z,G=Q;W&&(V+=W[3],G+=W[0]);var z=V+af;y8(X)&&ft(J,ab,X,Z,Q,O,L);for(var E=0;E<U.lines.length;E++){for(var ag,ae=U.lines[E],F=ae.tokens,k=F.length,q=ae.lineHeight,B=ae.width,j=0,P=V,K=z,N=k-1;k>j&&(ag=F[j],!ag.textAlign||"left"===ag.textAlign);){jq(J,ab,ag,X,q,G,P,"left"),B-=ag.width,P+=ag.width,j++}for(;N>=0&&(ag=F[N],"right"===ag.textAlign);){jq(J,ab,ag,X,q,G,K,"right"),B-=ag.width,K-=ag.width,N--}for(P+=(af-(P-V)-(z-K)-B)/2;N>=j;){ag=F[j],jq(J,ab,ag,X,q,G,P+ag.width/2,"center"),P+=ag.width,j++}G+=q}}function v9(d,f,h,c,g){if(h&&f.textRotation){var b=f.textOrigin;"center"===b?(c=h.width/2+h.x,g=h.height/2+h.y):b&&(c=b[0]+h.x,g=b[1]+h.y),d.translate(c,g),d.rotate(-f.textRotation),d.translate(-c,-g)}}function jq(C,x,k,p,j,A,b,D){var m=p.rich[k.styleName]||{},B=k.textVerticalAlign,q=A+j/2;"top"===B?q=A+k.height/2:"bottom"===B&&(q=A+j-k.height/2),!k.isLineHolder&&y8(m)&&ft(C,x,m,"right"===D?b-k.width:"center"===D?b-k.width/2:b,q-k.height/2,k.width,k.height);var z=k.textPadding;z&&(b=ct(b,D,z),q-=k.height/2-z[2]-k.textHeight/2),s9(x,"shadowBlur",aaU(m.textShadowBlur,p.textShadowBlur,0)),s9(x,"shadowColor",m.textShadowColor||p.textShadowColor||"transparent"),s9(x,"shadowOffsetX",aaU(m.textShadowOffsetX,p.textShadowOffsetX,0)),s9(x,"shadowOffsetY",aaU(m.textShadowOffsetY,p.textShadowOffsetY,0)),s9(x,"textAlign",D),s9(x,"textBaseline","middle"),s9(x,"font",k.font||zW);var y=u9(m.textStroke||p.textStroke,v),w=bH(m.textFill||p.textFill),v=aa3(m.textStrokeWidth,p.textStrokeWidth);y&&(s9(x,"lineWidth",v),s9(x,"strokeStyle",y),x.strokeText(k.text,b,q)),w&&(s9(x,"fillStyle",w),x.fillText(k.text,b,q))}function y8(a){return a.textBackgroundColor||a.textBorderWidth&&a.textBorderColor}function ft(y,p,g,k,f,w,b){var z=g.textBackgroundColor,j=g.textBorderWidth,x=g.textBorderColor,m=Z1(z);if(s9(p,"shadowBlur",g.textBoxShadowBlur||0),s9(p,"shadowColor",g.textBoxShadowColor||"transparent"),s9(p,"shadowOffsetX",g.textBoxShadowOffsetX||0),s9(p,"shadowOffsetY",g.textBoxShadowOffsetY||0),m||j&&x){p.beginPath();var v=g.textBorderRadius;v?x8(p,{x:k,y:f,width:w,height:b,r:v}):p.rect(k,f,w,b),p.closePath()}if(m){s9(p,"fillStyle",z),p.fill()}else{if(YJ(z)){var q=z.image;q=G3(q,null,y,t9,z),q&&Zq(q)&&p.drawImage(q,k,f,w,b)}}j&&x&&(s9(p,"lineWidth",j),s9(p,"strokeStyle",x),p.stroke())}function t9(a,b){b.image=a}function et(m,h,d){var g=h.x||0,c=h.y||0,j=h.textAlign,b=h.textVerticalAlign;if(d){var p=h.textPosition;if(p instanceof Array){g=d.x+dt(p[0],d.width),c=d.y+dt(p[1],d.height)}else{var f=C4(p,d,h.textDistance);g=f.x,c=f.y,j=j||f.textAlign,b=b||f.textVerticalAlign}var k=h.textOffset;k&&(g+=k[0],c+=k[1])}return{baseX:g,baseY:c,textAlign:j,textVerticalAlign:b}}function s9(a,b,c){return a[b]=c,a[b]}function u9(a,b){return null==a||0>=b||"transparent"===a||"none"===a?null:a.image||a.colorStops?"#000":a}function bH(a){return null==a||"none"===a?null:a.image||a.colorStops?"#000":a}function dt(a,b){return"string"==typeof a?a.lastIndexOf("%")>=0?parseFloat(a)/100*b:parseFloat(a):a}function ct(a,b,c){return"right"===b?a-c[1]:"center"===b?a+c[3]/2-c[1]/2:a+c[3]}function gt(a,b){return null!=a&&(a||b.textBackgroundColor||b.textBorderWidth&&b.textBorderColor||b.textPadding)}function K3(a){a=a||{},JQ.call(this,a);for(var b in a){a.hasOwnProperty(b)&&"style"!==b&&(this[b]=a[b])}this.style=new LO(a.style,this),this._rect=null,this.__clipPaths=[]}function R1(a){K3.call(this,a)}function Bq(a){return parseInt(a,10)}function qj(a){return a?a.__builtin__?!0:"function"!=typeof a.resize||"function"!=typeof a.refresh?!1:!0:!1}function q9(a){a.__unusedCount++}function kk(a){1==a.__unusedCount&&a.clear()}function H9(a,b,c){return B3.copy(a.getBoundingRect()),a.transform&&B3.applyTransform(a.transform),mZ.width=b,mZ.height=c,!B3.intersect(mZ)}function W4(a,b){if(a==b){return !1}if(!a||!b||a.length!==b.length){return !0}for(var c=0;c<a.length;c++){if(a[c]!==b[c]){return !0}}}function N8(b,c){for(var d=0;d<b.length;d++){var a=b[d];a.setTransform(c),c.beginPath(),a.buildPath(c,a.shape),c.clip(),a.restoreTransform(c)}}function S5(a,b){var c=document.createElement("div");return c.style.cssText=["position:relative","overflow:hidden","width:"+a+"px","height:"+b+"px","padding:0","margin:0","border-width:0"].join(";")+";",c}function M8(a){return a.getBoundingClientRect?a.getBoundingClientRect():{left:0,top:0}}function abp(b,c,d,a){return d=d||{},a||!VG.canvasSupported?J9(b,c,d):VG.browser.firefox&&null!=c.layerX&&c.layerX!==c.offsetX?(d.zrX=c.layerX,d.zrY=c.layerY):null!=c.offsetX?(d.zrX=c.offsetX,d.zrY=c.offsetY):J9(b,c,d),d}function J9(b,c,d){var a=M8(b);d.zrX=c.clientX-a.left,d.zrY=c.clientY-a.top}function I9(d,g,j){if(g=g||window.event,null!=g.zrX){return g}var c=g.type,h=c&&c.indexOf("touch")>=0;if(h){var b="touchend"!=c?g.targetTouches[0]:g.changedTouches[0];b&&abp(d,b,g,j)}else{abp(d,g,g,j),g.zrDelta=g.wheelDelta?g.wheelDelta/120:-(g.detail||0)/3}var f=g.button;return null==g.which&&void 0!==f&&yX.test(g.type)&&(g.which=1&f?1:2&f?3:4&f?2:0),g}function P8(a,b,c){i1?a.addEventListener(b,c):a.attachEvent("on"+b,c)}function G9(a,b,c){i1?a.removeEventListener(b,c):a.detachEvent("on"+b,c)}function T4(a){return a.which>1}function ZO(a){var b=a[1][0]-a[0][0],c=a[1][1]-a[0][1];return Math.sqrt(b*b+c*c)}function X3(a){return[(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]}function V4(a){return"mousewheel"===a&&VG.browser.firefox?"DOMMouseScroll":a}function U4(d,f,h){var c=d._gestureMgr;"start"===h&&c.clear();var g=c.recognize(f,d.handler.findHover(f.zrX,f.zrY,null).target,d.dom);if("end"===h&&c.clear(),g){var b=g.type;f.gestureEvent=b,d.handler.dispatchToElement({target:g.target},b,g.event)}}function L8(a){a._touching=!0,clearTimeout(a._touchTimer),a._touchTimer=setTimeout(function(){a._touching=!1},700)}function O8(a){var b=a.pointerType;return"pen"===b||"touch"===b}function F9(a){function b(c,d){return function(){return d._touching?void 0:c.apply(d,arguments)}}ZR(c1,function(c){a._handlers[c]=YN(KQ[c],a)}),ZR(f1,function(c){a._handlers[c]=YN(KQ[c],a)}),ZR(bk,function(c){a._handlers[c]=b(KQ[c],a)})}function Dj(a){function b(c,d){ZR(c,function(f){P8(a,V4(f),d._handlers[f])},d)}lY.call(this),this.dom=a,this._touching=!1,this._touchTimer,this._gestureMgr=new d1,this._handlers={},F9(this),VG.pointerEventsSupported?b(f1,this):(VG.touchEventsSupported&&b(c1,this),b(bk,this))}function Ej(a,b){var c=new qY(YK(),a,b);return c}function aO(a){return a.replace(/^\s+/,"").replace(/\s+$/,"")}function aaM(d,f,h,c){var g=f[1]-f[0],b=h[1]-h[0];if(0===g){return 0===b?h[0]:(h[0]+h[1])/2}if(c){if(g>0){if(d<=f[0]){return h[0]}if(d>=f[1]){return h[1]}}else{if(d>=f[0]){return h[0]}if(d<=f[1]){return h[1]}}}else{if(d===f[0]){return h[0]}if(d===f[1]){return h[1]}}return(d-f[0])/g*b+h[0]}function E9(a,b){switch(a){case"center":case"middle":a="50%";break;case"left":case"top":a="0%";break;case"right":case"bottom":a="100%"}return"string"==typeof a?aO(a).match(/%$/)?parseFloat(a)/100*b:parseFloat(a):null==a?0/0:+a}function iG(a,b,c){return null==b&&(b=10),b=Math.min(Math.max(0,b),20),a=(+a).toFixed(b),c?a:+a}function oE(a){return a.sort(function(b,c){return b-c}),a}function sB(a){if(a=+a,isNaN(a)){return 0}for(var b=1,c=0;Math.round(a*b)/b!==a;){b*=10,c++}return c}function hG(b){var c=b.toString(),f=c.indexOf("e");if(f>0){var a=+c.slice(f+1);return 0>a?-a:0}var d=c.indexOf(".");return 0>d?0:c.length-1-d}function Aq(d,g){var j=Math.log,c=Math.LN10,h=Math.floor(j(d[1]-d[0])/c),b=Math.round(j(Math.abs(g[1]-g[0]))/c),f=Math.min(Math.max(-h+b,0),20);return isFinite(f)?f:20}function xz(A,v,j){if(!A[v]){return 0}var m=Y3(A,function(a,c){return a+(isNaN(c)?0:c)},0);if(0===m){return 0}for(var g=Math.pow(10,j),y=ZN(A,function(a){return(isNaN(a)?0:a)/m*g*100}),b=100*g,B=ZN(y,function(a){return Math.floor(a)}),k=Y3(B,function(a,c){return a+c},0),z=ZN(y,function(a,c){return a-B[c]});b>k;){for(var p=Number.NEGATIVE_INFINITY,x=null,w=0,q=z.length;q>w;++w){z[w]>p&&(p=z[w],x=w)}++B[x],z[x]=0,++k}return B[v]/g}function yz(a){var b=2*Math.PI;return(a%b+b)%b}function pE(a){return a>-j0&&j0>a}function lE(a){if(a instanceof Date){return a}if("string"==typeof a){var b=XF.exec(a);if(!b){return new Date(0/0)}if(b[8]){var c=+b[4]||0;return"Z"!==b[8].toUpperCase()&&(c-=b[8].slice(0,3)),new Date(Date.UTC(+b[1],+(b[2]||1)-1,+b[3]||1,c,+(b[5]||0),+b[6]||0,+b[7]||0))}return new Date(+b[1],+(b[2]||1)-1,+b[3]||1,+b[4]||0,+(b[5]||0),+b[6]||0,+b[7]||0)}return new Date(null==a?0/0:Math.round(a))}function Q7(a){return Math.pow(10,mE(a))}function mE(a){return Math.floor(Math.log(a)/Math.LN10)}function Cz(d,f){var h,c=mE(d),g=Math.pow(10,c),b=d/g;return h=f?1.5>b?1:2.5>b?2:4>b?3:7>b?5:10:1>b?1:2>b?2:3>b?3:5>b?5:10,d=h*g,c>=-20?+d.toFixed(0>c?-c:0):d}function nE(d){function h(e,l,a){return e.interval[a]<l.interval[a]||e.interval[a]===l.interval[a]&&(e.close[a]-l.close[a]===(a?-1:1)||!a&&h(e,l,1))}d.sort(function(a,e){return h(a,e,0)?-1:1});for(var k=-1/0,c=1,j=0;j<d.length;){for(var b=d[j].interval,g=d[j].close,f=0;2>f;f++){b[f]<=k&&(b[f]=k,g[f]=f?1:1-c),k=b[f],c=g[f]}b[0]===b[1]&&g[0]*g[1]!==1?d.splice(j,1):j++}return d}function wz(a){return a-parseFloat(a)>=0}function jF(a){return isNaN(a)?"-":(a=(a+"").split("."),a[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(a.length>1?"."+a[1]:""))}function zt(a,b){return a=(a||"").toLowerCase().replace(/-(.)/g,function(c,d){return d.toUpperCase()}),b&&a&&(a=a.charAt(0).toUpperCase()+a.slice(1)),a}function fG(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function uB(m,h,d){YH(h)||(h=[h]);var g=h.length;if(!g){return""}for(var c=h[0].$vars||[],j=0;j<c.length;j++){var b=TF[j],p=NK(b,0);m=m.replace(NK(b),d?fG(p):p)}for(var f=0;g>f;f++){for(var k=0;k<c.length;k++){var p=h[f][c[k]];m=m.replace(NK(TF[k],f),d?fG(p):p)}}return m}function eG(a,b,c){return ZR(b,function(f,d){a=a.replace("{"+d+"}",c?fG(f):f)}),a}function tB(a,b){return a?'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+fG(a)+";"+(b||"")+'"></span>':""}function vB(q,k,d){("week"===q||"month"===q||"quarter"===q||"half-year"===q||"year"===q)&&(q="MM-dd\nyyyy");var g=lE(k),c=d?"UTC":"",m=g["get"+c+"FullYear"](),b=g["get"+c+"Month"]()+1,v=g["get"+c+"Date"](),f=g["get"+c+"Hours"](),p=g["get"+c+"Minutes"](),j=g["get"+c+"Seconds"]();return q=q.replace("MM",abD(b)).replace("M",b).replace("yyyy",m).replace("yy",m%100).replace("dd",abD(v)).replace("d",v).replace("hh",abD(f)).replace("h",f).replace("mm",abD(p)).replace("m",p).replace("ss",abD(j)).replace("s",j)}function bN(a){return a?a.charAt(0).toUpperCase()+a.substr(1):a}function dG(a,b,c){return a[HN+b]=c}function cG(a,b){return a[HN+b]}function gG(a,b){return a.hasOwnProperty(HN+b)}function K8(a){var b={main:"",sub:""};return a&&(a=a.split(JN),b.main=a[0]||"",b.sub=a[1]||""),b}function R6(a){aav(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(a),'componentType "'+a+'" illegal')}function BB(a){a.$constructor=a,a.extend=function(b){var c=this,d=function(){b.$constructor?b.$constructor.apply(this,arguments):c.apply(this,arguments)};return YY(d.prototype,b),d.extend=this.extend,d.superCall=qB,d.superApply=rB,ZK(d,this),d.superClass=c,d}}function qB(a,b){var c=aaW(arguments,2);return this.superClass.prototype[b].apply(a,c)}function rB(a,b,c){return this.superClass.prototype[b].apply(a,c)}function kE(b,c){function f(g){var h=a[g.main];return h&&h[QK]||(h=a[g.main]={},h[QK]=!0),h}c=c||{};var a={};if(b.registerClass=function(g,h){if(h){if(R6(h),h=K8(h),h.sub){if(h.sub!==QK){var i=f(h);i[h.sub]=g}}else{a[h.main]=g}}return g},b.getClass=function(g,h,j){var i=a[g];if(i&&i[QK]&&(i=h?i[h]:null),j&&!i){throw new Error(h?"Component "+g+"."+(h||"")+" not exists. Load it first.":g+".type should be specified.")}return i},b.getClassesByMainType=function(g){g=K8(g);var h=[],i=a[g.main];return i&&i[QK]?ZR(i,function(e,j){j!==QK&&h.push(e)}):h.push(i),h},b.hasClass=function(e){return e=K8(e),!!a[e.main]},b.getAllClassMainTypes=function(){var e=[];return ZR(a,function(g,h){e.push(h)}),e},b.hasSubTypes=function(g){g=K8(g);var h=a[g.main];return h&&h[QK]},b.parseClassType=K8,c.registerWhenExtend){var d=b.extend;d&&(b.extend=function(g){var h=d.call(this,g);return b.registerClass(h,g.type)})}return b}function H2(a){return a>-GN&&GN>a}function WX(a){return a>GN||-GN>a}function N1(d,f,h,c,g){var b=1-g;return b*b*(b*d+3*g*f)+g*g*(g*c+3*b*h)}function SZ(d,f,h,c,g){var b=1-g;return 3*(((f-d)*b+2*(h-f)*g)*b+(c-h)*g*g)}function M1(E,T,K,O,J,X){var G=O+3*(T-K)-E,F=3*(K-2*T+E),N=3*(T-E),D=E-J,P=F*F-3*G*N,V=F*N-9*G*D,U=N*N-3*F*D,R=0;if(H2(P)&&H2(V)){if(H2(F)){X[0]=0}else{var Q=-N/F;Q>=0&&1>=Q&&(X[R++]=Q)}}else{var H=V*V-4*P*U;if(H2(H)){var L=V/P,Q=-F/G+L,C=-L/2;Q>=0&&1>=Q&&(X[R++]=Q),C>=0&&1>=C&&(X[R++]=C)}else{if(H>0){var q=PK(H),A=P*F+1.5*G*(-V+q),Y=P*F+1.5*G*(-V-q);A=0>A?-MK(-A,a0):MK(A,a0),Y=0>Y?-MK(-Y,a0):MK(Y,a0);var Q=(-F-(A+Y))/(3*G);Q>=0&&1>=Q&&(X[R++]=Q)}else{var W=(2*P*F-3*G*V)/(2*PK(P*P*P)),B=Math.acos(W)/3,j=PK(P),k=Math.cos(B),Q=(-F-2*j*k)/(3*G),C=(-F+j*(k+EO*Math.sin(B)))/(3*G),z=(-F+j*(k-EO*Math.sin(B)))/(3*G);Q>=0&&1>=Q&&(X[R++]=Q),C>=0&&1>=C&&(X[R++]=C),z>=0&&1>=z&&(X[R++]=z)}}}return R}function abi(y,p,g,k,f){var w=6*g-12*p+6*y,b=9*p+3*k-3*y-9*g,z=3*p-3*y,j=0;if(H2(b)){if(WX(w)){var x=-z/w;x>=0&&1>=x&&(f[j++]=x)}}else{var m=w*w-4*b*z;if(H2(m)){f[0]=-w/(2*b)}else{if(m>0){var v=PK(m),x=(-w+v)/(2*b),q=(-w-v)/(2*b);x>=0&&1>=x&&(f[j++]=x),q>=0&&1>=q&&(f[j++]=q)}}}return j}function J2(w,m,f,j,d,q){var b=(m-w)*d+w,x=(f-m)*d+m,g=(j-f)*d+f,v=(x-b)*d+b,k=(g-x)*d+x,p=(k-v)*d+v;q[0]=w,q[1]=b,q[2]=v,q[3]=p,q[4]=p,q[5]=k,q[6]=g,q[7]=j}function I2(w,K,D,G,C,N,A,z,F,q,H){var M,L,J,I,B,E=0.005,k=1/0;aa6[0]=F,aa6[1]=q;for(var b=0;1>b;b+=0.05){FN[0]=N1(w,D,C,A,b),FN[1]=N1(K,G,N,z,b),I=kY(aa6,FN),k>I&&(M=b,k=I)}k=1/0;for(var j=0;32>j&&!(DO>E);j++){L=M-E,J=M+E,FN[0]=N1(w,D,C,A,L),FN[1]=N1(K,G,N,z,L),I=kY(FN,aa6),L>=0&&k>I?(M=L,k=I):(iZ[0]=N1(w,D,C,A,J),iZ[1]=N1(K,G,N,z,J),B=kY(iZ,aa6),1>=J&&k>B?(M=J,k=B):E*=0.5)}return H&&(H[0]=N1(w,D,C,A,M),H[1]=N1(K,G,N,z,M)),PK(k)}function P1(b,c,f,a){var d=1-a;return d*(d*b+2*a*c)+a*a*f}function G2(b,c,d,a){return 2*((1-a)*(c-b)+a*(d-c))}function TX(y,p,g,k,f){var w=y-2*p+g,b=2*(p-y),z=y-k,j=0;if(H2(w)){if(WX(b)){var x=-z/b;x>=0&&1>=x&&(f[j++]=x)}}else{var m=b*b-4*w*z;if(H2(m)){var x=-b/(2*w);x>=0&&1>=x&&(f[j++]=x)}else{if(m>0){var v=PK(m),x=(-b+v)/(2*w),q=(-b-v)/(2*w);x>=0&&1>=x&&(f[j++]=x),q>=0&&1>=q&&(f[j++]=q)}}}return j}function Zj(b,c,d){var a=b+d-2*c;return 0===a?0.5:(b-c)/a}function VX(d,h,k,c,j){var b=(h-d)*c+d,g=(k-h)*c+h,f=(g-b)*c+b;j[0]=d,j[1]=b,j[2]=f,j[3]=f,j[4]=g,j[5]=k}function UX(k,G,z,C,y,J,w,q,B){var j,D=0.005,I=1/0;aa6[0]=w,aa6[1]=q;for(var H=0;1>H;H+=0.05){FN[0]=P1(k,z,y,H),FN[1]=P1(G,C,J,H);var F=kY(aa6,FN);I>F&&(j=H,I=F)}I=1/0;for(var E=0;32>E&&!(DO>D);E++){var x=j-D,A=j+D;FN[0]=P1(k,z,y,x),FN[1]=P1(G,C,J,x);var F=kY(FN,aa6);if(x>=0&&I>F){j=x,I=F}else{iZ[0]=P1(k,z,y,A),iZ[1]=P1(G,C,J,A);var b=kY(iZ,aa6);1>=A&&I>b?(j=A,I=b):D*=0.5}}return B&&(B[0]=P1(k,z,y,j),B[1]=P1(G,C,J,j)),PK(I)}function L1(k,h,d){if(0!==k.length){var g,c=k[0],j=c[0],b=c[0],m=c[1],f=c[1];for(g=1;g<k.length;g++){c=k[g],j=oX(j,c[0]),b=sW(b,c[0]),m=oX(m,c[1]),f=sW(f,c[1])}h[0]=j,h[1]=m,d[0]=b,d[1]=f}}function O1(d,f,h,c,g,b){g[0]=oX(d,h),g[1]=oX(f,c),b[0]=sW(d,h),b[1]=sW(f,c)}function F2(E,z,m,v,k,C,b,F,q,D){var w,B=abi,A=N1,y=B(E,m,k,b,RJ);for(q[0]=1/0,q[1]=1/0,D[0]=-1/0,D[1]=-1/0,w=0;y>w;w++){var x=A(E,m,k,b,RJ[w]);q[0]=oX(x,q[0]),D[0]=sW(x,D[0])}for(y=B(z,v,C,F,mX),w=0;y>w;w++){var j=A(z,v,C,F,mX[w]);q[1]=oX(j,q[1]),D[1]=sW(j,D[1])}q[0]=oX(E,q[0]),D[0]=sW(E,D[0]),q[0]=oX(b,q[0]),D[0]=sW(b,D[0]),q[1]=oX(z,q[1]),D[1]=sW(z,D[1]),q[1]=oX(F,q[1]),D[1]=sW(F,D[1])}function C3(A,v,j,m,g,y,b,B){var k=Zj,z=P1,p=sW(oX(k(A,j,g),1),0),x=sW(oX(k(v,m,y),1),0),w=z(A,j,g,p),q=z(v,m,y,x);b[0]=oX(A,g,w),b[1]=oX(v,y,q),B[0]=sW(A,g,w),B[1]=sW(v,y,q)}function D3(A,v,j,m,g,y,b,B,k){var z=aaJ,p=aat,x=Math.abs(g-y);if(0.0001>x%xV&&x>0.0001){return B[0]=A-j,B[1]=v-m,k[0]=A+j,void (k[1]=v+m)}if(yV[0]=AR(g)*j+A,yV[1]=hZ(g)*m+v,pX[0]=AR(y)*j+A,pX[1]=hZ(y)*m+v,z(B,yV,pX),p(k,yV,pX),g%=xV,0>g&&(g+=xV),y%=xV,0>y&&(y+=xV),g>y&&!b?y+=xV:y>g&&b&&(g+=xV),b){var w=y;y=g,g=w}for(var q=0;y>q;q+=Math.PI/2){q>g&&(lX[0]=AR(q)*j+A,lX[1]=hZ(q)*m+v,z(B,lX,B),p(k,lX,k))}}function aH(w,m,f,j,d,q,b){if(0===d){return !1}var x=d,g=0,v=w;if(b>m+x&&b>j+x||m-x>b&&j-x>b||q>w+x&&q>f+x||w-x>q&&f-x>q){return !1}if(w===f){return Math.abs(q-w)<=x/2}g=(m-j)/(w-f),v=(w*j-f*m)/(w-f);var k=g*q-b+v,p=k*k/(g*g+1);return x/2*x/2>=p}function aaA(y,p,g,k,f,w,b,z,j,x,m){if(0===j){return !1}var v=j;if(m>p+v&&m>k+v&&m>w+v&&m>z+v||p-v>m&&k-v>m&&w-v>m&&z-v>m||x>y+v&&x>g+v&&x>f+v&&x>b+v||y-v>x&&g-v>x&&f-v>x&&b-v>x){return !1}var q=I2(y,p,g,k,f,w,b,z,x,m,null);return v/2>=q}function E3(q,k,d,g,c,m,b,v,f){if(0===b){return !1}var p=b;if(f>k+p&&f>g+p&&f>m+p||k-p>f&&g-p>f&&m-p>f||v>q+p&&v>d+p&&v>c+p||q-p>v&&d-p>v&&c-p>v){return !1}var j=UX(q,k,d,g,c,m,v,f,null);return p/2>=j}function iq(a){return a%=gZ,0>a&&(a+=gZ),a}function n9(y,p,g,k,f,w,b,z,j){if(0===b){return !1}var x=b;z-=y,j-=p;var m=Math.sqrt(z*z+j*j);if(m-x>g||g>m+x){return !1}if(Math.abs(k-f)%LK<0.0001){return !0}if(w){var v=k;k=iq(f),f=iq(v)}else{k=iq(k),f=iq(f)}k>f&&(f+=LK);var q=Math.atan2(j,z);return 0>q&&(q+=LK),q>=k&&f>=q||q+LK>=k&&f>=q+LK}function r8(k,h,d,g,c,j){if(j>h&&j>g||h>j&&g>j){return 0}if(g===h){return 0}var b=h>g?1:-1,m=(j-h)/(g-h);(1===m||0===m)&&(b=h>g?0.5:-0.5);var f=m*(d-k)+k;return f>c?b:0}function hq(a,b){return Math.abs(a-b)<qW}function z6(){var a=kX[0];kX[0]=kX[1],kX[1]=a}function w7(q,I,B,E,A,L,x,w,D,k){if(k>I&&k>E&&k>L&&k>w||I>k&&E>k&&L>k&&w>k){return 0}var F=M1(I,E,L,w,k,rW);if(0===F){return 0}for(var K,J,H=0,G=-1,z=0;F>z;z++){var C=rW[z],j=0===C||1===C?0.5:1,b=N1(q,B,A,x,C);D>b||(0>G&&(G=abi(I,E,L,w,kX),kX[1]<kX[0]&&G>1&&z6(),K=N1(I,E,L,w,kX[0]),G>1&&(J=N1(I,E,L,w,kX[1]))),H+=2==G?C<kX[0]?I>K?j:-j:C<kX[1]?K>J?j:-j:J>w?j:-j:C<kX[0]?I>K?j:-j:K>w?j:-j)}return H}function x7(C,x,k,p,j,A,b,D){if(D>x&&D>p&&D>A||x>D&&p>D&&A>D){return 0}var m=TX(x,p,A,D,rW);if(0===m){return 0}var B=Zj(x,p,A);if(B>=0&&1>=B){for(var q=0,z=P1(x,p,A,B),y=0;m>y;y++){var w=0===rW[y]||1===rW[y]?0.5:1,v=P1(C,k,j,rW[y]);b>v||(q+=rW[y]<B?x>z?w:-w:z>A?w:-w)}return q}var w=0===rW[0]||1===rW[0]?0.5:1,v=P1(C,k,j,rW[0]);return b>v?0:x>A?w:-w}function o9(C,x,k,p,j,A,b,D){if(D-=x,D>k||-k>D){return 0}var m=Math.sqrt(k*k-D*D);rW[0]=-m,rW[1]=m;var B=Math.abs(p-j);if(0.0001>B){return 0}if(0.0001>B%BQ){p=0,j=BQ;var q=A?1:-1;return b>=rW[0]+C&&b<=rW[1]+C?q:0}if(A){var m=p;p=iq(j),j=iq(m)}else{p=iq(p),j=iq(j)}p>j&&(j+=BQ);for(var z=0,y=0;2>y;y++){var w=rW[y];if(w+C>b){var v=Math.atan2(D,w),q=A?1:-1;0>v&&(v=BQ+v),(v>=p&&j>=v||v+BQ>=p&&j>=v+BQ)&&(v>Math.PI/2&&v<1.5*Math.PI&&(q=-q),z+=q)}}return z}function k9(C,O,H,K,G){for(var T=0,E=0,D=0,J=0,B=0,L=0;L<C.length;){var Q=C[L++];switch(Q===SH.M&&L>1&&(H||(T+=r8(E,D,J,B,K,G))),1==L&&(E=C[L],D=C[L+1],J=E,B=D),Q){case SH.M:J=C[L++],B=C[L++],E=J,D=B;break;case SH.L:if(H){if(aH(E,D,C[L],C[L+1],O,K,G)){return !0}}else{T+=r8(E,D,C[L],C[L+1],K,G)||0}E=C[L++],D=C[L++];break;case SH.C:if(H){if(aaA(E,D,C[L++],C[L++],C[L++],C[L++],C[L],C[L+1],O,K,G)){return !0}}else{T+=w7(E,D,C[L++],C[L++],C[L++],C[L++],C[L],C[L+1],K,G)||0}E=C[L++],D=C[L++];break;case SH.Q:if(H){if(E3(E,D,C[L++],C[L++],C[L],C[L+1],O,K,G)){return !0}}else{T+=x7(E,D,C[L++],C[L++],C[L],C[L+1],K,G)||0}E=C[L++],D=C[L++];break;case SH.A:var P=C[L++],N=C[L++],M=C[L++],F=C[L++],I=C[L++],A=C[L++],k=(C[L++],1-C[L++]),q=Math.cos(I)*M+P,U=Math.sin(I)*F+N;L>1?T+=r8(E,D,q,U,K,G):(J=q,B=U);var R=(K-P)*F/M+P;if(H){if(n9(P,N,F,I,I+A,k,O,R,G)){return !0}}else{T+=o9(P,N,F,I,I+A,k,R,G)}E=Math.cos(I+A)*M+P,D=Math.sin(I+A)*F+N;break;case SH.R:J=E=C[L++],B=D=C[L++];var z=C[L++],j=C[L++],q=J+z,U=B+j;if(H){if(aH(J,B,q,B,O,K,G)||aH(q,B,q,U,O,K,G)||aH(q,U,J,U,O,K,G)||aH(J,U,J,B,O,K,G)){return !0}}else{T+=r8(q,B,q,U,K,G),T+=r8(J,U,J,B,K,G)}break;case SH.Z:if(H){if(aH(E,D,J,B,O,K,G)){return !0}}else{T+=r8(E,D,J,B,K,G)}E=J,D=B}}return H||hq(D,B)||(T+=r8(E,D,J,B,K,G)||0),0!==T}function Q1(a,b,c){return k9(a,0,!1,b,c)}function l9(b,c,d,a){return k9(b,c,!0,d,a)}function Cj(a){K3.call(this,a),this.path=null}function m9(C,O,H,K,G,T,E,D,J,B,L){var Q=J*(Yt/180),P=Z7(Q)*(C-H)/2+Uz(Q)*(O-K)/2,N=-1*Uz(Q)*(C-H)/2+Z7(Q)*(O-K)/2,M=P*P/(E*E)+N*N/(D*D);M>1&&(E*=HH(M),D*=HH(M));var F=(G===T?-1:1)*HH((E*E*D*D-E*E*N*N-D*D*P*P)/(E*E*N*N+D*D*P*P))||0,I=F*E*N/D,A=F*-D*P/E,k=(C+H)/2+Z7(Q)*I-Uz(Q)*A,q=(O+K)/2+Uz(Q)*I+Z7(Q)*A,U=MG([1,0],[(P-I)/E,(N-A)/D]),R=[(P-I)/E,(N-A)/D],z=[(-1*P-I)/E,(-1*N-A)/D],j=MG(R,z);Vz(R,z)<=-1&&(j=Yt),Vz(R,z)>=1&&(j=0),0===T&&j>0&&(j-=2*Yt),1===T&&0>j&&(j+=2*Yt),L.addData(B,k,q,E,D,U,j,Q,T)}function v8(E){if(!E){return[]}var T,K=E.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(T=0;T<QG.length;T++){K=K.replace(new RegExp(QG[T],"g"),"|"+QG[T])}var O,J=K.split("|"),X=0,G=0,F=new cZ,N=cZ.CMD;for(T=1;T<J.length;T++){var D,P=J[T],V=P.charAt(0),U=0,R=P.slice(1).replace(/e,-/g,"e-").split(",");R.length>0&&""===R[0]&&R.shift();for(var Q=0;Q<R.length;Q++){R[Q]=parseFloat(R[Q])}for(;U<R.length&&!isNaN(R[U])&&!isNaN(R[0]);){var H,L,C,q,A,Y,W,B=X,j=G;switch(V){case"l":X+=R[U++],G+=R[U++],D=N.L,F.addData(D,X,G);break;case"L":X=R[U++],G=R[U++],D=N.L,F.addData(D,X,G);break;case"m":X+=R[U++],G+=R[U++],D=N.M,F.addData(D,X,G),V="l";break;case"M":X=R[U++],G=R[U++],D=N.M,F.addData(D,X,G),V="L";break;case"h":X+=R[U++],D=N.L,F.addData(D,X,G);break;case"H":X=R[U++],D=N.L,F.addData(D,X,G);break;case"v":G+=R[U++],D=N.L,F.addData(D,X,G);break;case"V":G=R[U++],D=N.L,F.addData(D,X,G);break;case"C":D=N.C,F.addData(D,R[U++],R[U++],R[U++],R[U++],R[U++],R[U++]),X=R[U-2],G=R[U-1];break;case"c":D=N.C,F.addData(D,R[U++]+X,R[U++]+G,R[U++]+X,R[U++]+G,R[U++]+X,R[U++]+G),X+=R[U-2],G+=R[U-1];break;case"S":H=X,L=G;var k=F.len(),z=F.data;O===N.C&&(H+=X-z[k-4],L+=G-z[k-3]),D=N.C,B=R[U++],j=R[U++],X=R[U++],G=R[U++],F.addData(D,H,L,B,j,X,G);break;case"s":H=X,L=G;var k=F.len(),z=F.data;O===N.C&&(H+=X-z[k-4],L+=G-z[k-3]),D=N.C,B=X+R[U++],j=G+R[U++],X+=R[U++],G+=R[U++],F.addData(D,H,L,B,j,X,G);break;case"Q":B=R[U++],j=R[U++],X=R[U++],G=R[U++],D=N.Q,F.addData(D,B,j,X,G);break;case"q":B=R[U++]+X,j=R[U++]+G,X+=R[U++],G+=R[U++],D=N.Q,F.addData(D,B,j,X,G);break;case"T":H=X,L=G;var k=F.len(),z=F.data;O===N.Q&&(H+=X-z[k-4],L+=G-z[k-3]),X=R[U++],G=R[U++],D=N.Q,F.addData(D,H,L,X,G);break;case"t":H=X,L=G;var k=F.len(),z=F.data;O===N.Q&&(H+=X-z[k-4],L+=G-z[k-3]),X+=R[U++],G+=R[U++],D=N.Q,F.addData(D,H,L,X,G);break;case"A":C=R[U++],q=R[U++],A=R[U++],Y=R[U++],W=R[U++],B=X,j=G,X=R[U++],G=R[U++],D=N.A,m9(B,j,X,G,Y,W,C,q,A,D,F);break;case"a":C=R[U++],q=R[U++],A=R[U++],Y=R[U++],W=R[U++],B=X,j=G,X+=R[U++],G+=R[U++],D=N.A,m9(B,j,X,G,Y,W,C,q,A,D,F)}}("z"===V||"Z"===V)&&(D=N.Z,F.addData(D)),O=D}return F.toStatic(),F}function jk(a,b){var c=v8(a);return b=b||{},b.buildPath=function(d){if(d.setData){d.setData(c.data);var f=d.getContext();f&&d.rebuildPath(f)}else{var f=d;c.rebuildPath(f)}},b.applyTransform=function(d){JH(c,d),this.dirty(!0)},b}function y7(a,b){return new Cj(jk(a,b))}function fq(a,b){return Cj.extend(jk(a,b))}function t8(d,g){for(var j=[],c=d.length,h=0;c>h;h++){var b=d[h];b.path||b.createPathProxy(),b.__dirtyPath&&b.buildPath(b.path,b.shape,!0),j.push(b.path)}var f=new Cj(g);return f.createPathProxy(),f.buildPath=function(a){a.appendPath(j);var i=a.getContext();i&&a.rebuildPath(i)},f}function eq(k,h,d,g,c,j,b){var m=0.5*(d-k),f=0.5*(g-h);return(2*(h-d)+m+f)*b+(-3*(h-d)-2*m-f)*j+m*c+h}function s8(w,m,f){var j=m.points,d=m.smooth;if(j&&j.length>=2){if(d&&"spline"!==d){var q=iW(j,d,f,m.smoothConstraint);w.moveTo(j[0][0],j[0][1]);for(var b=j.length,x=0;(f?b:b-1)>x;x++){var g=q[2*x],v=q[2*x+1],k=j[(x+1)%b];w.bezierCurveTo(g[0],g[1],v[0],v[1],k[0],k[1])}}else{"spline"===d&&(j=FH(j,f)),w.moveTo(j[0][0],j[0][1]);for(var x=1,p=j.length;p>x;x++){w.lineTo(j[x][0],j[x][1])}}f&&w.closePath()}}function u8(b,c,f){var a=b.cpx2,d=b.cpy2;return null===a||null===d?[(f?SZ:N1)(b.x1,b.cpx1,b.cpx2,b.x2,c),(f?SZ:N1)(b.y1,b.cpy1,b.cpy2,b.y2,c)]:[(f?G2:P1)(b.x1,b.cpx1,b.x2,c),(f?G2:P1)(b.y1,b.cpy1,b.y2,c)]}function bG(a){return Cj.extend(a)}function dq(a,b){return fq(a,b)}function cq(d,f,h,c){var g=y7(d,f),b=g.getBoundingRect();return h&&("center"===c&&(h=K2(h,b)),R0(g,h)),g}function gq(b,c,d){var a=new R1({style:{image:b,x:c.x,y:c.y,width:c.width,height:c.height},onload:function(e){if("center"===d){var f={width:e.width,height:e.height};a.setStyle(K2(c,f))}}});return a}function K2(d,g){var j,c=g.width/g.height,h=d.height*c;h<=d.width?j=d.height:(h=d.width,j=h/c);var b=d.x+d.width/2,f=d.y+d.height/2;return{x:b-h/2,y:f-j/2,width:h,height:j}}function R0(b,c){if(b.applyTransform){var d=b.getBoundingRect(),a=d.calculateTransform(c);b.applyTransform(a)}}function Bk(a){var b=a.shape,c=a.style.lineWidth;return nU(2*b.x1)===nU(2*b.x2)&&(b.x1=b.x2=q8(b.x1,c,!0)),nU(2*b.y1)===nU(2*b.y2)&&(b.y1=b.y2=q8(b.y1,c,!0)),a}function p9(d){var g=d.shape,j=d.style.lineWidth,c=g.x,h=g.y,b=g.width,f=g.height;return g.x=q8(g.x,j,!0),g.y=q8(g.y,j,!0),g.width=Math.max(q8(c+b,j,!1)-g.x,0===b?0:1),g.height=Math.max(q8(h+f,j,!1)-g.y,0===f?0:1),d}function q8(b,c,d){var a=nU(2*b);return(a+nU(c))%2===0?a/2:(a+(d?1:-1))/2}function kj(a){return null!=a&&"none"!=a}function IJ(a){return"string"==typeof a?xH(a,-0.1):a}function XB(d){if(d.__hoverStlDirty){var f=d.style.stroke,h=d.style.fill,c=d.__hoverStl;c.fill=c.fill||(kj(h)?IJ(h):null),c.stroke=c.stroke||(kj(f)?IJ(f):null);var g={};for(var b in c){null!=c[b]&&(g[b]=d.style[b])}d.__normalStl=g,d.__hoverStlDirty=!1}}function OH(a){if(!a.__isHover){if(XB(a),a.useHoverLayer){a.__zr&&a.__zr.addHover(a,a.__hoverStl)}else{var b=a.style,c=b.insideRollbackOpt;c&&aZ(b),b.extendFrom(a.__hoverStl),c&&(EK(b,b.insideOriginalTextPosition,c),null==b.textFill&&(b.textFill=c.autoColor)),a.dirty(!1),a.z2+=1}a.__isHover=!0}}function TB(a){if(a.__isHover){var b=a.__normalStl;a.useHoverLayer?a.__zr&&a.__zr.removeHover(a):(b&&a.setStyle(b),a.z2-=1),a.__isHover=!1}}function NH(a){"group"===a.type?a.traverse(function(b){"group"!==b.type&&OH(b)}):OH(a)}function abB(a){"group"===a.type?a.traverse(function(b){"group"!==b.type&&TB(b)}):TB(a)}function KJ(a,b){a.__hoverStl=a.hoverStyle||b||{},a.__hoverStlDirty=!0,a.__isHover&&XB(a)}function JJ(a){this.__hoverSilentOnTouch&&a.zrByTouch||!this.__isEmphasis&&NH(this)}function QH(a){this.__hoverSilentOnTouch&&a.zrByTouch||!this.__isEmphasis&&abB(this)}function HJ(){this.__isEmphasis=!0,NH(this)}function UB(){this.__isEmphasis=!1,abB(this)}function Z9(a,b,c){a.__hoverSilentOnTouch=c&&c.hoverSilentOnTouch,"group"===a.type?a.traverse(function(d){"group"!==d.type&&KJ(d,b)}):KJ(a,b),a.on("mouseover",JJ).on("mouseout",QH),a.on("emphasis",HJ).on("normal",UB)}function Yz(C,x,k,p,j,A,b){j=j||zO;var D=j.labelFetcher,m=j.labelDataIndex,B=j.labelDimIndex,q=k.getShallow("show"),z=p.getShallow("show"),y=q||z?aa3(D?D.getFormattedLabel(m,"normal",null,B):null,j.defaultText):null,w=q?y:null,v=z?aa3(D?D.getFormattedLabel(m,"emphasis",null,B):null,y):null;(null!=w||null!=v)&&(WB(C,k,A,j),WB(x,p,b,j,!0)),C.text=w,x.text=v}function WB(b,c,f,a,d){return MH(b,c,a,d),f&&YY(b,f),b.host&&b.host.dirty&&b.host.dirty(!1),b}function VB(b,c,f){var a,d={isRectText:!0};f===!1?a=!0:d.autoColor=f,MH(b,c,d,a),b.host&&b.host.dirty&&b.host.dirty(!1)}function MH(w,m,f,j){if(f=f||zO,f.isRectText){var d=m.getShallow("position")||(j?null:"inside");"outside"===d&&(d="top"),w.textPosition=d,w.textOffset=m.getShallow("offset");var q=m.getShallow("rotate");null!=q&&(q*=Math.PI/180),w.textRotation=q,w.textDistance=aa3(m.getShallow("distance"),j?null:5)}var b,x=m.ecModel,g=x&&x.option.textStyle,v=PH(m);if(v){b={};for(var k in v){if(v.hasOwnProperty(k)){var p=m.getModel(["rich",k]);GJ(b[k]={},p,g,f,j)}}}return w.rich=b,GJ(w,m,g,f,j,!0),f.forceRich&&!f.textStyle&&(f.textStyle={}),w}function PH(b){for(var c;b&&b!==b.ecModel;){var d=(b.option||zO).rich;if(d){c=c||{};for(var a in d){d.hasOwnProperty(a)&&(c[a]=1)}}b=b.parentModel}return c}function GJ(d,g,j,c,h,b){if(j=!h&&j||zO,d.textFill=DK(g.getShallow("color"),c)||j.color,d.textStroke=DK(g.getShallow("textBorderColor"),c)||j.textBorderColor,d.textStrokeWidth=aa3(g.getShallow("textBorderWidth"),j.textBorderWidth),!h){if(b){var f=d.textPosition;d.insideRollback=EK(d,f,c),d.insideOriginalTextPosition=f,d.insideRollbackOpt=c}null==d.textFill&&(d.textFill=c.autoColor)}d.fontStyle=g.getShallow("fontStyle")||j.fontStyle,d.fontWeight=g.getShallow("fontWeight")||j.fontWeight,d.fontSize=g.getShallow("fontSize")||j.fontSize,d.fontFamily=g.getShallow("fontFamily")||j.fontFamily,d.textAlign=g.getShallow("align"),d.textVerticalAlign=g.getShallow("verticalAlign")||g.getShallow("baseline"),d.textLineHeight=g.getShallow("lineHeight"),d.textWidth=g.getShallow("width"),d.textHeight=g.getShallow("height"),d.textTag=g.getShallow("tag"),b&&c.disableBox||(d.textBackgroundColor=DK(g.getShallow("backgroundColor"),c),d.textPadding=g.getShallow("padding"),d.textBorderColor=DK(g.getShallow("borderColor"),c),d.textBorderWidth=g.getShallow("borderWidth"),d.textBorderRadius=g.getShallow("borderRadius"),d.textBoxShadowColor=g.getShallow("shadowColor"),d.textBoxShadowBlur=g.getShallow("shadowBlur"),d.textBoxShadowOffsetX=g.getShallow("shadowOffsetX"),d.textBoxShadowOffsetY=g.getShallow("shadowOffsetY")),d.textShadowColor=g.getShallow("textShadowColor")||j.textShadowColor,d.textShadowBlur=g.getShallow("textShadowBlur")||j.textShadowBlur,d.textShadowOffsetX=g.getShallow("textShadowOffsetX")||j.textShadowOffsetX,d.textShadowOffsetY=g.getShallow("textShadowOffsetY")||j.textShadowOffsetY}function DK(a,b){return"auto"!==a?a:b&&b.autoColor?b.autoColor:null}function EK(b,c,f){var a,d=f.useInsideStyle;return null==b.textFill&&d!==!1&&(d===!0||f.isRectText&&c&&"string"==typeof c&&c.indexOf("inside")>=0)&&(a={textFill:null,textStroke:b.textStroke,textStrokeWidth:b.textStrokeWidth},b.textFill="#fff",null==b.textStroke&&(b.textStroke=f.autoColor,null==b.textStrokeWidth&&(b.textStrokeWidth=2))),a}function aZ(a){var b=a.insideRollback;b&&(a.textFill=b.textFill,a.textStroke=b.textStroke,a.textStrokeWidth=b.textStrokeWidth)}function aa4(a,b){var c=b||b.getModel("textStyle");return[a.fontStyle||c&&c.getShallow("fontStyle")||"",a.fontWeight||c&&c.getShallow("fontWeight")||"",(a.fontSize||c&&c.getShallow("fontSize")||12)+"px",a.fontFamily||c&&c.getShallow("fontFamily")||"sans-serif"].join(" ")}function FJ(q,k,d,g,c,m){"function"==typeof c&&(m=c,c=null);var b=g&&g.isAnimationEnabled();if(b){var v=q?"Update":"",f=g.getShallow("animationDuration"+v),p=g.getShallow("animationEasing"+v),j=g.getShallow("animationDelay"+v);"function"==typeof j&&(j=j(c,g.getAnimationDelayParams?g.getAnimationDelayParams(k,c):null)),"function"==typeof f&&(f=f(c)),f>0?k.animateTo(d,f,j||0,p,m,!!m):(k.stopAnimation(),k.attr(d),m&&m())}else{k.stopAnimation(),k.attr(d),m&&m()}}function iX(b,c,f,a,d){FJ(!0,b,c,f,a,d)}function oV(b,c,f,a,d){FJ(!1,b,c,f,a,d)}function sU(a,b){for(var c=Kz([]);a&&a!==b;){Qt(c,a.getLocalTransform(),c),a=a.parent}return c}function hX(a,b,c){return b&&!ZX(b)&&(b=tX.getLocalTransform(b)),c&&(b=X8([],b)),aaG([],a,b)}function AO(d,f,h){var c=0===f[4]||0===f[5]||0===f[0]?1:Math.abs(2*f[4]/f[0]),g=0===f[4]||0===f[5]||0===f[2]?1:Math.abs(2*f[4]/f[2]),b=["left"===d?-c:"right"===d?c:0,"top"===d?-g:"bottom"===d?g:0];return b=hX(b,f,h),Math.abs(b[0])>Math.abs(b[1])?b[0]>0?"right":"left":b[1]>0?"bottom":"top"}function xR(d,f,h){function c(a){var i={};return a.traverse(function(e){!e.isGroup&&e.anid&&(i[e.anid]=e)}),i}function g(a){var i={position:aaj(a.position),rotation:a.rotation};return a.shape&&(i.shape=YY({},a.shape)),i}if(d&&f){var b=c(d);f.traverse(function(j){if(!j.isGroup&&j.anid){var k=b[j.anid];if(k){var a=g(j);j.attr(g(k)),iX(j,a,h,j.dataIndex)}}})}}function yR(a,b){return ZN(a,function(d){var e=d[0];e=wQ(e,b.x),e=jV(e,b.x+b.width);var c=d[1];return c=wQ(c,b.y),c=jV(c,b.y+b.height),[e,c]})}function pV(d,f){var h=wQ(d.x,f.x),c=jV(d.x+d.width,f.x+f.width),g=wQ(d.y,f.y),b=jV(d.y+d.height,f.y+f.height);return c>=h&&b>=g?{x:h,y:g,width:c-h,height:b-g}:void 0}function lV(b,c,d){c=YY({rectHover:!0},c);var a=c.style={strokeNoScale:!0};return d=d||{x:-1,y:-1,width:2,height:2},b?0===b.indexOf("image://")?(a.image=b.slice(8),YW(a,d),new R1(c)):cq(b.replace("path://",""),c,d,"center"):void 0}function RG(a,b,c){this.parentModel=b,this.ecModel=c,this.option=a}function mV(b,c,d){for(var a=0;a<c.length&&(!c[a]||(b=b&&"object"==typeof b?b[c[a]]:null,null!=b));a++){}return null==b&&d&&(b=d.get(c)),b}function CN(a,b){var c=cG(a,"getParent");return c?c.call(a,b):a.parentModel}function nV(a){return a instanceof Array?a:null==a?[]:[a]}function wR(d,g){if(d){for(var j=d.emphasis=d.emphasis||{},c=d.normal=d.normal||{},h=0,b=g.length;b>h;h++){var f=g[h];!j.hasOwnProperty(f)&&c.hasOwnProperty(f)&&(j[f]=c[f])}}}function jW(a){return a&&(null==a.value?a:a.value)}function zQ(a){return gW(a)&&!(a instanceof Array)}function fX(a,b){var c=b&&b.type;return"ordinal"===c?a:("time"===c&&"number"!=typeof a&&null!=a&&"-"!==a&&(a=+lE(a)),null==a||""===a?0/0:+a)}function uU(a,b){b=(b||[]).slice();var c=ZN(a||[],function(d){return{exist:d}});return cW(b,function(f,e){if(gW(f)){for(var g=0;g<c.length;g++){if(!c[g].option&&null!=f.id&&c[g].exist.id===f.id+""){return c[g].option=f,void (b[e]=null)}}for(var g=0;g<c.length;g++){var d=c[g].exist;if(!(c[g].option||null!=d.id&&null!=f.id||null==f.name||tU(f)||tU(d)||d.name!==f.name+"")){return c[g].option=f,void (b[e]=null)}}}}),cW(b,function(f){if(gW(f)){for(var g=0;g<c.length;g++){var d=c[g].exist;if(!c[g].option&&!tU(d)&&null==f.id){c[g].option=f;break}}g>=c.length&&c.push({option:f})}}),c}function eX(a){var b=aaz();cW(a,function(c){var d=c.exist;d&&b.set(d.id,c)}),cW(a,function(c){var d=c.option;aav(!d||null==d.id||!b.get(d.id)||b.get(d.id)===c,"id duplicates: "+(d&&d.id)),d&&null!=d.id&&b.set(d.id,c),!c.keyInfo&&(c.keyInfo={})}),cW(a,function(e){var g=e.exist,d=e.option,f=e.keyInfo;if(gW(d)){if(f.name=null!=d.name?d.name+"":g?g.name:"\x00-",g){f.id=g.id}else{if(null!=d.id){f.id=d.id+""}else{var c=0;do{f.id="\x00"+f.name+"\x00"+c++}while(b.get(f.id))}}b.set(f.id,e)}})}function tU(a){return gW(a)&&a.id&&0===(a.id+"").indexOf("\x00_ec_\x00")}function vU(d,f){function h(z,w,m){for(var q=0,k=z.length;k>q;q++){for(var x=z[q].seriesId,j=nV(z[q].dataIndex),A=m&&m[x],p=0,y=j.length;y>p;p++){var v=j[p];A&&A[v]?A[v]=null:(w[x]||(w[x]={}))[v]=1}}}function c(j,k){var m=[];for(var l in j){if(j.hasOwnProperty(l)&&null!=j[l]){if(k){m.push(+l)}else{var i=c(j[l],!0);i.length&&m.push({seriesId:l,dataIndex:i})}}}return m}var g={},b={};return h(d||[],g),h(f||[],b,g),[c(g),c(b)]}function bY(a,b){return null!=b.dataIndexInside?b.dataIndexInside:null!=b.dataIndex?YH(b.dataIndex)?ZN(b.dataIndex,function(c){return a.indexOfRawIndex(c)}):a.indexOfRawIndex(b.dataIndex):null!=b.name?YH(b.name)?ZN(b.name,function(c){return a.indexOfName(c)}):a.indexOfName(b.name):void 0}function dX(d,f,h){if(Z1(f)){var c={};c[f+"Index"]=0,f=c}var g=h&&h.defaultMainType;!g||SF(f,g+"Index")||SF(f,g+"Id")||SF(f,g+"Name")||(f[g+"Index"]=0);var b={};return cW(f,function(e,n){var e=f[n];if("dataIndex"===n||"dataIndexInside"===n){return void (b[n]=e)}var m=n.match(/^(\w+)(Index|Id|Name)$/)||[],k=m[1],a=(m[2]||"").toLowerCase();if(!(!k||!a||null==e||"index"===a&&"none"===e||h&&h.includeMainTypes&&YR(h.includeMainTypes,k)<0)){var j={mainType:k};("index"!==a||"all"!==e)&&(j[a]=e);var p=d.queryComponents(j);b[k+"Models"]=p,b[k+"Model"]=p[0]}}),b}function cX(b,c){var f=b.dimensions;c=b.getDimension(c);for(var a=0;a<f.length;a++){var d=b.getDimensionInfo(f[a]);if(d.name===c){return d.coordDim}}}function gX(a,b){var c=[];return cW(a.dimensions,function(d){var e=a.getDimensionInfo(d);e.coordDim===b&&(c[e.coordDimIndex]=e.name)}),c}function LH(a,b){var c=[];return cW(a.dimensions,function(e){var g=a.getDimensionInfo(e),d=g.otherDims,f=d[b];null!=f&&f!==!1&&(c[f]=g.name)}),c}function SF(a,b){return a&&a.hasOwnProperty(b)}function BO(a){return[a||"",qR++,Math.random()].join(rR)}function qU(a){var b={};return a.registerSubTypeDefaulter=function(c,d){c=K8(c),b[c.main]=d},a.determineSubType=function(f,d){var e=d.type;if(!e){var c=K8(f).main;a.hasSubTypes(f)&&b[c]&&(e=b[c](d))}return e},a}function rU(b,c){function f(g){var h={},e=[];return ZR(g,function(m){var k=a(h,m),i=k.originalDeps=c(m),j=d(i,g);k.entryCount=j.length,0===k.entryCount&&e.push(m),ZR(j,function(l){YR(k.predecessor,l)<0&&k.predecessor.push(l);var n=a(h,l);YR(n.successor,l)<0&&n.successor.push(m)})}),{graph:h,noEntryList:e}}function a(g,h){return g[h]||(g[h]={predecessor:[],successor:[]}),g[h]}function d(g,h){var i=[];return ZR(g,function(e){YR(h,e)>=0&&i.push(e)}),i}b.topologicalTravel=function(A,v,n,k){function y(e){m[e].entryCount--,0===m[e].entryCount&&z.push(e)}function j(e){p[e]=!0,y(e)}if(A.length){var B=f(v),m=B.graph,z=B.noEntryList,p={};for(ZR(A,function(e){p[e]=!0});z.length;){var x=z.pop(),w=m[x],q=!!p[x];q&&(n.call(k,x,w.originalDeps.slice()),delete p[x]),ZR(w.successor,q?j:y)}ZR(p,function(){throw new Error("Circle dependency may exists")})}}}function kV(d,h,k,c,j){var b=0,g=0;null==c&&(c=1/0),null==j&&(j=1/0);var f=0;h.eachChild(function(i,w){var n,s,r=i.position,q=i.getBoundingRect(),o=h.childAt(w+1),a=o&&o.getBoundingRect();if("horizontal"===d){var e=q.width+(a?-a.x+q.x:0);n=b+e,n>c||i.newline?(b=0,n=e,g+=f+k,f=q.height):f=Math.max(f,q.height)}else{var t=q.height+(a?-a.y+q.y:0);s=g+t,s>j||i.newline?(b+=f+k,g=0,s=t,f=q.width):f=Math.max(f,q.width)}i.newline||(r[0]=b,r[1]=g,"horizontal"===d?b=n+k:g=s+k)})}function HZ(k,h,d){var g=h.width,c=h.height,j=E9(k.x,g),b=E9(k.y,c),m=E9(k.x2,g),f=E9(k.y2,c);return(isNaN(j)||isNaN(parseFloat(k.x)))&&(j=0),(isNaN(m)||isNaN(parseFloat(k.x2)))&&(m=g),(isNaN(b)||isNaN(parseFloat(k.y)))&&(b=0),(isNaN(f)||isNaN(parseFloat(k.y2)))&&(f=c),d=OK(d||0),{width:Math.max(m-j-d[1]-d[3],0),height:Math.max(f-b-d[0]-d[2],0)}}function WU(C,x,k){k=OK(k||0);var p=x.width,j=x.height,A=E9(C.left,p),b=E9(C.top,j),D=E9(C.right,p),m=E9(C.bottom,j),B=E9(C.width,p),q=E9(C.height,j),z=k[2]+k[0],y=k[1]+k[3],w=C.aspect;switch(isNaN(B)&&(B=p-D-y-A),isNaN(q)&&(q=j-m-z-b),null!=w&&(isNaN(B)&&isNaN(q)&&(w>p/j?B=0.8*p:q=0.8*j),isNaN(B)&&(B=w*q),isNaN(q)&&(q=B/w)),isNaN(A)&&(A=p-D-B-y),isNaN(b)&&(b=j-m-q-z),C.left||C.right){case"center":A=p/2-B/2-k[3];break;case"right":A=p-B-y}switch(C.top||C.bottom){case"middle":case"center":b=j/2-q/2-k[0];break;case"bottom":b=j-q-z}A=A||0,b=b||0,isNaN(B)&&(B=p-y-A-(D||0)),isNaN(q)&&(q=j-z-b-(m||0));var v=new gO(A+k[3],b+k[0],B,q);return v.margin=k,v}function NY(z,s,j,m,g){var x=!g||!g.hv||g.hv[0],b=!g||!g.hv||g.hv[1],k=g&&g.boundingMode||"all";if(x||b){var y;if("raw"===k){y="group"===z.type?new gO(0,0,+s.width||0,+s.height||0):z.getBoundingRect()}else{if(y=z.getBoundingRect(),z.needLocalTransform()){var p=z.getLocalTransform();y=y.clone(),y.applyTransform(p)}}s=WU(YW({width:y.width,height:y.height},s),j,m);var w=z.position,v=x?s.x-y.x:0,q=b?s.y-y.y:0;z.attr("position","raw"===k?[v,q]:[w[0]+v,w[1]+q])}}function SW(a,b){return null!=a[WJ[b][0]]||null!=a[WJ[b][1]]&&null!=a[WJ[b][2]]}function MY(m,h,d){function g(e,q){var a={},o=0,x={},s=0,w=2;if(kU(e,function(i){x[i]=m[i]}),kU(e,function(i){c(h,i)&&(a[i]=x[i]=h[i]),j(a,i)&&o++,j(x,i)&&s++}),p[q]){return j(h,e[1])?x[e[2]]=null:j(h,e[2])&&(x[e[1]]=null),x}if(s!==w&&o){if(o>=w){return a}for(var v=0;v<e.length;v++){var t=e[v];if(!c(a,t)&&c(m,t)){a[t]=m[t];break}}return a}return x}function c(a,i){return a.hasOwnProperty(i)}function j(a,i){return null!=a[i]&&"auto"!==a[i]}function b(a,i,l){kU(a,function(e){i[e]=l[e]})}!YJ(d)&&(d={});var p=d.ignoreSize;!YH(p)&&(p=[p,p]);var f=g(WJ[0],0),k=g(WJ[1],1);b(WJ[0],m,f),b(WJ[1],m,k)}function abf(a){return JZ({},a)}function JZ(a,b){return b&&a&&kU(HR,function(c){b.hasOwnProperty(c)&&(a[c]=b[c])}),a}function IZ(a){var b=[];return ZR(aa9.getClassesByMainType(a),function(c){MQ.apply(b,c.prototype.dependencies||[])}),ZN(b,function(c){return K8(c).main})}function PY(a,b){ZR(b,function(c,d){aa9.hasClass(d)||("object"==typeof c?a[d]=a[d]?Y5(a[d],c,!1):ZJ(c):null==a[d]&&(a[d]=c))})}function GZ(a){a=a,this.option={},this.option[LQ]=1,this._componentsMap=aaz({series:[]}),this._seriesIndices=null,PY(a,this._theme.option),Y5(a,IR,!1),this.mergeOption(a)}function TU(a,b){YH(b)||(b=b?[b]:[]);var c={};return GR(b,function(d){c[d]=(a.get(d)||[]).slice()}),c}function Y4(b,c,d){var a=c.type?c.type:d?d.subType:aa9.determineSubType(b,c);return a}function XU(a){return YQ(a,function(b){return b.componentIndex})||[]}function VU(a,b){return b.hasOwnProperty("subType")?TJ(a,function(c){return c.subType===b.subType}):a}function UU(a){ZR(FR,function(b){this[b]=YN(a[b],a)},this)}function LY(){this._coordinateSystems=[]}function OY(a){this._api=a,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function FZ(k,h,d){var g,c,j=[],b=[],m=k.timeline;if(k.baseOption&&(c=k.baseOption),(m||k.options)&&(c=c||{},j=(k.options||[]).slice()),k.media){c=c||{};var f=k.media;DU(f,function(a){a&&a.option&&(a.query?b.push(a):g||(g=a))})}return c||(c=k),c.timeline||(c.timeline=m),DU([c].concat(j).concat(ZN(b,function(a){return a.option})),function(a){DU(h,function(i){i(a,d)})}),{baseOption:c,timelineOptions:j,mediaDefault:g,mediaList:b}}function C0(b,c,f){var a={width:c,height:f,aspectratio:c/f},d=!0;return ZR(b,function(h,j){var k=j.match(h2);if(k&&k[1]&&k[2]){var g=k[1],i=k[2].toLowerCase();D0(a[i],h,g)||(d=!1)}}),d}function D0(a,b,c){return"min"===c?a>=b:"max"===c?b>=a:a===b}function aF(a,b){return a.join(",")===b.join(",")}function aau(a,b){b=b||{},DU(b,function(d,g){if(null!=d){var c=a[g];if(aa9.hasClass(g)){d=nV(d),c=nV(c);var f=uU(c,d);a[g]=aai(f,function(e){return e.option&&e.exist?EU(e.exist,e.option,!0):e.exist||e.option})}else{a[g]=EU(c,d,!0)}}})}function E0(d){var h=d&&d.itemStyle;if(h){for(var j=0,c=g2.length;c>j;j++){var b=g2[j],g=h.normal,f=h.emphasis;g&&g[b]&&(d[b]=d[b]||{},d[b].normal?Y5(d[b].normal,g[b]):d[b].normal=g[b],g[b]=null),f&&f[b]&&(d[b]=d[b]||{},d[b].emphasis?Y5(d[b].emphasis,f[b]):d[b].emphasis=f[b],f[b]=null)}}}function h8(d,f){var h=rZ(d)&&d[f],c=rZ(h)&&h.textStyle;if(c){for(var g=0,b=LG.length;b>g;g++){var f=LG[g];c.hasOwnProperty(f)&&(h[f]=c[f])}}}function n6(a){rZ(a)&&(h8(a,"normal"),h8(a,"emphasis"))}function r5(d){if(rZ(d)){E0(d),n6(d.label),n6(d.upperLabel),n6(d.edgeLabel);var h=d.markPoint;E0(h),n6(h&&h.label);var k=d.markLine;E0(d.markLine),n6(k&&k.label);var c=d.markArea;n6(c&&c.label),h8(d,"axisLabel"),h8(d,"title"),h8(d,"detail");var j=d.data;if(j){for(var b=0;b<j.length;b++){E0(j[b]),n6(j[b]&&j[b].label)}}var h=d.markPoint;if(h&&h.data){for(var g=h.data,b=0;b<g.length;b++){E0(g[b]),n6(g[b]&&g[b].label)}}var k=d.markLine;if(k&&k.data){for(var f=k.data,b=0;b<f.length;b++){YH(f[b])?(E0(f[b][0]),n6(f[b][0]&&f[b][0].label),E0(f[b][1]),n6(f[b][1]&&f[b][1].label)):(E0(f[b]),n6(f[b]&&f[b].label))}}}}function g8(a){return YH(a)?a:a?[a]:[]}function z3(a){return(YH(a)?a[0]:a)||{}}function w4(b,c){c=c.split(",");for(var d=b,a=0;a<c.length&&(d=d&&d[c[a]],null!=d);a++){}return d}function x4(d,g,j,c){g=g.split(",");for(var h,b=d,f=0;f<g.length-1;f++){h=g[f],null==b[h]&&(b[h]={}),b=b[h]}(c||null==b[g[f]])&&(b[g[f]]=j)}function o6(a){ZR(wY,function(b){b[0] in a&&!(b[1] in a)&&(a[b[1]]=a[b[0]])})}function k6(){this.group=new TH,this.uid=BO("viewChart")}function QY(a,b){if(a&&(a.trigger(b),"group"===a.type)){for(var c=0;c<a.childCount();c++){QY(a.childAt(c),b)}}}function l6(b,c,d){var a=bY(b,c);null!=a?ZR(nV(a),function(f){QY(b.getItemGraphicEl(f),d)}):b.eachItemGraphicEl(function(e){QY(e,d)})}function B8(y,p,g){function k(){m=(new Date).getTime(),v=null,y.apply(b,z||[])}var f,w,b,z,j,x=0,m=0,v=null;p=p||0;var q=function(){f=(new Date).getTime(),b=this,z=arguments;var a=j||p,c=j||g;j=null,w=f-(c?x:m)-a,clearTimeout(v),c?v=setTimeout(k,a):w>=0?k():v=setTimeout(k,-w),x=f};return q.clear=function(){v&&(clearTimeout(v),v=null)},q.debounceNextCall=function(a){j=a},q}function m6(d,h,k,c){var j=d[h];if(j){var b=j[vZ]||j,g=j[yY],f=j[i2];if(f!==k||g!==c){if(null==k||!c){return d[h]=b}j=d[h]=B8(b,k,"debounce"===c),j[vZ]=b,j[yY]=c,j[i2]=k}return j}}function v5(a,b){var c=a[b];c&&c[vZ]&&(a[b]=c[vZ])}function i8(a){return function(c,d,b){c=c&&c.toLowerCase(),lY.prototype[a].call(this,c,d,b)}}function y4(){lY.call(this)}function e8(c,f,h){function g(a,i){return a.prio-i.prio}h=h||{},"string"==typeof f&&(f=WR[f]),this.id,this.group,this._dom=c;var b="canvas",d=this._zr=Ej(c,{renderer:h.renderer||b,devicePixelRatio:h.devicePixelRatio,width:h.width,height:h.height});this._throttledZrFlush=B8(YN(d.flush,d),17);var f=ZJ(f);f&&k0(f,!0),this._theme=f,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new LY,this._api=WQ(this),lY.call(this),this._messageCenter=new y4,this._initEvents(),this.resize=YN(this.resize,this),this._pendingActions=[],WY(Y2,g),WY(HY,g),d.animation.on("frame",this._onframe,this),Zt(this)}function t5(d,h,k){var c,j=this._model,b=this._coordSysMgr.getCoordinateSystems();h=dX(j,h);for(var g=0;g<b.length;g++){var f=b[g];if(f[d]&&null!=(c=f[d](j,h,k))){return c}}}function d8(k,h,d,g,c){function j(a){a&&a.__alive&&a[h]&&a[h](a.__model,b,k._api,d)}var b=k._model;if(!g){return void sZ(k._componentsViews.concat(k._chartsViews),j)}var m={};m[g+"Id"]=d[g+"Id"],m[g+"Index"]=d[g+"Index"],m[g+"Name"]=d[g+"Name"];var f={mainType:g,query:m};c&&(f.subType=c),b&&b.eachComponent(f,function(a){j(k["series"===g?"_chartsMap":"_componentsMap"][a.__viewId])},k)}function s5(z,s){var j=z.type,m=z.escapeConnect,g=JY[j],x=g.actionInfo,k=(x.update||"update").split(":"),y=k.pop();k=null!=k[0]&&uZ(k[0]),this[IY]=!0;var q=[z],w=!1;z.batch&&(w=!0,q=ZN(z.batch,function(a){return a=YW(YY({},a),z),a.batch=null,a}));var v,r=[],b="highlight"===j||"downplay"===j;sZ(q,function(a){v=g.action(a,this._model,this._api),v=v||YY({},a),v.type=x.event||v.type,r.push(v),b?d8(this,y,a,"series"):k&&d8(this,y,a,k.main,k.sub)},this),"none"===y||b||k||(this[OX]?(abF.prepareAndUpdate.call(this,z),this[OX]=!1):abF[y].call(this,z)),v=w?{type:x.event||j,escapeConnect:m,batch:r}:r[0],this[IY]=!1,!s&&this._messageCenter.trigger(v.type,v)}function u5(a){for(var b=this._pendingActions;b.length;){var c=b.shift();s5.call(this,c,a)}}function bE(a){!a&&this.trigger("updated")}function c8(b,c,d){var a=this._api;sZ(this._componentsViews,function(f){var e=f.__model;f[b](e,c,a,d),HX(e,f)},this),c.eachSeries(function(f){var e=this._chartsMap[f.__viewId];e[b](f,c,a,d),HX(f,e),j7(f,e)},this),q5(this._zr,c),sZ(aas,function(e){e(c,a)})}function b8(d,h){for(var k="component"===d,c=k?this._componentsViews:this._chartsViews,j=k?this._componentsMap:this._chartsMap,b=this._zr,g=0;g<c.length;g++){c[g].__alive=!1}h[k?"eachComponent":"eachSeries"](function(i,o){if(k){if("series"===i){return}}else{o=i}var n="_ec_"+o.id+"_"+o.type,a=j[n];if(!a){var e=uZ(o.type),m=k?l0.getClass(e.main,e.sub):k6.getClass(e.sub);if(!m){return}a=new m,a.init(h,this._api),j[n]=a,c.push(a),b.add(a.group)}o.__viewId=a.__id=n,a.__alive=!0,a.__model=o,a.group.__ecComponentInfo={mainType:o.mainType,index:o.componentIndex}},this);for(var g=0;g<c.length;){var f=c[g];f.__alive?g++:(b.remove(f.group),f.dispose(h,this._api),c.splice(g,1),delete j[f.__id],f.__id=f.group.__ecComponentInfo=null)}}function f8(a,b){sZ(HY,function(c){c.func(a,b)})}function KZ(a){var b={};a.eachSeries(function(d){var f=d.get("stack"),c=d.getData();if(f&&"list"===c.type){var e=b[f];b.hasOwnProperty(f)&&e&&(c.stackedOn=e),b[f]=c}})}function RX(a,b){var c=this._api;sZ(Y2,function(d){d.isLayout&&d.func(a,c,b)})}function A9(b,c,d){var a=this._api;b.clearColorPalette(),b.eachSeries(function(e){e.clearColorPalette()}),sZ(Y2,function(e){(!d||!e.isLayout)&&e.func(b,a,c)})}function p6(a,b){var c=this._api;sZ(this._componentsViews,function(d){var e=d.__model;d.render(e,a,c,b),HX(e,d)},this),sZ(this._chartsViews,function(d){d.__alive=!1},this),a.eachSeries(function(d){var e=this._chartsMap[d.__viewId];e.__alive=!0,e.render(d,a,c,b),e.group.silent=!!d.get("silent"),HX(d,e),j7(d,e)},this),q5(this._zr,a),sZ(this._chartsViews,function(d){d.__alive||d.remove(a,c)},this)}function q5(b,c){var d=b.storage,a=0;d.traverse(function(e){e.isGroup||a++}),a>c.get("hoverLayerThreshold")&&!VG.node&&d.traverse(function(e){e.isGroup||(e.useHoverLayer=!0)})}function j7(d,f){var h=0;f.group.traverse(function(a){"group"===a.type||a.ignore||h++});var c=+d.get("progressive"),g=h>d.get("progressiveThreshold")&&c&&!VG.node;g&&f.group.traverse(function(a){a.isGroup||(a.progressive=g?Math.floor(h++/c):-1,g&&a.stopAnimation(!0))});var b=d.get("blendMode")||null;f.group.traverse(function(a){a.isGroup||a.setStyle("blend",b)})}function HX(b,c){var d=b.get("z"),a=b.get("zlevel");c.group.traverse(function(e){"group"!==e.type&&(null!=d&&(e.z=d),null!=a&&(e.zlevel=a))})}function WQ(a){var b=a._coordSysMgr;return YY(new UU(a),{getCoordinateSystems:YN(b.getCoordinateSystems,b),getComponentByElement:function(c){for(;c;){var d=c.__ecComponentInfo;if(null!=d){return a._model.getComponent(d.mainType,d.index)}c=c.parent}}})}function NW(d){function f(j,k){for(var l=0;l<j.length;l++){var a=j[l];a[b]=k}}var h=0,c=1,g=2,b="__connectUpdateStatus";ZR(QX,function(e,a){d._messageCenter.on(a,function(k){if(PX[d.group]&&d[b]!==h){if(k&&k.escapeConnect){return}var j=d.makeActionFromEvent(k),i=[];ZR(MX,function(l){l!==d&&l.group===d.group&&i.push(l)}),f(i,h),sZ(i,function(l){l[b]!==c&&l.dispatchAction(j)}),f(i,g)}})})}function SU(b,c,f){var a=IX(b);if(a){return a}var d=new e8(b,c,f);return d.id="ec_"+GY++,MX[d.id]=d,b.setAttribute?b.setAttribute(EZ,d.id):b[EZ]=d.id,NW(d),d}function MW(a){if(YH(a)){var b=a;a=null,ZR(b,function(c){null!=c.group&&(a=c.group)}),a=a||"g_"+DZ++,ZR(b,function(c){c.group=a})}return PX[a]=!0,a}function abd(a){PX[a]=!1}function JX(a){"string"==typeof a?a=MX[a]:a instanceof e8||(a=IX(a)),a instanceof e8&&!a.isDisposed()&&a.dispose()}function IX(a){var b;return b=a.getAttribute?a.getAttribute(EZ):a[EZ],MX[b]}function PW(a){return MX[a]}function GX(a,b){WR[a]=b}function TQ(a){UR.push(a)}function Y1(a,b){"function"==typeof a&&(b=a,a=b2),HY.push({prio:a,func:b})}function XQ(a){aas.push(a)}function VQ(b,c,d){"function"==typeof c&&(d=c,c="");var a=YJ(b)?b.type:[b,b={event:c}][0];b.event=(b.event||a).toLowerCase(),c=b.event,aav(TR.test(a)&&TR.test(c)),JY[a]||(JY[a]={action:d,actionInfo:b}),QX[c]=a}function UQ(a,b){LY.register(a,b)}function LW(a){var b=LY.get(a);return b?b.getDimensionsInfo?b.getDimensionsInfo():b.dimensions.slice():void 0}function OW(a,b){"function"==typeof a&&(b=a,a=KR),Y2.push({prio:a,func:b,isLayout:!0})}function FX(a,b){"function"==typeof a&&(b=a,a=A5),Y2.push({prio:a,func:b})}function CY(a,b){VR[a]=b}function DY(a){return aa9.extend(a)}function aE(a){return l0.extend(a)}function aar(a){return QQ.extend(a)}function EY(a){return k6.extend(a)}function h6(a){Y6("createCanvas",a)}function n4(a,b,c){b.geoJson&&!b.features&&(c=b.specialAreas,b=b.geoJson),"string"==typeof b&&(b="undefined"!=typeof JSON&&JSON.parse?JSON.parse(b):new Function("return ("+b+");")()),a2[a]={geoJson:b,specialAreas:c}}function r3(a){return a2[a]}function g6(a){return a.get("stack")||i7+a.seriesIndex}function z1(a){return a.dim+a.index}function w2(q,k){var d=[],g=q.axis,c="axis0";if("category"===g.type){for(var m=g.getBandWidth(),b=0;b<q.count;b++){d.push(YW({bandWidth:m,axisKey:c,stackId:i7+b},q))}for(var f=o4(d,k),p=[],b=0;b<q.count;b++){var j=f[c][i7+b];j.offsetCenter=j.offset+j.width/2,p.push(j)}return p}}function x2(a,b){var c=ZN(a,function(q){var k=q.getData(),g=q.coordinateSystem,j=g.getBaseAxis(),f=j.getExtent(),m="category"===j.type?j.getBandWidth():Math.abs(f[1]-f[0])/k.count(),d=E9(q.get("barWidth"),m),v=E9(q.get("barMaxWidth"),m),h=q.get("barGap"),p=q.get("barCategoryGap");return{bandWidth:m,barWidth:d,barMaxWidth:v,barGap:h,barCategoryGap:p,axisKey:z1(j),stackId:g6(q)}});return o4(c,b)}function o4(a){var b={};ZR(a,function(q){var f=q.axisKey,j=q.bandWidth,e=b[f]||{bandWidth:j,remainedWidth:j,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},m=e.stacks;b[f]=e;var d=q.stackId;m[d]||e.autoWidthCount++,m[d]=m[d]||{width:0,maxWidth:0};var v=q.barWidth;v&&!m[d].width&&(m[d].width=v,v=Math.min(e.remainedWidth,v),e.remainedWidth-=v);var g=q.barMaxWidth;g&&(m[d].maxWidth=g);var p=q.barGap;null!=p&&(e.gap=p);var k=q.barCategoryGap;null!=k&&(e.categoryGap=k)});var c={};return ZR(b,function(x,n){c[n]={};var k=x.stacks,g=x.bandWidth,v=E9(x.categoryGap,g),f=E9(x.gap,1),y=x.remainedWidth,j=x.autoWidthCount,w=(y-v)/(j+(j-1)*f);w=Math.max(w,0),ZR(k,function(d){var h=d.maxWidth;h&&w>h&&(h=Math.min(h,y),d.width&&(h=Math.min(h,d.width)),y-=h,d.width=h,j--)}),w=(y-v)/(j+(j-1)*f),w=Math.max(w,0);var m,q=0;ZR(k,function(d){d.width||(d.width=w),m=d,q+=d.width*(1+f)}),m&&(q-=m.width*f);var p=-q/2;ZR(k,function(e,d){c[n][d]=c[n][d]||{offset:p,width:e.width},p+=e.width*(1+f)})}),c}function k4(b,c){var f=x2(Y9(c.getSeriesByType(b),function(e){return !c.isSeriesFiltered(e)&&e.coordinateSystem&&"cartesian2d"===e.coordinateSystem.type})),a={},d={};c.eachSeriesByType(b,function(z){if("cartesian2d"===z.coordinateSystem.type){var q=z.getData(),x=z.coordinateSystem,i=x.getBaseAxis(),A=g6(z),k=f[z1(i)][A],y=k.offset,m=k.width,w=x.getOtherAxis(i),v=z.get("barMinHeight")||0,o=i.onZero?w.toGlobalCoord(w.dataToCoord(0)):w.getGlobalExtent()[0],n=[z.coordDimToDataDim("x")[0],z.coordDimToDataDim("y")[0]],j=q.mapArray(n,function(g,h){return x.dataToPoint([g,h])},!0);a[A]=a[A]||[],d[A]=d[A]||[],q.setLayout({offset:y,size:m}),q.each(z.coordDimToDataDim(w.dim)[0],function(F,h){if(!isNaN(F)){a[A][h]||(a[A][h]={p:o,n:o},d[A][h]={p:o,n:o});var D,e,s,u,p=F>=0?"p":"n",E=j[h],B=a[A][h][p],C=d[A][h][p];w.isHorizontal()?(D=B,e=E[1]+y,s=E[0]-C,u=m,d[A][h][p]+=s,Math.abs(s)<v&&(s=(0>s?-1:1)*v),a[A][h][p]+=s):(D=E[0]+y,e=B,s=m,u=E[1]-C,d[A][h][p]+=u,Math.abs(u)<v&&(u=(0>=u?-1:1)*v),a[A][h][p]+=u),q.setItemLayout(h,{x:D,y:e,width:s,height:u})}},!0)}},this)}function QW(a){this._setting=a||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}function l4(k,h,d,g){var c={},j=k[1]-k[0],b=c.interval=Cz(j/h,!0);null!=d&&d>b&&(b=c.interval=d),null!=g&&b>g&&(b=c.interval=g);var m=c.intervalPrecision=B7(b),f=c.niceTickExtent=[h7(Math.ceil(k[0]/b)*b,m),h7(Math.floor(k[1]/b)*b,m)];return v3(f,k),c}function B7(a){return hG(a)+2}function m4(a,b,c){a[b]=Math.max(Math.min(a[b],c[1]),c[0])}function v3(a,b){!isFinite(a[0])&&(a[0]=b[0]),!isFinite(a[1])&&(a[1]=b[1]),m4(a,0,b),m4(a,1,b),a[0]>a[1]&&(a[0]=a[1])}function i6(d,g,j,c){var h=[];if(!d){return h}var b=10000;g[0]<j[0]&&h.push(g[0]);for(var f=j[0];f<=j[1]&&(h.push(f),f=h7(f+d,c),f!==h[h.length-1]);){if(h.length>b){return[]}}return g[1]>(h.length?h[h.length-1]:j[1])&&h.push(g[1]),h}function y2(a,b){return t4(a,e7(b))}function e6(q,k){var d,g,c,m=q.type,b=k.getMin(),v=k.getMax(),f=null!=b,p=null!=v,j=q.getExtent();return"ordinal"===m?d=(k.get("data")||[]).length:(g=k.get("boundaryGap"),YH(g)||(g=[g||0,g||0]),"boolean"==typeof g[0]&&(g=[0,0]),g[0]=E9(g[0],1),g[1]=E9(g[1],1),c=j[1]-j[0]||Math.abs(j[0])),null==b&&(b="ordinal"===m?d?0:0/0:j[0]-g[0]*c),null==v&&(v="ordinal"===m?d?d-1:0/0:j[1]+g[1]*c),"dataMin"===b?b=j[0]:"function"==typeof b&&(b=b({min:j[0],max:j[1]})),"dataMax"===v?v=j[1]:"function"==typeof v&&(v=v({min:j[0],max:j[1]})),(null==b||!isFinite(b))&&(b=0/0),(null==v||!isFinite(v))&&(v=0/0),q.setBlank(aaK(b)||aaK(v)),k.getNeedCrossZero()&&(b>0&&v>0&&!f&&(b=0),0>b&&0>v&&!p&&(v=0)),[b,v]}function t3(d,h){var k=e6(d,h),c=null!=h.getMin(),j=null!=h.getMax(),b=h.get("splitNumber");"log"===d.type&&(d.base=h.get("logBase"));var g=d.type;d.setExtent(k[0],k[1]),d.niceExtent({splitNumber:b,fixMin:c,fixMax:j,minInterval:"interval"===g||"time"===g?h.get("minInterval"):null,maxInterval:"interval"===g||"time"===g?h.get("maxInterval"):null});var f=h.get("interval");null!=f&&d.setInterval&&d.setInterval(f)}function d6(a,b){if(b=b||a.get("type")){switch(b){case"category":return new s4(a.getCategories(),[1/0,-1/0]);case"value":return new x3;default:return(QW.getClass(b)||x3).create(a)}}}function s3(b){var c=b.scale.getExtent(),d=c[0],a=c[1];return !(d>0&&a>0||0>d&&0>a)}function u3(y,p,g,k,f){var w,b=0,z=0,j=(k-f)/180*Math.PI,x=1;p.length>40&&(x=Math.floor(p.length/40));for(var m=0;m<y.length;m+=x){var v=y[m],q=VY(p[m],g,"center","top");q.x+=v*Math.cos(j),q.y+=v*Math.sin(j),q.width*=1.3,q.height*=1.3,w?w.intersect(q)?(z++,b=Math.max(b,z)):(w.union(q),z=0):w=q.clone()}return 0===b&&x>1?x:(b+1)*x-1}function bB(b,c){var f=b.scale,a=f.getTicksLabels(),d=f.getTicks();return"string"==typeof c?(c=function(e){return function(g){return e.replace("{value}",null!=g?g:"")}}(c),ZN(a,c)):"function"==typeof c?ZN(d,function(g,e){return c(c6(b,g),e)},this):a}function c6(a,b){return"category"===a.type?a.scale.getLabel(b):b}function b6(a){return this._axes[a]}function f6(a){LX.call(this,a)}function KX(b,c){var f=b[1]-b[0],a=c,d=f/a/2;b[0]+=d,b[1]-=d}function RV(a){return YJ(a)&&null!=a.value?a.value:a+""}function A8(a,b){return b.type||(b.data?"category":"value")}function p4(a,b){return a.getCoordSysModel()===b}function q3(k,h){var d=h*Math.PI/180,g=k.plain(),c=g.width,j=g.height,b=c*Math.cos(d)+j*Math.sin(d),m=c*Math.sin(d)+j*Math.cos(d),f=new gO(g.x,g.y,b,m);return f}function j5(m){var h,d=m.model,g=d.getFormattedLabels(),c=d.getModel("axisLabel"),j=1,b=g.length;b>40&&(j=Math.ceil(b/40));for(var p=0;b>p;p+=j){if(!m.isLabelIgnored(p)){var f=c.getTextRect(g[p]),k=q3(f,c.get("rotate")||0);h?h.union(k):h=k}}return h}function H6(a,b,c){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(a,b,c),this.model=a}function W1(d,g,j){var c=d[g];if(j.onZero){var h=j.onZeroAxisIndex;if(null!=h){var b=c[h];return void (b&&N5(b)&&(j.onZero=!1))}for(var f in c){if(c.hasOwnProperty(f)){var b=c[f];if(b&&!N5(b)){h=+f;break}}}null==h&&(j.onZero=!1),j.onZeroAxisIndex=h}}function N5(a){return"category"===a.type||"time"===a.type||!J5(a)}function S2(b,c){var d=b.getExtent(),a=d[0]+d[1];b.toGlobalCoord="x"===b.dim?function(e){return e+c}:function(e){return a-e+c},b.toLocalCoord="x"===b.dim?function(e){return e-c}:function(e){return a-e+c}}function M5(a){return ZN(U0,function(b){var c=a.getReferringComponents(b)[0];return c})}function abm(a){return"cartesian2d"===a.get("coordinateSystem")}function J6(a){return a}function I6(b,c,f,a,d){this._old=b,this._new=c,this._oldKeyGetter=f||J6,this._newKeyGetter=a||J6,this.context=d}function P5(d,h,k,c,j){for(var b=0;b<d.length;b++){var g="_ec_"+j[c](d[b],b),f=h[g];null==f?(k.push(g),h[g]=b):(f.length||(h[g]=f=[f]),f.push(b))}}function G6(a,b){ZR(M4.concat(b.__wrappedMethods||[]),function(c){b.hasOwnProperty(c)&&(a[c]=b[c])}),a.__wrappedMethods=b.__wrappedMethods}function T1(a){this._array=a||[]}function ZF(a){return YH(a)||(a=[a]),a}function X0(k,h){var d=k.dimensions,g=new P4(ZN(d,k.getDimensionInfo,k),k.hostModel);G6(g,k);for(var c=g._storage={},j=k._storage,b=0;b<d.length;b++){var m=d[b],f=j[m];c[m]=YR(h,m)>=0?new f.constructor(j[m].length):j[m]}return g}function V1(q,H,B){function A(a,b,c){F5[b]?a.otherDims[b]=c:(a.coordDim=b,a.coordDimIndex=c,k.set(b,!0))}function L(b,c,d){if(d||null!=c.get(b)){for(var a=0;null!=c.get(b+a);){a++}b+=a}return c.set(b,!0),b}H=H||[],B=B||{},q=(q||[]).slice();var x=(B.dimsDef||[]).slice(),w=aaz(B.encodeDef),D=aaz(),k=aaz(),E=[],J=B.dimCount;if(null==J){var I=U1(H[0]);J=Math.max(YH(I)&&I.length||1,q.length,x.length),E6(q,function(a){var b=a.dimsDef;b&&(J=Math.max(J,b.length))})}for(var G=0;J>G;G++){var F=a4(x[G])?{name:x[G]}:x[G]||{},z=F.name,C=E[G]={otherDims:{}};null!=z&&null==D.get(z)&&(C.name=C.tooltipName=z,D.set(z,G)),null!=F.type&&(C.type=F.type)}w.each(function(a,b){a=w.set(b,nV(a).slice()),E6(a,function(d,c){a4(d)&&(d=D.get(d)),null!=d&&J>d&&(a[c]=d,A(E[d],b,c))})});var j=0;E6(q,function(d){var g,d,h,c;a4(d)?(g=d,d={}):(g=d.name,d=ZJ(d),h=d.dimsDef,c=d.otherDims,d.name=d.coordDim=d.coordDimIndex=d.dimsDef=d.otherDims=null);var f=nV(w.get(g));if(!f.length){for(var b=0;b<(h&&h.length||1);b++){for(;j<E.length&&null!=E[j].coordDim;){j++}j<E.length&&f.push(j++)}}E6(f,function(a,l){var e=E[a];A(abl(e,d),g,l),null==e.name&&h&&(e.name=e.tooltipName=h[l]),c&&abl(e.otherDims,c)})});for(var i=B.extraPrefix||"value",M=0;J>M;M++){var C=E[M]=E[M]||{},K=C.coordDim;null==K&&(C.coordDim=L(i,k,B.extraFromZero),C.coordDimIndex=0,C.isExtraCoord=!0),null==C.name&&(C.name=L(C.coordDim,D)),null==C.type&&jz(H,M)&&(C.type="ordinal")}return E}function U1(a){return YH(a)?a:YJ(a)?a.value:a}function L5(a){for(var b=0;b<a.length&&null==a[b];){b++}return a[b]}function O5(a){var b=L5(a);return null!=b&&!YH(jW(b))}function F6(A,w,k){A=A||[];var p=w.get("coordinateSystem"),j=pt[p],z=LY.get(p),b={encodeDef:w.get("encode"),dimsDef:w.get("dimensions")},B=j&&j(A,w,k,b),m=B&&B.dimensions;m||(m=z&&(z.getDimensionsInfo?z.getDimensionsInfo():z.dimensions.slice())||["x","y"],m=V1(m,A,b));var q=B?B.categoryIndex:-1,y=new P4(m,w),x=aN(B,A),v={},u=q>=0&&O5(A)?function(c,d,f,a){return zQ(c)&&(y.hasItemOption=!0),a===q?f:fX(jW(c),m[a])}:function(f,h,s,d){var l=jW(f),c=fX(l&&l[d],m[d]);zQ(f)&&(y.hasItemOption=!0);var g=B&&B.categoryAxesModels;return g&&g[h]&&"string"==typeof c&&(v[h]=v[h]||g[h].getCategories(),c=YR(v[h],c),0>c&&!isNaN(c)&&(c=+c)),c};return y.hasItemOption=!1,y.initData(A,x,u),y}function C7(a){return"category"!==a&&"time"!==a}function D7(a){return"category"===a?"ordinal":"time"===a?"time":"float"}function aN(d,h){var k,c=[],j=d&&d.dimensions[d.categoryIndex];if(j&&(k=d.categoryAxesModels[j.name]),k){var b=k.getCategories();if(b){var g=h.length;if(YH(h[0])&&h[0].length>1){c=[];for(var f=0;g>f;f++){c[f]=b[h[f][d.categoryIndex||0]]}}else{c=b.slice(0)}}}return c}function aaH(d,h,k,c,j,b){var g=k.getModel("label.normal"),f=k.getModel("label.emphasis");Yz(d,h,g,f,{labelFetcher:j,labelDataIndex:b,defaultText:j.getRawValue(b),isRectText:!0,autoColor:c}),E7(d),E7(h)}function E7(a,b){"outside"===a.textPosition&&(a.textPosition=b)}function iE(a,b,c){c.style.text=null,iX(c,{shape:{width:0}},b,a,function(){c.parent&&c.parent.remove(c)})}function oz(a,b,c){c.style.text=null,iX(c,{shape:{r:c.shape.r0}},b,a,function(){c.parent&&c.parent.remove(c)})}function st(B,w,k,p,j,z,b,m){var A=w.getItemVisual(k,"color"),q=w.getItemVisual(k,"opacity"),y=p.getModel("itemStyle.normal"),x=p.getModel("itemStyle.emphasis").getBarItemStyle();m||B.setShape("r",y.get("barBorderRadius")||0),B.useStyle(YW({fill:A,opacity:q},y.getBarItemStyle()));var v=p.getShallow("cursor");v&&B.attr("cursor",v);var s=b?j.height>0?"bottom":"top":j.width>0?"left":"right";m||aaH(B.style,x,p,A,z,k,s),Z9(B,x)}function hE(a,b){var c=a.get(yj)||0;return Math.min(c,Math.abs(b.width),Math.abs(b.height))}function Aj(b,c){if("image"!==this.type){var d=this.style,a=this.shape;a&&"line"===a.symbolType?d.stroke=b:this.__isEmptyBrush?(d.stroke=b,d.fill=c||"#fff"):(d.fill&&(d.fill=b),d.stroke&&(d.stroke=b)),this.dirty(!1)}}function xq(k,h,d,g,c,j,b){var m=0===k.indexOf("empty");m&&(k=k.substr(5,1).toLowerCase()+k.substr(6));var f;return f=0===k.indexOf("image://")?gq(k.slice(8),new gO(h,d,g,c),b?"center":"cover"):0===k.indexOf("path://")?cq(k.slice(7),{},new gO(h,d,g,c),b?"center":"cover"):new z9({shape:{symbolType:k,x:h,y:d,width:g,height:c}}),f.__isEmptyBrush=m,f.setColor=Aj,f.setColor(j),f}function yq(a){var b={componentType:a.mainType};return b[a.mainType+"Index"]=a.componentIndex,b}function pz(k,h,d,g){var c,j,b=yz(d-k.rotation),m=g[0]>g[1],f="start"===h&&!m||"start"!==h&&m;return pE(b-gB/2)?(j=f?"bottom":"top",c="center"):pE(b-1.5*gB)?(j=f?"top":"bottom",c="center"):(j="middle",c=1.5*gB>b&&b>gB/2?f?"left":"right":f?"right":"left"),{rotation:b,textAlign:c,textVerticalAlign:j}}function lz(a){var b=a.get("tooltip");return a.get("silent")||!(a.get("triggerEvent")||b&&b.show)}function Q5(y,p,g){var k=y.get("axisLabel.showMinLabel"),f=y.get("axisLabel.showMaxLabel");p=p||[],g=g||[];var w=p[0],b=p[1],z=p[p.length-1],j=p[p.length-2],x=g[0],m=g[1],v=g[g.length-1],q=g[g.length-2];k===!1?(mz(w),mz(x)):Ct(w,b)&&(k?(mz(b),mz(m)):(mz(w),mz(x))),f===!1?(mz(z),mz(v)):Ct(j,z)&&(f?(mz(j),mz(q)):(mz(z),mz(v)))}function mz(a){a&&(a.ignore=!0)}function Ct(b,c){var f=b&&b.getBoundingRect().clone(),a=c&&c.getBoundingRect().clone();if(f&&a){var d=Kz([]);return T9(d,d,-b.rotation),f.applyTransform(Qt([],d,b.getLocalTransform())),a.applyTransform(Qt([],d,c.getLocalTransform())),f.intersect(a)}}function nz(a){return"middle"===a||"center"===a}function wq(s,I,B){var E=I.axis;if(I.get("axisTick.show")&&!E.scale.isBlank()){for(var A=I.getModel("axisTick"),L=A.getModel("lineStyle"),w=A.get("length"),D=cB(A,B.labelInterval),q=E.getTicksCoords(A.get("alignWithLabel")),F=E.scale.getTicks(),K=I.get("axisLabel.showMinLabel"),J=I.get("axisLabel.showMaxLabel"),H=[],G=[],z=s._transform,C=[],k=q.length,b=0;k>b;b++){if(!wk(E,b,D,k,K,J)){var j=q[b];H[0]=j,H[1]=0,G[0]=j,G[1]=B.tickDirection*w,z&&(aaG(H,H,z),aaG(G,G,z));var M=new AN(Bk({anid:"tick_"+F[b],shape:{x1:H[0],y1:H[1],x2:G[0],y2:G[1]},style:YW(L.getLineStyle(),{stroke:I.get("axisLine.lineStyle.color")}),z2:2,silent:!0}));s.group.add(M),C.push(M)}}return C}}function jB(G,A,k){var x=A.axis,j=aam(k.axisLabelShow,A.get("axisLabel.show"));if(j&&!x.scale.isBlank()){var D=A.getModel("axisLabel"),b=D.get("margin"),H=x.scale.getTicks(),w=A.getFormattedLabels(),F=(aam(k.labelRotate,D.get("rotate"))||0)*gB/180,y=uq(k.rotation,F,k.labelDirection),C=A.get("data"),B=[],z=lz(A),f=A.get("triggerEvent"),q=A.get("axisLabel.showMinLabel"),E=A.get("axisLabel.showMaxLabel");return ZR(H,function(i,g){if(!wk(x,g,k.labelInterval,H.length,q,E)){var h=D;C&&C[i]&&C[i].textStyle&&(h=new RG(C[i].textStyle,D,A.ecModel));var l=h.getTextColor()||A.get("axisLine.lineStyle.color"),c=x.dataToCoord(i),e=[c,k.labelOffset+k.labelDirection*b],a=x.scale.getLabel(i),d=new PG({anid:"label_"+i,position:e,rotation:y.rotation,silent:z,z2:10});WB(d.style,h,{text:w[g],textAlign:h.getShallow("align",!0)||y.textAlign,textVerticalAlign:h.getShallow("verticalAlign",!0)||h.getShallow("baseline",!0)||y.textVerticalAlign,textFill:"function"==typeof l?l("category"===x.type?a:"value"===x.type?i+"":i,g):l}),f&&(d.eventData=yq(A),d.eventData.targetType="axisLabel",d.eventData.value=a),G._dumbGroup.add(d),d.updateTransform(),B.push(d),G.group.add(d),d.decomposeTransform()}}),B}}function zk(a,b){var c={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return fE(c,a,b),c.seriesInvolved&&eE(c,a),c}function fE(d,g,j){var c=g.getComponent("tooltip"),h=g.getComponent("axisPointer"),b=h.get("link",!0)||[],f=[];eB(j.getCoordinateSystems(),function(a){function r(w,E,u){var x=u.model.getModel("axisPointer",h),B=x.get("show");if(B&&("auto"!==B||w||gE(x))){null==E&&(E=x.get("triggerTooltip")),x=w?ut(u,p,h,g,w,E):x;var A=x.get("snap"),z=K6(u.model),n=E||A||"category"===u.type,t=d.axesInfo[z]={key:z,axis:u,coordSys:a,axisPointerModel:x,triggerTooltip:E,involveSeries:n,snap:A,useHandle:gE(x),seriesModels:[]};q[z]=t,d.seriesInvolved|=n;var D=tt(b,u);if(null!=D){var C=f[D]||(f[D]={axesInfo:{}});C.axesInfo[z]=t,C.mapper=b[D].mapper,t.linkGroup=C}}}if(a.axisPointerEnabled){var e=K6(a.model),q=d.coordSysAxesInfo[e]={};d.coordSysMap[e]=a;var i=a.model,p=i.getModel("tooltip",c);if(eB(a.getAxes(),dB(r,!1,null)),a.getTooltipAxes&&c&&p.get("show")){var o="axis"===p.get("trigger"),m="cross"===p.get("axisPointer.type"),k=a.getTooltipAxes(p.get("axisPointer.axis"));(o||m)&&eB(k.baseAxes,dB(r,m?"cross":!0,o)),m&&eB(k.otherAxes,dB(r,"cross",!1))}}})}function ut(q,j,f,d,m,b){var g=j.getModel("axisPointer"),p={};eB(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(a){p[a]=ZJ(g.get(a))}),p.snap="category"!==q.type&&!!b,"cross"===g.get("type")&&(p.type="line");var i=p.label||(p.label={});if(null==i.show&&(i.show=!1),"cross"===m&&(i.show=!0,!b)){var k=p.lineStyle=g.get("crossStyle");k&&YW(i,k.textStyle)}return q.model.getModel("axisPointer",new RG(p,f,d))}function eE(a,b){b.eachSeries(function(d){var g=d.coordinateSystem,c=d.get("tooltip.trigger",!0),f=d.get("tooltip.show",!0);g&&"none"!==c&&c!==!1&&"item"!==c&&f!==!1&&d.get("axisPointer.show",!0)!==!1&&eB(a.coordSysAxesInfo[K6(g.model)],function(h){var e=h.axis;g.getAxis(e.dim)===e&&(h.seriesModels.push(d),null==h.seriesDataCount&&(h.seriesDataCount=0),h.seriesDataCount+=d.getData().count())})},this)}function tt(d,f){for(var h=f.model,c=f.dim,g=0;g<d.length;g++){var b=d[g]||{};if(vt(b[c+"AxisId"],h.id)||vt(b[c+"AxisIndex"],h.componentIndex)||vt(b[c+"AxisName"],h.name)){return g}}}function vt(a,b){return"all"===a||YH(a)&&YR(a,b)>=0||a===b}function bK(k){var h=dE(k);if(h){var d=h.axisPointerModel,g=h.axis.scale,c=d.option,j=d.get("status"),b=d.get("value");null!=b&&(b=g.parse(b));var m=gE(d);null==j&&(c.status=m?"show":"hide");var f=g.getExtent().slice();f[0]>f[1]&&f.reverse(),(null==b||b>f[1])&&(b=f[1]),b<f[0]&&(b=f[0]),c.value=b,m&&(c.status=h.axis.scale.isBlank()?"hide":"show")}}function dE(a){var b=(a.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return b&&b.axesInfo[K6(a)]}function cE(a){var b=dE(a);return b&&b.axisPointerModel}function gE(a){return !!a.get("handle.show")}function K6(a){return a.type+"||"+a.id}function R4(d,h,k,c,j,b){var g=hB.getAxisPointerClass(d.axisPointerClass);if(g){var f=cE(h);f?(d._axisPointer||(d._axisPointer=new g)).render(h,f,c,b):Bz(d,c)}}function Bz(b,c,d){var a=b._axisPointer;a&&a.dispose(c,d),b._axisPointer=null}function qt(k,G,z){z=z||{};var C=k.coordinateSystem,y=G.axis,J={},w=y.position,q=y.onZero?"onZero":w,B=y.dim,j=C.getRect(),D=[j.x,j.x+j.width,j.y,j.y+j.height],I={left:0,right:1,top:0,bottom:1,onZero:2},H=G.get("offset")||0,F="x"===B?[D[2]-H,D[3]+H]:[D[0]-H,D[1]+H];if(y.onZero){var E=C.getAxis("x"===B?"y":"x",y.onZeroAxisIndex),x=E.toGlobalCoord(E.dataToCoord(0));F[I.onZero]=Math.max(Math.min(x,F[1]),F[0])}J.position=["y"===B?F[I[q]]:D[0],"x"===B?F[I[q]]:D[3]],J.rotation=Math.PI/2*("x"===B?0:1);var A={top:-1,bottom:1,left:-1,right:1};J.labelDirection=J.tickDirection=J.nameDirection=A[w],J.labelOffset=y.onZero?F[I[w]]-F[I.onZero]:0,G.get("axisTick.inside")&&(J.tickDirection=-J.tickDirection),aam(z.labelInside,G.get("axisLabel.inside"))&&(J.labelDirection=-J.labelDirection);var b=G.get("axisLabel.rotate");return J.labelRotate="top"===q?-b:b,J.labelInterval=y.getLabelInterval(),J.z2=1,J}function rt(b){var c,f=LH(b,"label");if(f.length){c=f[0]}else{for(var a,d=b.dimensions.slice();d.length&&(c=d.pop(),a=b.getDimensionInfo(c).type,"ordinal"===a||"time"===a);){}}return c}function kz(a,b){var c=a.getItemVisual(b,"symbolSize");return c instanceof Array?c.slice():[+c,+c]}function HV(a){return[a[0]/2,a[1]/2]}function WN(a,b,c){TH.call(this),this.updateData(a,b,c)}function NU(a,b){this.parent.drift(a,b)}function SQ(a){this.group=new TH,this._symbolCtor=a||WN}function MU(b,c,d){var a=b.getItemLayout(c);return !(!a||isNaN(a[0])||isNaN(a[1])||d&&d(c)||"none"===b.getItemVisual(c,"symbol"))}function abb(a){return a>=0?1:-1}function JV(w,m,f){for(var j,d=w.getBaseAxis(),q=w.getOtherAxis(d),b=d.onZero?0:q.scale.getExtent()[0],x=q.dim,g="x"===x||"radius"===x?1:0,v=m.stackedOn,k=m.get(x,f);v&&abb(v.get(x,f))===abb(k);){j=v;break}var p=[];return p[g]=m.get(d.dim,f),p[1-g]=j?j.get(x,f,!0):b,w.dataToPoint(p)}function IV(a,b){var c=[];return b.diff(a).add(function(d){c.push({cmd:"+",idx:d})}).update(function(d,f){c.push({cmd:"=",idx:f,idx1:d})}).remove(function(d){c.push({cmd:"-",idx:d})}).execute(),c}function PU(a){return isNaN(a[0])||isNaN(a[1])}function GV(z,L,E,H,D,P,B,A,G,w,I){for(var N=0,M=E,K=0;H>K;K++){var J=L[M];if(M>=D||0>M){break}if(PU(J)){if(I){M+=P;continue}break}if(M===E){z[P>0?"moveTo":"lineTo"](J[0],J[1]),U5(ZQ,J)}else{if(G>0){var C=M+P,F=L[C];if(I){for(;F&&PU(L[C]);){C+=P,F=L[C]}}var q=0.5,j=L[N],F=L[C];if(!F||PU(F)){U5(W5,J)}else{PU(F)&&!I&&(F=J),aaQ(aaN,F,j);var k,Q;if("x"===w||"y"===w){var O="x"===w?0:1;k=Math.abs(J[O]-j[O]),Q=Math.abs(J[O]-F[O])}else{k=oY(J,j),Q=oY(J,F)}q=Q/(Q+k),Ij(W5,J,aaN,-G*(1-q))}Kj(ZQ,ZQ,A),Q8(ZQ,ZQ,B),Kj(W5,W5,A),Q8(W5,W5,B),z.bezierCurveTo(ZQ[0],ZQ[1],W5[0],W5[1],J[0],J[1]),Ij(ZQ,J,aaN,G*q)}else{z.lineTo(J[0],J[1])}}N=M,M+=P}return K}function TN(d,f){var h=[1/0,1/0],c=[-1/0,-1/0];if(f){for(var g=0;g<d.length;g++){var b=d[g];b[0]<h[0]&&(h[0]=b[0]),b[1]<h[1]&&(h[1]=b[1]),b[0]>c[0]&&(c[0]=b[0]),b[1]>c[1]&&(c[1]=b[1])}}return{min:f?h:c,max:f?c:h}}function YX(b,c){if(b.length===c.length){for(var f=0;f<b.length;f++){var a=b[f],d=c[f];if(a[0]!==d[0]||a[1]!==d[1]){return}}return !0}}function XN(a){return"number"==typeof a?a:a?0.3:0}function VN(b){var c=b.getGlobalExtent();if(b.onBand){var d=b.getBandWidth()/2-1,a=c[1]>c[0]?1:-1;c[0]+=a*d,c[1]-=a*d}return c}function UN(a){return a>=0?1:-1}function LU(d,h){var k=d.getBaseAxis(),c=d.getOtherAxis(k),j=0;if(!k.onZero){var b=c.scale.getExtent();b[0]>0?j=b[0]:b[1]<0&&(j=b[1])}var g=c.dim,f="x"===g||"radius"===g?1:0;return h.mapArray([g],function(o,m){for(var e,n=h.stackedOn;n&&UN(n.get(g,m))===UN(o);){e=n;break}var p=[];return p[f]=h.get(k.dim,m),p[1-f]=e?e.get(g,m,!0):j,d.dataToPoint(p)},!0)}function OU(y,p,g){var k=VN(y.getAxis("x")),f=VN(y.getAxis("y")),w=y.getBaseAxis().isHorizontal(),b=Math.min(k[0],k[1]),z=Math.min(f[0],f[1]),j=Math.max(k[0],k[1])-b,x=Math.max(f[0],f[1])-z,m=g.get("lineStyle.normal.width")||2,v=g.get("clipOverflow")?m/2:Math.max(j,x);w?(z-=v,x+=2*v):(b-=v,j+=2*v);var q=new hW({shape:{x:b,y:z,width:j,height:x}});return p&&(q.shape[w?"width":"height"]=0,oV(q,{shape:{width:j,height:x}},g)),q}function FV(k,h,d){var g=k.getAngleAxis(),c=k.getRadiusAxis(),j=c.getExtent(),b=g.getExtent(),m=Math.PI/180,f=new aY({shape:{cx:k.cx,cy:k.cy,r0:j[0],r:j[1],startAngle:-b[0]*m,endAngle:-b[1]*m,clockwise:g.inverse}});return h&&(f.shape.endAngle=-b[0]*m,oV(f,{shape:{endAngle:-b[1]*m}},d)),f}function CW(a,b,c){return"polar"===a.type?FV(a,b,c):OU(a,b,c)}function DW(w,m,f){for(var j=m.getBaseAxis(),d="x"===j.dim||"radius"===j.dim?0:1,q=[],b=0;b<w.length-1;b++){var x=w[b+1],g=w[b];q.push(g);var v=[];switch(f){case"end":v[d]=x[d],v[1-d]=g[1-d],q.push(v);break;case"middle":var k=(g[d]+x[d])/2,p=[];v[d]=p[d]=k,v[1-d]=g[1-d],p[1-d]=x[1-d],q.push(v),q.push(p);break;default:v[d]=g[d],v[1-d]=x[1-d],q.push(v)}}return w[b]&&q.push(w[b]),q}function aB(E,y){var j=E.getVisual("visualMeta");if(j&&j.length&&E.count()){for(var w,g=j.length-1;g>=0;g--){if(j[g].dimension<2){w=j[g];break}}if(w&&"cartesian2d"===y.type){var B=w.dimension,b=E.dimensions[B],F=y.getAxis(b),q=ZN(w.stops,function(a){return{coord:F.toGlobalCoord(F.dataToCoord(a.value)),color:a.color}}),D=q.length,x=w.outerColors.slice();D&&q[0].coord>q[D-1].coord&&(q.reverse(),x.reverse());var A=10,z=q[0].coord-A,f=q[D-1].coord+A,k=f-z;if(0.001>k){return"transparent"}ZR(q,function(a){a.offset=(a.coord-z)/k}),q.push({offset:D?q[D-1].offset:0.5,color:x[1]||"transparent"}),q.unshift({offset:D?q[0].offset:0.5,color:x[0]||"transparent"});var C=new mU(0,0,0,0,q,!0);return C[b]=z,C[b+"2"]=f,C}}}function aan(d,h,k,c){var j=h.getData(),b=this.dataIndex,g=j.getName(b),f=h.get("selectedOffset");c.dispatchAction({type:"pieToggleSelect",from:d,name:g,seriesId:h.id}),j.each(function(a){EW(j.getItemGraphicEl(a),j.getItemLayout(a),h.isSelected(j.getName(a)),f,k)})}function EW(m,h,d,g,c){var j=(h.startAngle+h.endAngle)/2,b=Math.cos(j),p=Math.sin(j),f=d?g:0,k=[b*f,p*f];c?m.animate().when(200,{position:k}).start("bounceOut"):m.attr("position",k)}function h4(d,g){function j(){b.ignore=b.hoverIgnore,f.ignore=f.hoverIgnore}function c(){b.ignore=b.normalIgnore,f.ignore=f.normalIgnore}TH.call(this);var h=new aY({z2:2}),b=new sR,f=new PG;this.add(h),this.add(b),this.add(f),this.updateData(d,g,!0),this.on("emphasis",j).on("normal",c).on("mouseover",j).on("mouseout",c)}function n2(E,z,m,v,k,C,b){function F(c,f,a){for(var d=c;f>d;d++){if(E[d].y+=a,d>c&&f>d+1&&E[d+1].y>E[d].y+E[d].height){return void q(d,a/2)}}q(f-1,a/2)}function q(c,d){for(var a=c;a>=0&&(E[a].y-=d,!(a>0&&E[a].y>E[a-1].y+E[a-1].height));a--){}}function D(O,J,p,H,g,M){for(var f=M>0?J?Number.MAX_VALUE:0:J?Number.MAX_VALUE:0,P=0,G=O.length;G>P;P++){if("center"!==O[P].position){var N=Math.abs(O[P].y-H),I=O[P].len,L=O[P].len2,K=g+I>N?Math.sqrt((g+I+L)*(g+I+L)-N*N):Math.abs(O[P].x-p);J&&K>=f&&(K=f-10),!J&&f>=K&&(K=f+10),O[P].x=p+K*M,f=K}}}E.sort(function(a,c){return a.y-c.y});for(var w,B=0,A=E.length,y=[],x=[],j=0;A>j;j++){w=E[j].y-B,0>w&&F(j,A,-w,k),B=E[j].y+E[j].height}0>b-B&&q(A-1,B-b);for(var j=0;A>j;j++){E[j].y>=m?x.push(E[j]):y.push(E[j])}D(y,!1,z,m,v,k),D(x,!0,z,m,v,k)}function r1(q,k,d,g,c,m){for(var b=[],v=[],f=0;f<q.length;f++){q[f].x<k?b.push(q[f]):v.push(q[f])}n2(v,k,d,g,1,c,m),n2(b,k,d,g,-1,c,m);for(var f=0;f<q.length;f++){var p=q[f].linePoints;if(p){var j=p[1][0]-p[2][0];p[2][0]=q[f].x<k?q[f].x+3:q[f].x-3,p[1][1]=p[2][1]=q[f].y,p[1][0]=p[2][0]+j}}}function g4(){this.group=new TH,this._symbolEl=new mF({})}function zZ(b,c,d,a){TH.call(this),this.bodyIndex,this.whiskerIndex,this.styleUpdater=d,this._createContent(b,c,a),this.updateData(b,c,a),this._seriesModel}function w0(a,b,c){return ZN(a,function(d){return d=d.slice(),d[b]=c.initBaseline,d})}function x0(a){var b={};return ZR(a,function(c,d){b["ends"+d]=c}),b}function o2(a){this.group=new TH,this.styleUpdater=a}function k2(q,k,d){var g=k.getItemModel(d),c=g.getModel(vE),m=k.getItemVisual(d,"color"),b=k.getItemVisual(d,"borderColor")||m,v=c.getItemStyle(["color","color0","borderColor","borderColor0"]),f=q.childAt(q.whiskerIndex);f.useStyle(v),f.style.stroke=b;var p=q.childAt(q.bodyIndex);p.useStyle(v),p.style.fill=m,p.style.stroke=b;var j=g.getModel(fH).getItemStyle();Z9(q,j)}function QU(d,h){var k,c=d.getBaseAxis(),j="category"===c.type?c.getBandWidth():(k=c.getExtent(),Math.abs(k[1]-k[0])/h.count()),b=E9(L9(d.get("barMaxWidth"),j),j),g=E9(L9(d.get("barMinWidth"),1),j),f=d.get("barWidth");return null!=f?E9(f,j):Math.max(Math.min(j/2,b),g)}function l2(a,b,c){q4.call(this,a,b,c),this.type="value",this.angle=0,this.name="",this.model}function B6(a,b,c){this._model=a,this.dimensions=[],this._indicatorAxes=ZN(a.getIndicatorModels(),function(f,g){var h="indicator_"+g,d=new l2(h,new x3);return d.name=f.get("name"),d.model=f,f.axis=d,this.dimensions.push(h),d},this),this.resize(a,c),this.cx,this.cy,this.r,this.startAngle}function m2(a,b){return YW({show:b},a)}function v1(a){return YH(a)||(a=[+a,+a]),a}function i4(){var a=nY();this.canvas=a,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}function y0(d,f,h){var c=d[1]-d[0];f=ZN(f,function(a){return{interval:[(a.interval[0]-d[0])/c,(a.interval[1]-d[0])/c]}});var g=f.length,b=0;return function(e){for(var a=b;g>a;a++){var j=f[a].interval;if(j[0]<=e&&e<=j[1]){b=a;break}}if(a===g){for(var a=b-1;a>=0;a--){var j=f[a].interval;if(j[0]<=e&&e<=j[1]){b=a;break}}}return a>=0&&g>a&&h[a]}}function e4(a,b){var c=a[1]-a[0];return b=[(b[0]-a[0])/c,(b[1]-a[0])/c],function(d){return d>=b[0]&&d<=b[1]}}function t1(a){var b=a.dimensions;return"lng"===b[0]&&"lat"===b[1]}function d4(a){var b=a.mainData,c=a.datas;c||(c={main:b},a.datasAttr={main:"data"}),a.datas=a.mainData=null,f4(b,c,a),OV(c,function(d){OV(b.TRANSFERABLE_METHODS,function(f){d.wrapMethod(f,YG(s1,a))})}),b.wrapMethod("cloneShallow",YG(bz,a)),OV(b.CHANGABLE_METHODS,function(d){b.wrapMethod(d,YG(u1,a))}),aav(c[b.dataType]===b)}function s1(a,b){if(b4(this)){var c=YY({},this[TO]);c[this.dataType]=b,f4(b,c,a)}else{KV(b,this.dataType,this[NV],a)}return b}function u1(a,b){return a.struct&&a.struct.update(this),b}function bz(a,b){return OV(b[TO],function(d,c){d!==b&&KV(d.cloneShallow(),c,b,a)}),b}function c4(a){var b=this[NV];return null==a||null==b?b:b[TO][a]}function b4(a){return a[NV]===a}function f4(a,b,c){a[TO]={},OV(b,function(f,d){KV(f,d,a,c)})}function KV(b,c,d,a){d[TO][c]=b,b[NV]=d,b.dataType=c,a.struct&&(b[a.structAttr]=a.struct,a.struct[a.datasAttr[c]]=b),b.getLinkedData=c4}function RR(a,b,c){this.root,this.data,this._nodes=[],this.hostModel=a,this.levelModels=ZN(b||[],function(d){return new RG(d,a,a.ecModel)}),this.leavesModel=new RG(c||{},a,a.ecModel)}function A7(a,b){var c=b.children;a.parentNode!==b&&(c.push(a),a.parentNode=b)}function p2(d){d.hierNode={defaultAncestor:null,ancestor:d,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var g,j,c=[d];g=c.pop();){if(j=g.children,g.isExpand&&j.length){for(var h=j.length,b=h-1;b>=0;b--){var f=j[b];f.hierNode={defaultAncestor:null,ancestor:f,prelim:0,modifier:0,change:0,shift:0,i:b,thread:null},c.push(f)}}}}function q1(d,f){var h=d.isExpand?d.children:[],c=d.parentNode.children,g=d.hierNode.i?c[d.hierNode.i-1]:null;if(h.length){S7(d);var b=(h[0].hierNode.prelim+h[h.length-1].hierNode.prelim)/2;g?(d.hierNode.prelim=g.hierNode.prelim+f(d,g),d.hierNode.modifier=d.hierNode.prelim-b):d.hierNode.prelim=b}else{g&&(d.hierNode.prelim=g.hierNode.prelim+f(d,g))}d.parentNode.hierNode.defaultAncestor=Nj(d,g,d.parentNode.hierNode.defaultAncestor||c[0],f)}function j3(a){var b=a.hierNode.prelim+a.parentNode.hierNode.modifier;a.setLayout({x:b},!0),a.hierNode.modifier+=a.parentNode.hierNode.modifier}function Ik(a){return arguments.length?a:Hk}function W6(a,b){var c={};return a-=Math.PI/2,c.x=b*Math.cos(a),c.y=b*Math.sin(a),c}function Oj(a,b){return WU(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})}function S7(d){for(var f=d.children,h=f.length,c=0,g=0;--h>=0;){var b=f[h];b.hierNode.prelim+=c,b.hierNode.modifier+=c,g+=b.hierNode.change,c+=b.hierNode.shift+g}}function Nj(y,p,g,k){if(p){for(var f=y,w=y,b=w.parentNode.children[0],z=p,j=f.hierNode.modifier,x=w.hierNode.modifier,m=b.hierNode.modifier,v=z.hierNode.modifier;z=abr(z),w=Kk(w),z&&w;){f=abr(f),b=Kk(b),f.hierNode.ancestor=y;var q=z.hierNode.prelim+v-w.hierNode.prelim-x+k(z,w);q>0&&(Qj(Jk(z,y,g),y,q),x+=q,j+=q),v+=z.hierNode.modifier,x+=w.hierNode.modifier,j+=f.hierNode.modifier,m+=b.hierNode.modifier}z&&!abr(f)&&(f.hierNode.thread=z,f.hierNode.modifier+=v-j),w&&!Kk(b)&&(b.hierNode.thread=w,b.hierNode.modifier+=x-m,g=y)}return g}function abr(a){var b=a.children;return b.length&&a.isExpand?b[b.length-1]:a.hierNode.thread}function Kk(a){var b=a.children;return b.length&&a.isExpand?b[0]:a.hierNode.thread}function Jk(a,b,c){return a.hierNode.ancestor.parentNode===b.parentNode?a.hierNode.ancestor:c}function Qj(b,c,d){var a=d/(c.hierNode.i-b.hierNode.i);c.hierNode.change-=a,c.hierNode.shift+=d,c.hierNode.modifier+=d,c.hierNode.prelim+=d,b.hierNode.change+=a}function Hk(a,b){return a.parentNode===b.parentNode?1:2}function T6(a,b){var c=a.getItemLayout(b);return c&&!isNaN(c.x)&&!isNaN(c.y)&&"none"!==a.getItemVisual(b,"symbol")}function ZU(a,b,c){return c.itemModel=b,c.itemStyle=b.getModel("itemStyle.normal").getItemStyle(),c.hoverItemStyle=b.getModel("itemStyle.emphasis").getItemStyle(),c.lineStyle=b.getModel("lineStyle.normal").getLineStyle(),c.labelModel=b.getModel("label.normal"),c.hoverLabelModel=b.getModel("label.emphasis"),c.symbolInnerColor=a.isExpand===!1&&0!==a.children.length?c.itemStyle.fill:"#fff",c}function X5(C,O,G,J,F,T){var D=!G,I=C.tree.getNodeByDataIndex(O),B=I.getModel(),T=ZU(I,B,T),K=C.tree.root,Q=I.parentNode===K?I:I.parentNode||I,P=C.getItemGraphicEl(Q.dataIndex),N=Q.getLayout(),L=P?{x:P.position[0],y:P.position[1],rawX:P.__radialOldRawX,rawY:P.__radialOldRawY}:N,E=I.getLayout();D?(G=new WN(C,O,T),G.attr("position",[L.x,L.y])):G.updateData(C,O,T),G.__radialOldRawX=G.__radialRawX,G.__radialOldRawY=G.__radialRawY,G.__radialRawX=E.rawX,G.__radialRawY=E.rawY,J.add(G),C.setItemGraphicEl(O,G),iX(G,{position:[E.x,E.y]},F);var H=G.getSymbolPath();if("radial"===T.layout){var A,q,s=K.children[0],U=s.getLayout(),R=s.children.length;if(E.x===U.x&&I.isExpand===!0){var z={};z.x=(s.children[0].getLayout().x+s.children[R-1].getLayout().x)/2,z.y=(s.children[0].getLayout().y+s.children[R-1].getLayout().y)/2,A=Math.atan2(z.y-U.y,z.x-U.x),0>A&&(A=2*Math.PI+A),q=z.x<U.x,q&&(A-=Math.PI)}else{A=Math.atan2(E.y-U.y,E.x-U.x),0>A&&(A=2*Math.PI+A),0===I.children.length||0!==I.children.length&&I.isExpand===!1?(q=E.x<U.x,q&&(A-=Math.PI)):(q=E.x>U.x,q||(A-=Math.PI))}var j=q?"left":"right";H.setStyle({textPosition:j,textRotation:-A,textOrigin:"center",verticalAlign:"middle"})}if(I.parentNode&&I.parentNode!==K){var k=G.__edge;k||(k=G.__edge=new yQ({shape:U6(T,L,L),style:YW({opacity:0},T.lineStyle)})),iX(k,{shape:U6(T,N,E),style:{opacity:1}},F),J.add(k)}}function V6(w,m,f,j,d,q){for(var b,x=w.tree.getNodeByDataIndex(m),g=w.tree.root,v=x.getModel(),q=ZU(x,v,q),k=x.parentNode===g?x:x.parentNode||x;b=k.getLayout(),null==b;){k=k.parentNode===g?k:k.parentNode||k}iX(f,{position:[b.x+1,b.y+1]},d,function(){j.remove(f),w.setItemGraphicEl(m,null)}),f.fadeOut(null,{keepLabel:!0});var p=f.__edge;p&&iX(p,{shape:U6(q,b,b),style:{opacity:0}},d,function(){j.remove(p)})}function U6(E,z,m){var v,k,C,b,F=E.orient;if("radial"===E.layout){var q=z.rawX,D=z.rawY,w=m.rawX,B=m.rawY,A=W6(q,D),y=W6(q,D+(B-D)*E.curvature),x=W6(w,B+(D-B)*E.curvature),j=W6(w,B);return{x1:A.x,y1:A.y,x2:j.x,y2:j.y,cpx1:y.x,cpy1:y.y,cpx2:x.x,cpy2:x.y}}var q=z.x,D=z.y,w=m.x,B=m.y;return"horizontal"===F&&(v=q+(w-q)*E.curvature,k=D,C=w+(q-w)*E.curvature,b=B),"vertical"===F&&(v=q,k=D+(B-D)*E.curvature,C=w,b=B+(D-B)*E.curvature),{x1:q,y1:D,x2:w,y2:B,cpx1:v,cpy1:k,cpx2:C,cpy2:b}}function Mj(d,h,k){for(var c,j=[d],b=[];c=j.pop();){if(b.push(c),c.isExpand){var g=c.children;if(g.length){for(var f=0;f<g.length;f++){j.push(g[f])}}}}for(;c=b.pop();){h(c,k)}}function Pj(d,f){for(var h,c=[d];h=c.pop();){if(f(h),h.isExpand){var g=h.children;if(g.length){for(var b=g.length-1;b>=0;b--){c.push(g[b])}}}}}function Gk(b,c){if(b&&("treemapZoomToNode"===b.type||"treemapRootToNode"===b.type)){var f=c.getData().tree.root,a=b.targetNode;if(a&&f.contains(a)){return{node:a}}var d=b.targetNodeId;if(null!=d&&(a=f.getNodeById(d))){return{node:a}}}}function Dq(a){for(var b=[];a;){a=a.parentNode,a&&b.push(a)}return b.reverse()}function Eq(a,b){var c=Dq(a);return YR(c,b)>=0}function aQ(b,c){for(var d=[];b;){var a=b.dataIndex;d.push({name:b.name,dataIndex:a,value:c.getRawValue(a)}),b=b.parentNode}return d.reverse(),d}function aaP(a){var b=0;ZR(a.children,function(d){aaP(d);var e=d.value;YH(e)&&(e=e[0]),b+=e});var c=a.value;YH(c)&&(c=c[0]),(null==c||isNaN(c))&&(c=b),0>c&&(c=0),YH(a.value)?a.value[0]=c:a.value=c}function Fk(b,c){var f=c.get("color");if(f){b=b||[];var a;if(ZR(b,function(g){var h=new RG(g),i=h.get("color");(h.get("itemStyle.normal.color")||i&&"none"!==i)&&(a=!0)}),!a){var d=b[0]||(b[0]={});d.color=f.slice()}return b}}function iJ(a){this.group=new TH,a.add(this.group)}function oG(d,g,j,c,h,b){var f=[[h?d:d-aap,g],[d+j,g],[d+j,g+c],[h?d:d-aap,g+c]];return !b&&f.splice(2,0,[d+j+aap,g+c/2]),!h&&f.push([d,g+c/2]),f}function sF(a,b,c){a.eventData={componentType:"series",componentSubType:"treemap",seriesIndex:b.componentIndex,seriesName:b.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:c&&c.dataIndex,name:c&&c.name},treePathInfo:c&&aQ(c,b)}}function hJ(b,c,d){var a=yE(b);a[c]=d}function Az(b,c,f){var a=yE(b),d=a[c];d===f&&(a[c]=null)}function xE(a,b){return !!yE(a)[b]}function yE(a){return a[YZ]||(a[YZ]={})}function pG(d){this.pointerChecker,this._zr=d,this._opt={};var g=YN,i=g(lG,this),h=g(Q9,this),c=g(mG,this),f=g(CB,this),b=g(nG,this);lY.call(this),this.setPointerChecker=function(a){this.pointerChecker=a},this.enable=function(j,a){this.disable(),this._opt=YW(ZJ(a)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}),null==j&&(j=!0),(j===!0||"move"===j||"pan"===j)&&(d.on("mousedown",i),d.on("mousemove",h),d.on("mouseup",c)),(j===!0||"scale"===j||"zoom"===j)&&(d.on("mousewheel",f),d.on("pinch",b))},this.disable=function(){d.off("mousedown",i),d.off("mousemove",h),d.off("mouseup",c),d.off("mousewheel",f),d.off("pinch",b)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function lG(a){if(!(T4(a)||a.target&&a.target.draggable)){var b=a.offsetX,c=a.offsetY;this.pointerChecker&&this.pointerChecker(a,b,c)&&(this._x=b,this._y=c,this._dragging=!0)}}function Q9(d){if(!T4(d)&&jH(this,"moveOnMouseMove",d)&&this._dragging&&"pinch"!==d.gestureEvent&&!xE(this._zr,"globalPan")){var g=d.offsetX,j=d.offsetY,c=this._x,h=this._y,b=g-c,f=j-h;this._x=g,this._y=j,this._opt.preventDefaultMouseMove&&e1(d.event),this.trigger("pan",b,f,c,h,g,j)}}function mG(a){T4(a)||(this._dragging=!1)}function CB(a){if(jH(this,"zoomOnMouseWheel",a)&&0!==a.wheelDelta){var b=a.wheelDelta>0?1.1:1/1.1;wE.call(this,a,b,a.offsetX,a.offsetY)}}function nG(a){if(!xE(this._zr,"globalPan")){var b=a.pinchScale>1?1.1:1/1.1;wE.call(this,a,b,a.pinchX,a.pinchY)}}function wE(b,c,d,a){this.pointerChecker&&this.pointerChecker(b,d,a)&&(e1(b.event),this.trigger("zoom",c,d,a))}function jH(b,c,d){var a=b._opt[c];return a&&(!Z1(a)||d.event[a+"Key"])}function zB(){var a,b=[],c={};return{add:function(f,e,h,d,g){return Z1(d)&&(g=d,d=0),c[f.id]?!1:(c[f.id]=1,b.push({el:f,target:e,time:h,delay:d,easing:g}),!0)},done:function(d){return a=d,this},start:function(){function e(){h--,h||(b.length=0,c={},a&&a())}for(var h=b.length,d=0,g=b.length;g>d;d++){var f=b[d];f.el.animateTo(f.target,f.time,f.delay,f.easing,e)}return this}}}function fJ(){return{nodeGroup:[],background:[],content:[]}}function uF(Q,af,Y,X,ak,T,aa,N,ac,ah){function ag(d,g,c){g.dataIndex=aa.dataIndex,g.seriesIndex=Q.seriesIndex,g.setShape({x:0,y:0,width:al,height:ai});var f=aa.getVisual("borderColor",!0),b=j.get("borderColor");ad(g,function(){var a=h5(B);a.fill=f;var k=s2(j);if(k.fill=b,c){var h=al-2*J;W(a,k,f,h,R,{x:J,y:0,width:h,height:R})}else{a.text=k.text=null}g.setStyle(a),Z9(g,k)}),d.add(g)}function ae(d,g){g.dataIndex=aa.dataIndex,g.seriesIndex=Q.seriesIndex;var c=Math.max(al-2*J,0),f=Math.max(ai-2*J,0);g.culling=!0,g.setShape({x:J,y:J,width:c,height:f});var b=aa.getVisual("color",!0);ad(g,function(){var a=h5(B);a.fill=b;var h=s2(j);W(a,h,b,c,f),g.setStyle(a),Z9(g,h)}),d.add(g)}function ad(a,b){i?!a.invisible&&T.push(a):(b(),a.__tmWillVisible||(a.invisible=!1))}function W(v,l,k,y,b,A){var z=aa.getModel(),m=aam(Q.getFormattedLabel(aa.dataIndex,"normal",null,null,A?"upperLabel":"label"),z.get("name"));if(!A&&H.isLeafRoot){var x=Q.get("drillDownIcon",!0);m=x?x+" "+m:m}var w=z.getModel(A?a1:DX),t=z.getModel(A?abc:EX),p=w.getShallow("show");Yz(v,l,w,t,{defaultText:p?m:null,autoColor:k,isRectText:!0}),A&&(v.textRect=ZJ(A)),v.truncate=p&&w.get("ellipsis")?{outerWidth:y,outerHeight:b,minChar:2}:null}function Z(c,b,f,e){var d=null!=G&&Y[c][G],a=ak[c];return d?(Y[c][G]=null,K(a,d,c)):i||(d=new b({z:eJ(f,e)}),d.__tmDepth=f,d.__tmStorageName=c,F(a,d,c)),af[c][r]=d}function K(b,c,d){var a=b[r]={};a.old="nodeGroup"===d?c.position.slice():YY({},c.shape)}function F(c,k,l){var b=c[r]={},g=aa.parentNode;if(g&&(!X||"drillDown"===X.direction)){var f=0,a=0,d=ak.background[g.getRawIndex()];!X&&d&&d.old&&(f=d.old.width,a=d.old.height),b.old="nodeGroup"===l?[0,a]:{x:f,y:a,width:0,height:0}}b.fadein="nodeGroup"!==l}if(aa){var H=aa.getLayout();if(H&&H.isInView){var al=H.width,ai=H.height,J=H.borderWidth,i=H.invisible,r=aa.getRawIndex(),G=N&&N.getRawIndex(),V=aa.viewChildren,R=H.upperHeight,U=V&&V.length,B=aa.getModel("itemStyle.normal"),j=aa.getModel("itemStyle.emphasis"),ab=Z("nodeGroup",VO);if(ab){if(ac.add(ab),ab.attr("position",[H.x||0,H.y||0]),ab.__tmNodeWidth=al,ab.__tmNodeHeight=ai,H.isAboveViewRoot){return ab}var q=Z("background",MV,ah,i5);if(q&&ag(ab,q,U&&H.upperHeight),!U){var E=Z("content",MV,ah,o3);E&&ae(ab,E)}return ab}}}}function eJ(a,b){var c=a*FW+b;return(c-1)/c}function tF(a){var b=a.pieceList;a.hasSpecialVisual=!1,ZR(b,function(c,d){c.originIndex=d,null!=c.visual&&(a.hasSpecialVisual=!0)})}function vF(d){var f=d.categories,h=d.visual,c=d.categoryMap={};if(p3(f,function(a,i){c[a]=i}),!YH(h)){var g=[];YJ(h)?p3(h,function(a,i){var j=c[i];g[null!=j?j:RU]=a}):g[RU]=h,h=rF(d,g)}for(var b=f.length-1;b>=0;b--){null==h[b]&&(delete c[f[b]],f.pop())}}function bO(b,c){var f=b.visual,a=[];YJ(f)?p3(f,function(e){a.push(e)}):null!=f&&a.push(f);var d={color:1,symbol:1};c||1!==a.length||d.hasOwnProperty(b.type)||(a[1]=a[0]),rF(b,a)}function dJ(a){return{applyVisual:function(c,d,b){c=this.mapValueToVisual(c),b("color",a(d("color"),c))},_doMap:BE([0,1])}}function cJ(a){var b=this.option.visual;return b[Math.round(aaM(a,[0,1],[0,b.length-1],!0))]||{}}function gJ(a){return function(c,d,b){b(a,this.mapValueToVisual(c))}}function Lj(a){var b=this.option.visual;return b[this.option.loop&&a!==RU?a%b.length:a]}function R8(){return this.option.visual[0]}function BE(a){return{linear:function(b){return aaM(b,a,this.option.visual,!0)},category:Lj,piecewise:function(c,d){var b=qF.call(this,d);return null==b&&(b=aaM(c,a,this.option.visual,!0)),b},fixed:R8}}function qF(b){var c=this.option,f=c.pieceList;if(c.hasSpecialVisual){var a=m3.findPieceIndex(b,f),d=f[a];if(d&&d.visual){return d.visual[this.type]}}}function rF(a,b){return a.visual=b,"color"===a.type&&(a.parsedVisual=ZN(b,function(c){return sJ(c)})),b}function kG(a,b,c){return a?c>=b:c>b}function IF(E,z,k,w,j,C){var b=E.getModel(),F=E.getLayout();if(F&&!F.invisible&&F.isInView){var v,D=E.getModel(j4),x=k[E.depth],B=Xq(D,z,x,w),A=D.get("borderColor"),y=D.get("borderColorSaturation");null!=y&&(v=OE(B,E),A=Tq(y,v)),E.setVisual("borderColor",A);var f=E.viewChildren;if(f&&f.length){var q=aby(E,b,F,D,B,f);ZR(f,function(a,d){if(a.depth>=j.length||a===j[a.depth]){var c=JF(b,B,a,d,q,C);IF(a,c,k,w,j,C)}})}else{v=OE(B,E),E.setVisual("color",v)}}}function Xq(b,c,f,a){var d=YY({},c);return ZR(["color","colorAlpha","colorSaturation"],function(e){var g=b.get(e,!0);null==g&&f&&(g=f[e]),null==g&&(g=c[e]),null==g&&(g=a.get(e)),null!=g&&(d[e]=g)}),d}function OE(b){var c=NE(b,"color");if(c){var d=NE(b,"colorAlpha"),a=NE(b,"colorSaturation");return a&&(c=lK(c,null,null,a)),d&&(c=Rq(c,d)),c}}function Tq(a,b){return null!=b?lK(b,null,null,a):null}function NE(a,b){var c=a[b];return null!=c&&"none"!==c?c:void 0}function aby(y,p,g,k,f,w){if(w&&w.length){var b=KF(p,"color")||null!=f.color&&"none"!==f.color&&(KF(p,"colorAlpha")||KF(p,"colorSaturation"));if(b){var z=p.get("visualMin"),j=p.get("visualMax"),x=g.dataExtent.slice();null!=z&&z<x[0]&&(x[0]=z),null!=j&&j>x[1]&&(x[1]=j);var m=p.get("colorMappingBy"),v={type:b.name,dataExtent:x,visual:b.range};"color"!==v.type||"index"!==m&&"id"!==m?v.mappingMethod="linear":(v.mappingMethod="category",v.loop=!0);var q=new m3(v);return q.__drColorMappingBy=m,q}}}function KF(a,b){var c=a.get(b);return w1(c)&&c.length?{name:b,range:c}:null}function JF(p,j,c,f,b,k){var q=YY({},j);if(b){var d=b.type,m="color"===d&&b.__drColorMappingBy,g="index"===m?f:"id"===m?k.mapIdToIndex(c.getId()):c.getValue(p.get("visualDimension"));q[d]=b.mapValueToVisual(g)}return q}function QE(D,Q,I,L){var H,V;if(!D.isRemoved()){var F=D.getLayout();H=F.width,V=F.height;var E=D.getModel(),K=E.get(v2),C=E.get(b5)/2,N=DG(E),T=Math.max(K,N),R=K-C,P=T-C,E=D.getModel();D.setLayout({borderWidth:K,upperHeight:T,upperLabelHeight:N},!0),H=f5(H-2*R,0),V=f5(V-R-P,0);var O=H*V,G=HF(D,E,O,Q,I,L);if(G.length){var J={x:R,y:P,width:H,height:V},B=u2(H,V),q=1/0,z=[];z.area=0;for(var W=0,U=G.length;U>W;){var A=G[W];z.push(A),z.area+=A.getLayout().area;var j=Wq(z,B,Q.squareRatio);q>=j?(W++,q=j):(z.area-=z.pop().getLayout().area,Vq(z,B,J,C,!1),B=u2(J.width,J.height),z.length=z.area=0,q=1/0)}if(z.length&&Vq(z,B,J,C,!0),!I){var k=E.get("childrenVisibleMin");null!=k&&k>O&&(I=!0)}for(var W=0,U=G.length;U>W;W++){QE(G[W],Q,I,L+1)}}}}function HF(y,p,g,k,f,w){var b=y.children||[],z=k.sort;"asc"!==z&&"desc"!==z&&(z=null);var j=null!=k.leafDepth&&k.leafDepth<=w;if(f&&!j){return y.viewChildren=[]}b=Y9(b,function(a){return !a.isRemoved()}),Z5(b,z);var x=Yk(p,b,z);if(0===x.sum){return y.viewChildren=[]}if(x.sum=Uq(p,g,x.sum,z,b),0===x.sum){return y.viewChildren=[]}for(var m=0,v=b.length;v>m;m++){var q=b[m].getValue()/x.sum*g;b[m].setLayout({area:q})}return j&&(b.length&&y.setLayout({isLeafRoot:!0},!0),b.length=0),y.viewChildren=b,y.setLayout({dataExtent:x.dataExtent},!0),b}function Uq(m,h,d,g,c){if(!g){return d}for(var j=m.get("visibleMin"),b=c.length,p=b,f=b-1;f>=0;f--){var k=c["asc"===g?b-f-1:f].getValue();j>k/d*h&&(p=f,d-=k)}return"asc"===g?c.splice(0,b-p):c.splice(p,b-p),d}function Z5(a,b){return b&&a.sort(function(d,e){var c="asc"===b?d.getValue()-e.getValue():e.getValue()-d.getValue();return 0===c?"asc"===b?d.dataIndex-e.dataIndex:e.dataIndex-d.dataIndex:c}),a}function Yk(d,h,k){for(var c=0,j=0,b=h.length;b>j;j++){c+=h[j].getValue()}var g,f=d.get("visualDimension");if(h&&h.length){if("value"===f&&k){g=[h[h.length-1].getValue(),h[0].getValue()],"asc"===k&&g.reverse()}else{var g=[1/0,-1/0];t2(h,function(a){var i=a.getValue(f);i<g[0]&&(g[0]=i),i>g[1]&&(g[1]=i)})}}else{g=[0/0,0/0]}return{sum:c,dataExtent:g}}function Wq(m,h,d){for(var g,c=0,j=1/0,b=0,p=m.length;p>b;b++){g=m[b].getLayout().area,g&&(j>g&&(j=g),g>c&&(c=g))}var f=m.area*m.area,k=h*h*d;return f?f5(k*c/f,f/(k*j)):1/0}function Vq(w,K,D,G,C){var N=K===D.width?0:1,A=1-N,z=["x","y"],F=["width","height"],q=D[z[N]],H=K?w.area/K:0;(C||H>D[F[A]])&&(H=D[F[A]]);for(var M=0,L=w.length;L>M;M++){var J=w[M],I={},B=H?J.getLayout().area/H:0,E=I[F[A]]=f5(H-2*G,0),k=D[z[N]]+D[F[N]]-q,b=M===L-1||B>k?k:B,j=I[F[N]]=f5(b-2*G,0);I[z[A]]=D[z[A]]+u2(G,E/2),I[z[N]]=q+u2(G,j/2),q+=b,J.setLayout(I,!0)}D[z[A]]+=H,D[F[A]]-=H}function ME(q,I,B,E,A){var L=(I||{}).node,x=[E,A];if(!L||L===B){return x}for(var w,D=E*A,k=D*q.option.zoomToNodeRatio;w=L.parentNode;){for(var F=0,K=w.children,J=0,H=K.length;H>J;J++){F+=K[J].getValue()}var G=L.getValue();if(0===G){return x}k*=F/G;var z=w.getModel(),C=z.get(v2),j=Math.max(C,DG(z,C));k+=4*C*C+(3*C+j)*Math.pow(k,0.5),k>IN&&(k=IN),L=w}D>k&&(k=D);var b=Math.pow(k/D,0.5);return[E*b,A*b]}function PE(k,h,d){if(h){return{x:h.x,y:h.y}}var g={x:0,y:0};if(!d){return g}var c=d.node,j=c.getLayout();if(!j){return g}for(var b=[j.width/2,j.height/2],m=c;m;){var f=m.getLayout();b[0]+=f.x,b[1]+=f.y,m=m.parentNode}return{x:k.width/2-b[0],y:k.height/2-b[1]}}function GF(k,h,d,g,c){var j=k.getLayout(),b=d[c],m=b&&b===k;if(!(b&&!m||c===d.length&&k!==g)){k.setLayout({isInView:!0,invisible:!m&&!h.intersect(j),isAboveViewRoot:m},!0);var f=new gO(h.x-j.x,h.y-j.y,h.width,h.height);t2(k.viewChildren||[],function(a){GF(a,f,d,g,c+1)})}}function DG(a){return a.get(d5)?a.get(c5):0}function EG(a,b){return Math.abs(a-b)<LV}function aX(d,h,k){var c=0,j=d[0];if(!j){return !1}for(var b=1;b<d.length;b++){var g=d[b];c+=r8(j[0],j[1],g[0],g[1],h,k),j=g}var f=d[0];return EG(j[0],f[0])&&EG(j[1],f[1])||(c+=r8(j[0],j[1],f[0],f[1],h,k)),0!==c}function aa0(b,c,d){if(this.name=b,this.geometries=c,d){d=[d[0],d[1]]}else{var a=this.getBoundingRect();d=[a.x+a.width/2,a.y+a.height/2]}this.center=d}function FF(w){if(!w.UTF8Encoding){return w}var m=w.UTF8Scale;null==m&&(m=1024);for(var f=w.features,j=0;j<f.length;j++){for(var d=f[j],q=d.geometry,b=q.coordinates,x=q.encodeOffsets,g=0;g<b.length;g++){var v=b[g];if("Polygon"===q.type){b[g]=iU(v,x[g],m)}else{if("MultiPolygon"===q.type){for(var k=0;k<v.length;k++){var p=v[k];v[k]=iU(p,x[g][k],m)}}}}}return w.UTF8Encoding=!1,w}function iU(k,h,d){for(var g=[],c=h[0],j=h[1],b=0;b<k.length;b+=2){var m=k.charCodeAt(b)-64,f=k.charCodeAt(b+1)-64;m=m>>1^-(1&m),f=f>>1^-(1&f),m+=c,f+=j,c=m,j=f,g.push([m/d,f/d])}return g}function oQ(){tX.call(this)}function sO(a){this.name=a,this.zoomLimit,tX.call(this),this._roamTransform=new oQ,this._viewTransform=new oQ,this._center,this._zoom}function hU(d,f,h,c){var g=h.seriesModel,b=g?g.coordinateSystem:null;return b===this?b[d](c):null}function AJ(b,c,f,a,d){sO.call(this,b),this.map=c,this._nameCoordMap=aaz(),this.loadGeoJson(f,a,d)}function xN(d,g,j,c){var h=j.geoModel,b=j.seriesModel,f=h?h.coordinateSystem:b?b.coordinateSystem||(b.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return f===this?f[d](c):null}function yN(C,x){var k=C.get("boundingCoords");if(null!=k){var p=k[0],j=k[1];isNaN(p[0])||isNaN(p[1])||isNaN(j[0])||isNaN(j[1])||this.setBoundingRect(p[0],p[1],j[0]-p[0],j[1]-p[1])}var A,b=this.getBoundingRect(),D=C.get("layoutCenter"),m=C.get("layoutSize"),B=x.getWidth(),q=x.getHeight(),z=C.get("aspectScale")||0.75,y=b.width/b.height*z,w=!1;D&&m&&(D=[E9(D[0],B),E9(D[1],q)],m=E9(m,Math.min(B,q)),isNaN(D[0])||isNaN(D[1])||isNaN(m)||(w=!0));var v;if(w){var v={};y>1?(v.width=m,v.height=m/y):(v.height=m,v.width=m*y),v.y=D[1]-v.height/2,v.x=D[0]-v.width/2}else{A=C.getBoxLayoutParams(),A.aspect=y,v=WU(A,{width:B,height:q})}this.setViewRect(v.x,v.y,v.width,v.height),this.setCenter(C.get("center")),this.setZoom(C.get("zoom"))}function pQ(a,b){ZR(b.get("geoCoord"),function(c,d){a.addGeoCoord(d,c)})}function lQ(b,c,f){var a=b.target,d=a.position;d[0]+=c,d[1]+=f,a.dirty()}function RB(w,m,f,j){var d=w.target,q=w.zoomLimit,b=d.position,x=d.scale,g=w.zoom=w.zoom||1;if(g*=m,q){var v=q.min||0,k=q.max||1/0;g=Math.max(Math.min(k,g),v)}var p=g/w.zoom;w.zoom=g,b[0]-=(f-b[0])*(p-1),b[1]-=(j-b[1])*(p-1),x[0]*=p,x[1]*=p,d.dirty()}function mQ(b,c,f){var a=c.getComponentByElement(b.topTarget),d=a&&a.coordinateSystem;return a&&a!==f&&!aa5[a.mainType]&&d&&d.model!==f}function CJ(a){var b=a.getItemStyle(),c=a.get("areaColor");return null!=c&&(b.fill=c),b}function nQ(b,c,f,a,d){f.off("click"),f.off("mousedown"),c.get("selectedMode")&&(f.on("mousedown",function(){b._mouseDownFlag=!0}),f.on("click",function(e){if(b._mouseDownFlag){b._mouseDownFlag=!1;for(var h=e.target;!h.__regions;){h=h.parent}if(h){var g={type:("geo"===c.mainType?"geo":"map")+"ToggleSelect",batch:ZN(h.__regions,function(i){return{name:i.name,from:d.uid}})};g[c.mainType+"Id"]=c.id,a.dispatchAction(g),wN(c,f)}}}))}function wN(a,b){b.eachChild(function(c){ZR(c.__regions,function(d){c.trigger(a.isSelected(d.name)?"emphasis":"normal")})})}function jR(a,b){var c=new TH;this._controller=new pG(a.getZr()),this._controllerHost={target:b?c:null},this.group=c,this._updateGroup=b,this._mouseDownFlag}function zK(w,m,f){var j=w.getZoom(),d=w.getCenter(),q=m.zoom,b=w.dataToPoint(d);if(null!=m.dx&&null!=m.dy){b[0]-=m.dx,b[1]-=m.dy;var d=w.pointToData(b);w.setCenter(d)}if(null!=q){if(f){var x=f.min||0,g=f.max||1/0;q=Math.max(Math.min(j*q,g),x)/j}w.scale[0]*=q,w.scale[1]*=q;var v=w.position,k=(m.originX-v[0])*(q-1),p=(m.originY-v[1])*(q-1);v[0]-=k,v[1]-=p,w.updateTransform();var d=w.pointToData(b);w.setCenter(d),w.setZoom(q*j)}return{center:w.getCenter(),zoom:w.getZoom()}}function fU(b,c){var d={},a=["value"];return ZR(b,function(e){e.each(a,function(g,f){var h="ec-"+e.getName(f);d[h]=d[h]||[],isNaN(g)||d[h].push(g)})}),b[0].map(a,function(j,f){for(var n="ec-"+b[0].getName(f),e=0,q=1/0,g=-1/0,p=d[n].length,k=0;p>k;k++){q=Math.min(q,d[n][k]),g=Math.max(g,d[n][k]),e+=d[n][k]}var m;return m="min"===c?q:"max"===c?g:"average"===c?e/p:e,0===p?0/0:m})}function uO(a){var b=a.data;b&&b[0]&&b[0][0]&&b[0][0].coord&&(a.data=ZN(b,function(c){var d=[c[0].coord,c[1].coord],f={coords:d};return c[0].name&&(f.fromName=c[0].name),c[1].name&&(f.toName=c[1].name),Z4([f,c[0],c[1]])}))}function eU(a){return isNaN(+a.cpx1)||isNaN(+a.cpy1)}function tO(a){return"_"+a+"Type"}function vO(d,g,j){var c=g.getItemVisual(j,"color"),h=g.getItemVisual(j,d),b=g.getItemVisual(j,d+"Size");if(h&&"none"!==h){YH(b)||(b=[b,b]);var f=xq(h,-b[0]/2,-b[1]/2,b[0],b[1],c);return f.name=d,f}}function bW(a){var b=new FK({name:"line"});return dU(b.shape,a),b}function dU(b,c){var f=c[0],a=c[1],d=c[2];b.x1=f[0],b.y1=f[1],b.x2=a[0],b.y2=a[1],b.percent=1,d?(b.cpx1=d[0],b.cpy1=d[1]):(b.cpx1=0/0,b.cpy1=0/0)}function cU(){var w=this,K=w.childOfName("fromSymbol"),D=w.childOfName("toSymbol"),G=w.childOfName("label");if(K||D||!G.ignore){for(var C=1,N=this.parent;N;){N.scale&&(C/=N.scale[0]),N=N.parent}var A=w.childOfName("line");if(this.__dirty||A.__dirty){var z=A.shape.percent,F=A.pointAt(0),q=A.pointAt(z),H=aaQ([],q,F);if(aak(H,H),K){K.attr("position",F);var M=A.tangentAt(0);K.attr("rotation",Math.PI/2-Math.atan2(M[1],M[0])),K.attr("scale",[C*z,C*z])}if(D){D.attr("position",q);var M=A.tangentAt(1);D.attr("rotation",-Math.PI/2-Math.atan2(M[1],M[0])),D.attr("scale",[C*z,C*z])}if(!G.ignore){G.attr("position",q);var L,J,I,B=5*C;if("end"===G.__position){L=[H[0]*B+q[0],H[1]*B+q[1]],J=H[0]>0.8?"left":H[0]<-0.8?"right":"center",I=H[1]>0.8?"top":H[1]<-0.8?"bottom":"middle"}else{if("middle"===G.__position){var E=z/2,M=A.tangentAt(E),k=[M[1],-M[0]],b=A.pointAt(E);k[1]>0&&(k[0]=-k[0],k[1]=-k[1]),L=[b[0]+k[0]*B,b[1]+k[1]*B],J="center",I="bottom";var j=-Math.atan2(M[1],M[0]);q[0]<F[0]&&(j=Math.PI+j),G.attr("rotation",j)}else{L=[-H[0]*B+F[0],-H[1]*B+F[1]],J=H[0]>0.8?"right":H[0]<-0.8?"left":"center",I=H[1]>0.8?"bottom":H[1]<-0.8?"top":"middle"}}G.attr({style:{textVerticalAlign:G.__verticalAlign||I,textAlign:G.__textAlign||J},position:L,scale:[C,C]})}}}}function gU(a,b,c){TH.call(this),this._createLine(a,b,c)}function LE(a){return isNaN(a[0])||isNaN(a[1])}function Sz(a){return !LE(a[0])&&!LE(a[1])}function BK(a){this._ctor=a||gU,this.group=new TH}function qO(a,b,c){TH.call(this),this.add(this.createLine(a,b,c)),this._updateEffectSymbol(a,b)}function rO(a,b,c){TH.call(this),this._createPolyline(a,b,c)}function kQ(a,b,c){qO.call(this,a,b,c),this._lastFrame=0,this._lastFramePercent=0}function IB(){this.group=new TH,this._lineEl=new iY}function Xj(a){return a instanceof Array||(a=[a,a]),a}function Oz(a){return"_EC_"+a}function Tj(a,b){this.id=null==a?"":a,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==b?-1:b}function Nz(a,b,c){this.node1=a,this.node2=b,this.dataIndex=null==c?-1:c}function abw(C,x,k){for(var p,j=C[0],A=C[1],b=C[2],D=1/0,m=k*k,B=0.1,q=0.1;0.9>=q;q+=0.1){oW[0]=AQ(j[0],A[0],b[0],q),oW[1]=AQ(j[1],A[1],b[1],q);var z=vV(gY(oW,x)-m);D>z&&(D=z,p=q)}for(var y=0;32>y;y++){var w=p+B;xU[0]=AQ(j[0],A[0],b[0],p),xU[1]=AQ(j[1],A[1],b[1],p),kW[0]=AQ(j[0],A[0],b[0],w),kW[1]=AQ(j[1],A[1],b[1],w);var z=gY(xU,x)-m;if(vV(z)<0.01){break}var v=gY(kW,x)-m;B/=2,0>z?v>=0?p+=B:p-=B:v>=0?p-=B:p+=B}return p}function KB(a,b){return a.getVisual("opacity")||a.getModel().get(b)}function JB(b,c,f){var a=b.getGraphicEl(),d=KB(b,c);null!=f&&(null==d&&(d=1),d*=f),a.downplay&&a.downplay(),a.traverse(function(e){"group"!==e.type&&e.setStyle("opacity",d)})}function Qz(b,c){var d=KB(b,c),a=b.getGraphicEl();a.highlight&&a.highlight(),a.traverse(function(e){"group"!==e.type&&e.setStyle("opacity",d)})}function HB(a){return a instanceof Array||(a=[a,a]),a}function Uj(a){var b=a.coordinateSystem;if(!b||"view"===b.type){var c=a.getGraph();c.eachNode(function(d){var f=d.getModel();d.setLayout([+f.get("x"),+f.get("y")])}),Z2(c)}}function Z2(a){a.eachEdge(function(c){var d=c.getModel().get("lineStyle.normal.curveness")||0,g=aaj(c.node1.getLayout()),b=aaj(c.node2.getLayout()),f=[g,b];+d&&f.push([(g[0]+b[0])/2-(g[1]-b[1])*d,(g[1]+b[1])/2-(b[0]-g[0])*d]),c.setLayout(f)})}function X9(q){var k=q.coordinateSystem;if(!k||"view"===k.type){var d=k.getBoundingRect(),g=q.getData(),c=g.graph,m=0,b=g.getSum("value"),v=2*Math.PI/(b||g.count()),f=d.width/2+d.x,p=d.height/2+d.y,j=Math.min(d.width,d.height)/2;c.eachNode(function(a){var h=a.getValue("value");m+=v*(b?h:1)/2,a.setLayout([j*Math.cos(m)+f,j*Math.sin(m)+p]),m+=v*(b?h:1)/2}),g.setLayout({cx:f,cy:p}),c.eachEdge(function(s){var w,y=s.getModel().get("lineStyle.normal.curveness")||0,l=aaj(s.node1.getLayout()),x=aaj(s.node2.getLayout()),h=(l[0]+x[0])/2,u=(l[1]+x[1])/2;+y&&(y*=3,w=[f*y+h*(1-y),p*y+u*(1-y)]),s.setLayout([l,x,w])})}}function Wj(q,k,d){for(var g=d.rect,c=g.width,m=g.height,b=[g.x+c/2,g.y+m/2],v=null==d.gravity?0.1:d.gravity,f=0;f<q.length;f++){var p=q[f];p.p||(p.p=aaq(c*(Math.random()-0.5)+b[0],m*(Math.random()-0.5)+b[1])),p.pp=aaj(p.p),p.edges=null}var j=0.6;return{warmUp:function(){j=0.5},setFixed:function(a){q[a].fixed=!0},setUnfixed:function(a){q[a].fixed=!1},step:function(r){for(var w=[],h=q.length,B=0;B<k.length;B++){var t=k[B],D=t.n1,A=t.n2;aaQ(w,A.p,D.p);var z=aac(w)-t.d,y=A.w/(D.w+A.w);isNaN(y)&&(y=0),aak(w,w),!D.fixed&&B1(D.p,D.p,w,y*z*j),!A.fixed&&B1(A.p,A.p,w,-(1-y)*z*j)}for(var B=0;h>B;B++){var x=q[B];x.fixed||(aaQ(w,b,x.p),B1(x.p,x.p,w,v*j))}for(var B=0;h>B;B++){for(var D=q[B],e=B+1;h>e;e++){var A=q[e];aaQ(w,A.p,D.p);var z=aac(w);0===z&&(aaO(w,Math.random()-0.5,Math.random()-0.5),z=1);var s=(D.rep+A.rep)/z/z;!D.fixed&&B1(D.pp,D.pp,w,s),!A.fixed&&B1(A.pp,A.pp,w,-s)}}for(var C=[],B=0;h>B;B++){var x=q[B];x.fixed||(aaQ(C,x.p,x.pp),B1(x.p,x.p,C,j),aaZ(x.pp,x.p))}j=0.992*j,r&&r(q,k,0.01>j)}}}function Vj(b,c,d){var a=b.getBoxLayoutParams();return a.aspect=d,WU(a,{width:c.getWidth(),height:c.getHeight()})}function Mz(m,h,d){var g=h.getItemModel(d),c=g.getModel(Yj),j=h.getItemVisual(d,"color"),b=c.getItemStyle(["borderColor"]),p=m.childAt(m.whiskerIndex);p.style.set(b),p.style.stroke=j,p.dirty();var f=m.childAt(m.bodyIndex);f.style.set(b),f.style.stroke=j,f.dirty();var k=g.getModel(PB).getItemStyle();Z9(m,k)}function Pz(a){var b=[],c=[];return a.eachSeriesByType("boxplot",function(e){var d=e.getBaseAxis(),f=YR(c,d);0>f&&(f=c.length,c[f]=d,b[f]={axis:d,seriesModels:[]}),b[f].seriesModels.push(e)}),b}function GB(A){var v,j,m=A.axis,g=A.seriesModels,y=g.length,b=A.boxWidthList=[],B=A.boxOffsetList=[],k=[];if("category"===m.type){j=m.getBandWidth()}else{var z=0;abK(g,function(a){z=Math.max(z,a.getData().count())}),v=m.getExtent(),Math.abs(v[1]-v[0])/z}abK(g,function(a){var c=a.get("boxWidth");YH(c)||(c=[c,c]),k.push([E9(c[0],j)||0,E9(c[1],j)||0])});var p=0.8*j-2,x=p/y*0.3,w=(p-x*(y-1))/y,q=w/2-p/2;abK(g,function(a,c){B.push(q),q+=x+w,b.push(Math.min(Math.max(w,k[c][0]),k[c][1]))})}function DE(w,m,f){var j,d=w.coordinateSystem,q=w.getData(),b=f/2,x=w.get("layout"),g="horizontal"===x?0:1,v=1-g,k=["x","y"],p=[];ZR(q.dimensions,function(a){var c=q.getDimensionInfo(a),h=c.coordDim;h===k[v]?p.push(a):h===k[g]&&(j=a)}),null==j||p.length<5||q.each([j].concat(p),function(){function B(y){var C=[];C[g]=u,C[v]=y;var h;return isNaN(u)||isNaN(y)?h=[0/0,0/0]:(h=d.dataToPoint(C),h[g]+=m),h}function c(y,C){var D=y.slice(),h=y.slice();D[g]+=b,h[g]-=b,C?z.push(D,h):z.push(h,D)}function l(h){var i=[h.slice(),h.slice()];i[0][g]-=b,i[1][g]+=b,A.push(i)}var o=arguments,u=o[0],s=o[p.length+1],r=B(o[3]),a=B(o[1]),e=B(o[5]),A=[[a,B(o[2])],[e,B(o[4])]];l(a),l(e),l(r);var z=[];c(A[0][1],0),c(A[1][1],1),q.setItemLayout(s,{chartLayout:x,initBaseline:r[v],median:r,bodyEnds:z,whiskerEnds:A})})}function EE(a){if(!a.parallel){var b=!1;ZR(a.series,function(c){c&&"parallel"===c.type&&(b=!0)}),b&&(a.parallel=[{}])}}function aW(a){var b=nV(a.parallelAxis);ZR(b,function(d){if(YJ(d)){var f=d.parallelIndex||0,c=nV(a.parallel)[f];c&&c.parallelAxisDefault&&Y5(d,c.parallelAxisDefault,!1)}})}function aaX(a,b){var c=a[b]-a[1-b];return{span:Math.abs(c),sign:c>0?-1:0>c?1:b?-1:1}}function FB(a,b){return Math.min(b[1],Math.max(b[0],a))}function iQ(a,b,c){this._axesMap=aaz(),this._axesLayout={},this.dimensions=a.dimensions,this._rect,this._model=a,this._init(a,b,c)}function oN(a,b){return aaY(Z3(a,b[0]),b[1])}function sK(a,b){var c=b.layoutLength/(b.axisCount-1);return{position:c*a,axisNameAvailableWidth:c,axisLabelShow:!0}}function hQ(q,k){var d,g,c=k.layoutLength,m=k.axisExpandWidth,b=k.axisCount,v=k.axisCollapseWidth,f=k.winInnerIndices,p=v,j=!1;return q<f[0]?(d=q*v,g=v):q<=f[1]?(d=k.axisExpandWindow0Pos+q*m-k.axisExpandWindow[0],p=m,j=!0):(d=c-(b-1-q)*v,g=v),{position:d,axisNameAvailableWidth:p,axisLabelShow:j,nameTruncateMaxWidth:g}}function AG(a,b){var c=[];return a.eachComponent("parallel",function(e,f){var d=new iQ(e,a,b);d.name="parallel_"+f,d.resize(e,b),e.coordinateSystem=d,d.model=e,c.push(d)}),a.eachSeries(function(d){if("parallel"===d.get("coordinateSystem")){var f=a.queryComponents({mainType:"parallel",index:d.get("parallelIndex"),id:d.get("parallelId")})[0];d.coordinateSystem=f.coordinateSystem}}),c}function xJ(a,b){return b.type||(b.data?"category":"value")}function yJ(a){lY.call(this),this._zr=a,this.group=new TH,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+nO++,this._handlers={},abx(DF,function(b,c){this._handlers[c]=YN(b,this)},this)}function pN(a,b){var c=a._zr;a._enableGlobalPan||hJ(c,zJ,a._uid),abx(a._handlers,function(d,f){c.on(f,d)}),a._brushType=b.brushType,a._brushOption=Y5(ZJ(St),b,!0)}function lN(a){var b=a._zr;Az(b,zJ,a._uid),abx(a._handlers,function(c,d){b.off(d,c)}),a._brushType=a._brushOption=null}function Rt(a,b){var c=oO[b.brushType].createCover(a,b);return c.__brushOption=b,nN(c,b),a.group.add(c),c}function mN(a,b){var c=jO(b);return c.endCreating&&(c.endCreating(a,b),nN(b,b.__brushOption)),b}function CH(a,b){var c=b.__brushOption;jO(b).updateCoverShape(a,b,c.range,c)}function nN(a,b){var c=b.z;null==c&&(c=iR),a.traverse(function(d){d.z=c,d.z2=c})}function wJ(a,b){jO(b).updateCommon(a,b),CH(a,b)}function jO(a){return oO[a.__brushOption.brushType]}function zH(d,f,h){var c=d._panels;if(!c){return !0}var g,b=d._transform;return abx(c,function(a){a.isTargetByCursor(f,h,b)&&(g=a)}),g}function fQ(b,c){var d=b._panels;if(!d){return !0}var a=c.__brushOption.panelId;return null!=a?d[a]:!0}function uK(a){var b=a._covers,c=b.length;return abx(b,function(d){a.group.remove(d)},a),b.length=0,!!c}function eQ(a,b){var c=GE(a._covers,function(d){var f=d.__brushOption,g=ZJ(f.range);return{brushType:f.brushType,panelId:f.panelId,range:g}});a.trigger("brush",c,{isEnd:!!b.isEnd,removeOnClick:!!b.removeOnClick})}function tK(d){var g=d._track;if(!g.length){return !1}var j=g[g.length-1],c=g[0],h=j[0]-c[0],b=j[1]-c[1],f=tN(h*h+b*b,0.5);return f>A0}function vK(a){var b=a.length-1;return 0>b&&(b=0),[a[0],a[b]]}function bV(b,c,f,a){var d=new TH;return d.add(new hW({name:"main",style:Lz(f),silent:!0,draggable:!0,cursor:"move",drift:a7(b,c,d,"nswe"),ondragend:a7(eQ,c,{isEnd:!0})})),abx(a,function(e){d.add(new hW({name:e,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:a7(b,c,d,e),ondragend:a7(eQ,c,{isEnd:!0})}))}),d}function dQ(k,G,z,C){var y=C.brushStyle.lineWidth||0,J=pO(y,yK),w=z[0][0],q=z[1][0],B=w-y/2,j=q-y/2,D=z[0][1],I=z[1][1],H=D-J+y/2,F=I-J+y/2,E=D-w,x=I-q,A=E+y,b=x+y;gQ(k,G,"main",w,q,E,x),C.transformable&&(gQ(k,G,"w",B,j,J,b),gQ(k,G,"e",H,j,J,b),gQ(k,G,"n",B,j,A,J),gQ(k,G,"s",B,F,A,J),gQ(k,G,"nw",B,j,J,J),gQ(k,G,"ne",H,j,J,J),gQ(k,G,"sw",B,F,J,J),gQ(k,G,"se",H,F,J,J))}function cQ(b,c){var f=c.__brushOption,a=f.transformable,d=c.childAt(0);d.useStyle(Lz(f)),d.attr({silent:!a,cursor:a?"move":"default"}),abx(["w","e","n","s","se","sw","ne","nw"],function(h){var g=c.childOfName(h),e=qK(b,h);g&&g.attr({silent:!a,invisible:!a,cursor:a?mO[e]+"-resize":null})})}function gQ(d,h,k,c,j,b,g){var f=h.childOfName(k);f&&f.setShape(Oq(W8(d,h,[[c,j],[c+b,j+g]])))}function Lz(a){return YW({strokeNoScale:!0},a.brushStyle)}function Sq(d,f,h,c){var g=[jQ(d,h),jQ(f,c)],b=[pO(d,h),pO(f,c)];return[[g[0],b[0]],[g[1],b[1]]]}function BJ(a){return sU(a.group)}function qK(b,c){if(c.length>1){c=c.split("");var f=[qK(b,c[0]),qK(b,c[1])];return("e"===f[0]||"w"===f[0])&&f.reverse(),f.join("")}var a={w:"left",e:"right",n:"top",s:"bottom"},d={left:"w",right:"e",top:"n",bottom:"s"},f=AO(a[c],BJ(b));return d[f]}function rK(m,h,d,g,c,j,b){var p=g.__brushOption,f=m(p.range),k=It(d,j,b);abx(c.split(""),function(a){var i=qN[a];f[i[0]][i[1]]+=k[i[0]]}),p.range=h(Sq(f[0][0],f[1][0],f[0][1],f[1][1])),wJ(d,g),eQ(d,{isEnd:!1})}function kN(d,f,h,c){var g=f.__brushOption.range,b=It(d,h,c);abx(g,function(a){a[0]+=b[0],a[1]+=b[1]}),wJ(d,f),eQ(d,{isEnd:!1})}function It(d,f,h){var c=d.group,g=c.transformCoordToLocal(f,h),b=c.transformCoordToLocal(0,0);return[g[0]-b[0],g[1]-b[1]]}function W8(a,b,d){var c=fQ(a,b);return c&&c!==!0?c.clipPath(d,a._transform):ZJ(d)}function Oq(b){var c=jQ(b[0][0],b[1][0]),f=jQ(b[0][1],b[1][1]),a=pO(b[0][0],b[1][0]),d=pO(b[0][1],b[1][1]);return{x:c,y:f,width:a-c,height:d-f}}function Nq(d,h,k){if(d._brushType){var c=d._zr,j=d._covers,b=zH(d,h,k);if(!d._dragging){for(var g=0;g<j.length;g++){var f=j[g].__brushOption;if(b&&(b===!0||f.panelId===b.panelId)&&oO[f.brushType].contain(j[g],k[0],k[1])){return}}}b&&c.setCursorStyle("crosshair")}}function abt(a){var b=a.event;b.preventDefault&&b.preventDefault()}function Kt(a,b,c){return a.childOfName("main").contain(b,c)}function Jt(q,j,f,d){var m,b=q._creatingCover,v=q._creatingPanel,g=q._brushOption;if(q._track.push(f.slice()),tK(q)||b){if(v&&!b){"single"===g.brushMode&&uK(q);var p=ZJ(g);p.brushType=Qq(p.brushType,v),p.panelId=v===!0?null:v.panelId,b=q._creatingCover=Rt(q,p),q._covers.push(b)}if(b){var i=oO[Qq(q._brushType,v)],k=b.__brushOption;k.range=i.getCreatingRange(W8(q,b,q._track)),d&&(mN(q,b),i.updateCommon(q,b)),CH(q,b),m={isEnd:d}}}else{d&&"single"===g.brushMode&&g.removeOnClick&&zH(q,j,f)&&uK(q)&&(m={isEnd:d,removeOnClick:!0})}return m}function Qq(a,b){return"auto"===a?b.defaultBrushType:a}function Ht(a){if(this._dragging){abt(a);var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY),c=Jt(this,a,b,!0);this._dragging=!1,this._track=[],this._creatingCover=null,c&&eQ(this,c)}}function T8(a){return{createCover:function(b,c){return bV(a7(rK,function(d){var f=[d,[0,100]];return a&&f.reverse(),f},function(d){return d[a]}),b,c,[["w","e"],["n","s"]][a])},getCreatingRange:function(c){var f=vK(c),b=jQ(f[0][a],f[1][a]),d=pO(f[0][a],f[1][a]);return[b,d]},updateCoverShape:function(h,k,d,j){var c,g=fQ(h,k);if(g!==!0&&g.getLinearBrushOtherExtent){c=g.getLinearBrushOtherExtent(a,h._transform)}else{var f=h._zr;c=[0,[f.getWidth(),f.getHeight()][1-a]]}var b=[d,c];a&&b.reverse(),dQ(h,k,b,j)},updateCommon:cQ,contain:Kt}}function ZY(a){return a=U8(a),function(b){return yR(b,a)}}function X7(a,b){return a=U8(a),function(f){var d=null!=b?b:f,e=d?a.width:a.height,c=d?a.x:a.y;return[c,c+(e||0)]}}function V8(a,b,c){return a=U8(a),function(d,e){return a.contain(e[0],e[1])&&!mQ(d,b,c)}}function U8(a){return gO.create(a)}function Mq(a,b,c){return c&&"axisAreaSelect"===c.type&&b.findComponents({mainType:"parallelAxis",query:c})[0]===a}function Pq(a){var b=a.axis;return ZN(a.activeIntervals,function(c){return{brushType:"lineX",panelId:"pl",range:[b.dataToCoord(c[0],!0),b.dataToCoord(c[1],!0)]}})}function Gt(a,b){return b.getComponent("parallel",a.get("parallelIndex"))}function Dz(a,b){var c=a._model;return c.get("axisExpandable")&&c.get("axisExpandTriggerOn")===b}function Ez(b,c,f){var a=b.get("data"),d=aU(c);a&&a.length&&ZR(f,function(g){if(g){var h=YR(a,g[d]);g[d]=h>=0?h:0/0}})}function aU(a){return +a.replace("dim","")}function aaT(d,f){var h=0;ZR(d,function(a){var i=aU(a);i>h&&(h=i)});var c=f[0];c&&c.length-1>h&&(h=c.length-1);for(var g=[],b=0;h>=b;b++){g.push("dim"+b)}return g}function Ft(d,g,j){var c=d.model,h=d.getRect(),b=new hW({shape:{x:h.x,y:h.y,width:h.width,height:h.height}}),f="horizontal"===c.get("layout")?"width":"height";return b.setShape(f,0),oV(b,{shape:{width:h.width,height:h.height}},g,j),b}function iN(d,h,k,c){for(var j=[],b=0;b<k.length;b++){var g=k[b],f=d.get(g,h);hN(f,c.getAxis(g).type)||j.push(c.dataToPoint(f,g))}return j}function oJ(d,g,j,c,h){var b=iN(d,j,c,h),f=new sR({shape:{points:b},silent:!0,z2:10});g.add(f),d.setItemGraphicEl(j,f)}function sH(b,c){var d=b.hostModel.getModel("lineStyle.normal"),a=d.getLineStyle();b.eachItemGraphicEl(function(h,f){if(b.hasItemOption){var g=b.getItemModel(f),e=g.getModel("lineStyle.normal",d);a=e.getLineStyle(["color","stroke"])}h.useStyle(YY(a,{fill:null,stroke:b.getItemVisual(f,"color"),opacity:b.getItemVisual(f,"opacity")})),h.shape.smooth=c})}function hN(a,b){return"category"===b?null==a:null==a||isNaN(a)}function AE(k,h){var d=k.get("center"),g=h.getWidth(),c=h.getHeight(),j=Math.min(g,c),b=E9(d[0],h.getWidth()),m=E9(d[1],h.getHeight()),f=E9(k.get("radius"),j/2);return{cx:b,cy:m,r:f}}function xG(a,b){return b&&("string"==typeof b?a=b.replace("{value}",null!=a?a:""):"function"==typeof b&&(a=b(a))),a}function yG(d,g){function j(){b.ignore=b.hoverIgnore,f.ignore=f.hoverIgnore}function c(){b.ignore=b.normalIgnore,f.ignore=f.normalIgnore}TH.call(this);var h=new oU,b=new sR,f=new PG;this.add(h),this.add(b),this.add(f),this.updateData(d,g,!0),this.on("emphasis",j).on("normal",c).on("mouseover",j).on("mouseout",c)}function pJ(a,b){return WU(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})}function lJ(d,g){for(var j=d.mapArray("value",function(a){return a}),c=[],h="ascending"===g,b=0,f=d.count();f>b;b++){c[b]=b}return"function"==typeof g?c.sort(g):"none"!==g&&c.sort(function(a,i){return h?j[a]-j[i]:j[i]-j[a]}),c}function Rk(a){a.each(function(B){var q,x,k,E,b=a.getItemModel(B),H=b.getModel("label.normal"),w=H.get("position"),G=b.getModel("labelLine.normal"),y=a.getItemLayout(B),D=y.points,C="inner"===w||"inside"===w||"center"===w;if(C){x=(D[0][0]+D[1][0]+D[2][0]+D[3][0])/4,k=(D[0][1]+D[1][1]+D[2][1]+D[3][1])/4,q="center",E=[[x,k],[x,k]]}else{var A,z,j,t=G.get("length");"left"===w?(A=(D[3][0]+D[0][0])/2,z=(D[3][1]+D[0][1])/2,j=A-t,x=j-5,q="right"):(A=(D[1][0]+D[2][0])/2,z=(D[1][1]+D[2][1])/2,j=A+t,x=j+5,q="left");var F=z;E=[[A,z],[j,F]],k=F}y.label={linePoints:E,x:x,y:k,verticalAlign:"middle",textAlign:q,inside:C}})}function mJ(b,c,d){var a=new hW({shape:{x:b.x-10,y:b.y-10,width:0,height:b.height+20}});return oV(a,{shape:{width:b.width+20,height:b.height+20}},c,d),a}function CF(){function b(n,k){if(k>=d.length){return n}for(var g=-1,p=n.length,f=d[k++],t={},j={};++g<p;){var q=f(n[g]),m=j[q];m?m.push(n[g]):j[q]=[n[g]]}return ZR(j,function(h,i){t[i]=b(h,k)}),t}function c(f,h){if(h>=d.length){return f}var e=[],g=a[h++];return ZR(f,function(i,j){e.push({key:j,values:c(i,h)})}),g?e.sort(function(i,j){return g(i.key,j.key)}):e}var d=[],a=[];return{key:function(e){return d.push(e),this},sortKeys:function(e){return a[d.length-1]=e,this},entries:function(e){return c(b(e,0),0)}}}function nJ(a,b){return WU(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})}function wG(d,g,j,c,h,b,f){zF(d,j,h),eN(d,g,b,c,f),Lq(d)}function jK(a){ZR(a,function(c){var d=qH(c.outEdges,W7),f=qH(c.inEdges,W7),b=Math.max(d,f);c.setLayout({value:b},!0)})}function zF(w,m,f){for(var j=w,d=null,q=0,b=0;j.length;){d=[];for(var x=0,g=j.length;g>x;x++){var v=j[x];v.setLayout({x:q},!0),v.setLayout({dx:m},!0);for(var k=0,p=v.outEdges.length;p>k;k++){d.push(v.outEdges[k].node2)}}j=d,++q}fN(w,q),b=(f-m)/(q-1),uH(w,b)}function fN(a,b){ZR(a,function(c){c.outEdges.length||c.setLayout({x:b-1},!0)})}function uH(a,b){ZR(a,function(c){var d=c.getLayout().x*b;c.setLayout({x:d},!0)})}function eN(d,g,j,c,h){var b=CF().key(function(a){return a.getLayout().x}).sortKeys(Iq).entries(d).map(function(a){return a.values});tH(d,b,g,j,c),vH(b,c,j);for(var f=1;h>0;h--){f*=0.99,bR(b,f),vH(b,c,j),cN(b,f),vH(b,c,j)}}function tH(d,g,j,c,h){var b=[];ZR(g,function(a){var k=a.length,l=0;ZR(a,function(e){l+=e.getLayout().value});var i=(c-(k-1)*h)/l;b.push(i)}),b.sort(function(a,i){return a-i});var f=b[0];ZR(g,function(a){ZR(a,function(i,k){i.setLayout({y:k},!0);var l=i.getLayout().value*f;i.setLayout({dy:l},!0)})}),ZR(j,function(a){var i=+a.getValue()*f;a.setLayout({dy:i},!0)})}function vH(a,b,c){ZR(a,function(g){var f,k,e,j=0,h=g.length;for(g.sort(kJ),e=0;h>e;e++){if(f=g[e],k=j-f.getLayout().y,k>0){var d=f.getLayout().y+k;f.setLayout({y:d},!0)}j=f.getLayout().y+f.getLayout().dy+b}if(k=j-b-c,k>0){var d=f.getLayout().y-k;for(f.setLayout({y:d},!0),j=f.getLayout().y,e=h-2;e>=0;--e){f=g[e],k=f.getLayout().y+f.getLayout().dy+b-j,k>0&&(d=f.getLayout().y-k,f.setLayout({y:d},!0)),j=f.getLayout().y}}})}function bR(a,b){ZR(a.slice().reverse(),function(c){ZR(c,function(e){if(e.outEdges.length){var f=qH(e.outEdges,dN)/qH(e.outEdges,W7),d=e.getLayout().y+(f-rH(e))*b;e.setLayout({y:d},!0)}})})}function dN(a){return rH(a.node2)*a.getValue()}function cN(a,b){ZR(a,function(c){ZR(c,function(e){if(e.inEdges.length){var f=qH(e.inEdges,gN)/qH(e.inEdges,W7),d=e.getLayout().y+(f-rH(e))*b;e.setLayout({y:d},!0)}})})}function gN(a){return rH(a.node1)*a.getValue()}function Lq(a){ZR(a,function(b){b.outEdges.sort(Sj),b.inEdges.sort(BG)}),ZR(a,function(b){var c=0,d=0;ZR(b.outEdges,function(e){e.setLayout({sy:c},!0),c+=e.getLayout().dy}),ZR(b.inEdges,function(e){e.setLayout({ty:d},!0),d+=e.getLayout().dy})})}function Sj(a,b){return a.node2.getLayout().y-b.node2.getLayout().y}function BG(a,b){return a.node1.getLayout().y-b.node1.getLayout().y}function qH(d,f){for(var h=0,c=d.length,g=-1;++g<c;){var b=+f.call(d,d[g],g);isNaN(b)||(h+=b)}return h}function rH(a){return a.getLayout().y+a.getLayout().dy/2}function kJ(a,b){return a.getLayout().y-b.getLayout().y}function Iq(a,b){return b>a?-1:a>b?1:a===b?0:0/0}function W7(a){return a.getValue()}function Ok(a,b,c){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(a,b,c),this.model=a}function S8(a,b){var c=[];return a.eachComponent("singleAxis",function(e,f){var d=new Ok(e,a,b);d.name="single_"+f,d.resize(e,b),e.coordinateSystem=d,c.push(d)}),a.eachSeries(function(d){if("singleAxis"===d.get("coordinateSystem")){var f=a.queryComponents({mainType:"singleAxis",index:d.get("singleAxisIndex"),id:d.get("singleAxisId")})[0];d.coordinateSystem=f&&f.coordinateSystem}}),c}function Nk(y,p){p=p||{};var g=y.coordinateSystem,k=y.axis,f={},w=k.position,b=k.orient,z=g.getRect(),j=[z.x,z.x+z.width,z.y,z.y+z.height],x={horizontal:{top:j[2],bottom:j[3]},vertical:{left:j[0],right:j[1]}};f.position=["vertical"===b?x.vertical[w]:j[0],"horizontal"===b?x.horizontal[w]:j[3]];var m={horizontal:0,vertical:1};f.rotation=Math.PI/2*m[b];var v={top:-1,bottom:1,right:1,left:-1};f.labelDirection=f.tickDirection=f.nameDirection=v[w],y.get("axisTick.inside")&&(f.tickDirection=-f.tickDirection),aam(p.labelInside,y.get("axisLabel.inside"))&&(f.labelDirection=-f.labelDirection);var q=p.rotate;return null==q&&(q=y.get("axisLabel.rotate")),f.labelRotation="top"===w?-q:q,f.labelInterval=k.getLabelInterval(),f.z2=1,f}function abs(a,b){return b.type||(b.data?"category":"value")}function Kq(k,g,c,f,b){var h=k.axis;if(!h.scale.isBlank()&&h.containData(g)){if(!k.involveSeries){return void c.showPointer(k,g)}var m=Jq(g,k),d=m.payloadBatch,j=m.snapToValue;d[0]&&null==b.seriesIndex&&YY(b,d[0]),!f&&k.snap&&h.containData(j)&&null!=j&&(g=j),c.showPointer(k,g,d,b),c.showTooltip(k,m,j)}}function Jq(d,h){var k=h.axis,c=k.dim,j=d,b=[],g=Number.MAX_VALUE,f=-1;return RE(h.seriesModels,function(o){var a,i,m=o.coordDimToDataDim(c);if(o.getAxisTooltipData){var q=o.getAxisTooltipData(m,d,k);i=q.dataIndices,a=q.nestestValue}else{if(i=o.getData().indicesOfNearest(m[0],d,!1,"category"===k.type?0.5:null),!i.length){return}a=o.getData().get(m[0],i[0])}if(null!=a&&isFinite(a)){var p=d-a,n=Math.abs(p);g>=n&&((g>n||p>=0&&0>f)&&(g=n,f=p,j=a,b.length=0),RE(i,function(e){b.push({seriesIndex:o.seriesIndex,dataIndexInside:e,dataIndex:o.getData().getRawIndex(e)})}))}}),{payloadBatch:b,snapToValue:j}}function Qk(b,c,d,a){b[c.key]={value:d,payloadBatch:a}}function Hq(q,k,d,g){var c=d.payloadBatch,m=k.axis,b=m.model,v=k.axisPointerModel;if(k.triggerTooltip&&c.length){var f=k.coordSys.model,p=K6(f),j=q.map[p];j||(j=q.map[p]={coordSysId:f.id,coordSysIndex:f.componentIndex,coordSysType:f.type,coordSysMainType:f.mainType,dataByAxis:[]},q.list.push(j)),j.dataByAxis.push({axisDim:m.dim,axisIndex:b.componentIndex,axisType:b.type,axisId:b.id,value:g,valueLabelOpt:{precision:v.get("label.precision"),formatter:v.get("label.formatter")},seriesDataIndices:c.slice()})}}function T7(b,c,d){var a=d.axesInfo=[];RE(c,function(g,i){var h=g.axisPointerModel.option,f=b[i];f?(!g.useHandle&&(h.status="show"),h.value=f.value,h.seriesDataIndices=(f.payloadBatch||[]).slice()):!g.useHandle&&(h.status="hide"),"show"===h.status&&a.push({axisDim:g.axis.dim,axisIndex:g.axis.model.componentIndex,value:h.value})})}function ZW(b,c,f,a){if(Mk(c)||!b.list.length){return void a({type:"hideTip"})}var d=((b.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};a({type:"showTip",escapeConnect:!0,x:c[0],y:c[1],tooltipOption:f.tooltipOption,position:f.position,dataIndexInside:d.dataIndexInside,dataIndex:d.dataIndex,seriesIndex:d.seriesIndex,dataByCoordSys:b.list})}function X6(k,h,d){var g=d.getZr(),c="axisPointerLastHighlights",j=Vt(g)[c]||{},b=Vt(g)[c]={};RE(k,function(a){var i=a.axisPointerModel.option;"show"===i.status&&RE(i.seriesDataIndices,function(l){var n=l.seriesIndex+" | "+l.dataIndex;b[n]=l})});var m=[],f=[];ZR(j,function(a,i){!b[i]&&f.push(a)}),ZR(b,function(a,i){!j[i]&&m.push(a)}),f.length&&d.dispatchAction({type:"downplay",escapeConnect:!0,batch:f}),m.length&&d.dispatchAction({type:"highlight",escapeConnect:!0,batch:m})}function V7(b,c){for(var d=0;d<(b||[]).length;d++){var a=b[d];if(c.axis.dim===a.axisDim&&c.axis.model.componentIndex===a.axisIndex){return a}}}function U7(b){var c=b.axis.model,d={},a=d.axisDim=b.axis.dim;return d.axisIndex=d[a+"AxisIndex"]=c.componentIndex,d.axisName=d[a+"AxisName"]=c.name,d.axisId=d[a+"AxisId"]=c.id,d}function Mk(a){return !a||null==a[0]||isNaN(a[0])||null==a[1]||isNaN(a[1])}function Pk(b,c,f){if(!VG.node){var a=c.getZr();Z6(a).records||(Z6(a).records={}),Gq(a,c);var d=Z6(a).records[b]||(Z6(a).records[b]={});d.handler=f}}function Gq(a,b){function c(e,d){a.on(e,function(g){var f=aaR(b);Xt(Z6(a).records,function(h){h&&d(h,g,f.dispatchAction)}),Dt(f.pendings,b)})}Z6(a).initialized||(Z6(a).initialized=!0,c("click",YG(aR,"click")),c("mousemove",YG(aR,"mousemove")),c("globalout",Et))}function Dt(b,c){var f,a=b.showTip.length,d=b.hideTip.length;a?f=b.showTip[a-1]:d&&(f=b.hideTip[d-1]),f&&(f.dispatchAction=null,c.dispatchAction(f))}function Et(a,b,c){a.handler("leave",null,c)}function aR(b,c,d,a){c.handler(b,d,a)}function aaR(a){var b={showTip:[],hideTip:[]},c=function(d){var e=b[d.type];e?e.push(d):(d.dispatchAction=c,a.dispatchAction(d))};return{dispatchAction:c,pendings:b}}function Fq(b,c){if(!VG.node){var d=c.getZr(),a=(Z6(d).records||{})[b];a&&(Z6(d).records[b]=null)}}function iK(){}function oH(b,c,d,a){sG(NF(d).lastProp,a)||(NF(d).lastProp=a,c?iX(d,a,b):(d.stopAnimation(),d.attr(a)))}function sG(a,b){if(YJ(a)&&YJ(b)){var c=!0;return ZR(b,function(f,d){c=c&&sG(a[d],f)}),!!c}return a===b}function hK(a,b){a[b.get("label.show")?"show":"hide"]()}function AB(a){return{position:a.position.slice(),rotation:a.rotation||0}}function xF(b,c,f){var a=c.get("z"),d=c.get("zlevel");b&&b.traverse(function(e){"group"!==e.type&&(null!=a&&(e.z=a),null!=d&&(e.zlevel=d),e.silent=f)})}function yF(b){var c,d=b.get("type"),a=b.getModel(d+"Style");return"line"===d?(c=a.getLineStyle(),c.fill=null):"shadow"===d&&(c=a.getAreaStyle(),c.stroke=null),c}function pH(G,B,q,x,k){var E=q.get("value"),b=Rj(E,B.axis,B.ecModel,q.get("seriesDataIndices"),{precision:q.get("label.precision"),formatter:q.get("label.formatter")}),H=q.getModel("label"),w=OK(H.get("padding")||0),F=H.getFont(),y=VY(b,F),D=k.position,C=y.width+w[1]+w[3],A=y.height+w[0]+w[2],z=k.align;"right"===z&&(D[0]-=C),"center"===z&&(D[0]-=C/2);var j=k.verticalAlign;"bottom"===j&&(D[1]-=A),"middle"===j&&(D[1]-=A/2),lH(D,C,A,x);var v=H.get("backgroundColor");v&&"auto"!==v||(v=B.get("axisLine.lineStyle.color")),G.label={shape:{x:0,y:0,width:C,height:A,r:H.get("borderRadius")},position:D.slice(),style:{text:b,textFont:F,textFill:H.getTextColor(),textPosition:"inside",fill:v,stroke:H.get("borderColor")||"transparent",lineWidth:H.get("borderWidth")||0,shadowBlur:H.get("shadowBlur"),shadowColor:H.get("shadowColor"),shadowOffsetX:H.get("shadowOffsetX"),shadowOffsetY:H.get("shadowOffsetY")},z2:10}}function lH(d,f,h,c){var g=c.getWidth(),b=c.getHeight();d[0]=Math.min(d[0]+f,g)-f,d[1]=Math.min(d[1]+h,b)-h,d[0]=Math.max(d[0],0),d[1]=Math.max(d[1],0)}function Rj(d,h,k,c,j){var b=h.scale.getLabel(d,{precision:j.precision}),g=j.formatter;if(g){var f={value:c6(h,d),seriesData:[]};ZR(c,function(l){var m=k.getSeriesByIndex(l.seriesIndex),a=l.dataIndexInside,n=m&&m.getDataParams(a);n&&f.seriesData.push(n)}),Z1(g)?b=g.replace("{value}",b):Z8(g)&&(b=g(f))}return b}function mH(b,c,d){var a=abu();return T9(a,a,d.rotation),Hz(a,a,d.position),hX([b.dataToCoord(c),(d.labelOffset||0)+(d.labelDirection||1)*(d.labelMargin||0)],a)}function CE(d,g,j,c,h,b){var f=vq.innerTextLayout(j.rotation,0,j.labelDirection);j.labelMargin=h.get("label.margin"),pH(g,c,h,b,{position:mH(c.axis,d,j),align:f.textAlign,verticalAlign:f.textVerticalAlign})}function nH(a,b,c){return c=c||0,{x1:a[c],y1:a[1-c],x2:b[c],y2:b[1-c]}}function wF(a,b,c){return c=c||0,{x:a[c],y:a[1-c],width:b[c],height:b[1-c]}}function jJ(d,f,h,c,g,b){return{cx:d,cy:f,r0:h,r:c,startAngle:g,endAngle:b,clockwise:!0}}function zE(a,b){var c={};return c[b.dim+"AxisIndex"]=b.index,a.getCartesian(c)}function fK(a){return"x"===a.dim?0:1}function uG(a){return a.isHorizontal()?0:1}function eK(a,b){var c=a.getRect();return[c[a8[b]],c[a8[b]]+c[abz[b]]]}function tG(b,c,d){var a=new hW({shape:{x:b.x-10,y:b.y-10,width:0,height:b.height+20}});return oV(a,{shape:{width:b.width+20,height:b.height+20}},c,d),a}function vG(A,v,j){if(A.count()){for(var m,g=v.coordinateSystem,y=v.getLayerSeries(),b=ZN(y,function(a){return ZN(a.indices,function(c){var d=g.dataToPoint(A.get("time",c));return d[1]=A.get("value",c),d})}),B=bQ(b),k=B.y0,z=j/B.max,p=y.length,x=y[0].indices.length,w=0;x>w;++w){m=k[w]*z,A.setItemLayout(y[0].indices[w],{layerIndex:0,x:b[0][w][0],y0:m,y:b[0][w][1]*z});for(var q=1;p>q;++q){m+=b[q-1][w][1]*z,A.setItemLayout(y[q].indices[w],{layerIndex:q,x:b[q][w][0],y0:m,y:b[q][w][1]*z})}}}}function bQ(y){for(var p,g=y.length,k=y[0].length,f=[],w=[],b=0,z={},j=0;k>j;++j){for(var x=0,p=0;g>x;++x){p+=y[x][j][1]}p>b&&(b=p),f.push(p)}for(var m=0;k>m;++m){w[m]=(b-f[m])/2}b=0;for(var v=0;k>v;++v){var q=f[v]+w[v];q>b&&(b=q)}return z.y0=w,z.max=b,z}function dK(C,x,k,p){var j=C.getItemLayout(x),A=k.get("symbolRepeat"),b=k.get("symbolClip"),D=k.get("symbolPosition")||"start",m=k.get("symbolRotate"),B=(m||0)*Math.PI/180||0,q=k.get("symbolPatternSize")||2,z=k.isAnimationEnabled(),y={dataIndex:x,layout:j,itemModel:k,symbolType:C.getItemVisual(x,"symbol")||"circle",color:C.getItemVisual(x,"color"),symbolClip:b,symbolRepeat:A,symbolRepeatDirection:k.get("symbolRepeatDirection"),symbolPatternSize:q,rotation:B,animationModel:z?k:null,hoverAnimation:z&&k.get("hoverAnimation"),z2:k.getShallow("z",!0)||0};cK(k,A,j,p,y),Lk(C,x,j,A,b,y.boundingLength,y.pxSign,q,p,y),R9(k,y.symbolScale,B,p,y);var w=y.symbolSize,v=k.get("symbolOffset");return YH(v)&&(v=[E9(v[0],w[0]),E9(v[1],w[1])]),BF(k,w,j,A,b,v,D,y.valueLineWidth,y.boundingLength,y.repeatCutLength,p,y),y}function cK(w,m,f,j,d){var q,b=j.valueDim,x=w.get("symbolBoundingData"),g=j.coordSys.getOtherAxis(j.coordSys.getBaseAxis()),v=g.toGlobalCoord(g.dataToCoord(0)),k=1-+(f[b.wh]<=0);if(YH(x)){var p=[gK(g,x[0])-v,gK(g,x[1])-v];p[1]<p[0]&&p.reverse(),q=p[k]}else{q=null!=x?gK(g,x)-v:m?j.coordSysExtent[b.index][k]-v:f[b.wh]}d.boundingLength=q,m&&(d.repeatCutLength=f[b.wh]),d.pxSign=q>0?1:0>q?-1:0}function gK(a,b){return a.toGlobalCoord(a.dataToCoord(a.scale.parse(b)))}function Lk(C,x,k,p,j,A,b,D,m,B){var q=m.valueDim,z=m.categoryDim,y=Math.abs(k[z.wh]),w=C.getItemVisual(x,"symbolSize");YH(w)?w=w.slice():(null==w&&(w="100%"),w=[w,w]),w[z.index]=E9(w[z.index],y),w[q.index]=E9(w[q.index],p?y:Math.abs(A)),B.symbolSize=w;var v=B.symbolScale=[w[0]/D,w[1]/D];v[q.index]*=(m.isHorizontal?-1:1)*b}function R9(d,f,h,c,g){var b=d.get(zN)||0;b&&(mR.attr({scale:f.slice(),rotation:h}),mR.updateTransform(),b/=mR.getLineScale(),b*=f[c.valueDim.index]),g.valueLineWidth=b}function BF(J,ab,U,X,T,af,N,W,H,Y,ad,ac){var aa=ad.categoryDim,Z=ad.valueDim,R=ac.pxSign,V=Math.max(ab[Z.index]+W,0),G=V;if(X){var z=Math.abs(H),E=aam(J.get("symbolMargin"),"15%")+"",ag=!1;E.lastIndexOf("!")===E.length-1&&(ag=!0,E=E.slice(0,E.length-1)),E=E9(E,ab[Z.index]);var ae=Math.max(V+2*E,0),F=ag?0:2*E,j=wz(X),q=j?X:VV((z+F)/ae),B=z-q*V;E=B/2/(ag?q:q-1),ae=V+2*E,F=ag?0:2*E,j||"fixed"===X||(q=Y?VV((Math.abs(Y)+F)/ae):0),G=q*ae-F,ac.repeatTimes=q,ac.symbolMargin=E}var Q=R*(G/2),K=ac.pathPosition=[];K[aa.index]=U[aa.wh]/2,K[Z.index]="start"===N?Q:"end"===N?H-Q:H/2,af&&(K[0]+=af[0],K[1]+=af[1]);var O=ac.bundlePosition=[];O[aa.index]=U[aa.xy],O[Z.index]=U[Z.xy];var r=ac.barRectShape=YY({},U);r[Z.wh]=R*Math.max(Math.abs(U[Z.wh]),Math.abs(K[Z.index]+Q)),r[aa.wh]=U[aa.wh];var k=ac.clipShape={};k[aa.xy]=-U[aa.xy],k[aa.wh]=ad.ecSize[aa.wh],k[Z.xy]=0,k[Z.wh]=U[Z.wh]}function qG(a){var b=a.symbolPatternSize,c=xq(a.symbolType,-b/2,-b/2,b,b,a.color);return c.attr({culling:!0}),"image"!==c.type&&c.setStyle({strokeNoScale:!0}),c}function rG(G,B,q,x){function k(c){var d=y.slice(),a=q.pxSign,f=c;return("start"===q.symbolRepeatDirection?a>0:0>a)&&(f=C-1-c),d[D.index]=z*(f-C/2+0.5)+y[D.index],{position:d,scale:q.symbolScale.slice(),rotation:q.rotation}}function E(){TV(G,function(a){a.trigger("emphasis")})}function b(){TV(G,function(a){a.trigger("normal")})}var H=G.__pictorialBundle,w=q.symbolSize,F=q.valueLineWidth,y=q.pathPosition,D=B.valueDim,C=q.repeatTimes||0,A=0,z=w[B.valueDim.index]+F+2*q.symbolMargin;for(TV(G,function(a){a.__pictorialAnimationIndex=A,a.__pictorialRepeatTimes=C,C>A?Y7(a,null,k(A),q,x):Y7(a,null,{scale:[0,0]},q,x,function(){H.remove(a)}),abg(a,q),A++});C>A;A++){var j=qG(q);j.__pictorialAnimationIndex=A,j.__pictorialRepeatTimes=C,H.add(j);var v=k(A);Y7(j,{position:v.position,scale:[0,0]},{scale:v.scale,rotation:v.rotation},q,x),j.on("mouseover",E).on("mouseout",b),abg(j,q)}}function kH(d,h,k,c){function j(){this.trigger("emphasis")}function b(){this.trigger("normal")}var g=d.__pictorialBundle,f=d.__pictorialMainPath;f?Y7(f,null,{position:k.pathPosition.slice(),scale:k.symbolScale.slice(),rotation:k.rotation},k,c):(f=d.__pictorialMainPath=qG(k),g.add(f),Y7(f,{position:k.pathPosition.slice(),scale:[0,0],rotation:k.rotation},{scale:k.symbolScale.slice()},k,c),f.on("mouseover",j).on("mouseout",b)),abg(f,k)}function H0(b,c,f){var a=YY({},c.barRectShape),d=b.__pictorialBarRect;d?Y7(d,null,{shape:a},c,f):(d=b.__pictorialBarRect=new hW({z2:2,shape:a,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),b.add(d))}function WV(p,j,c,f){if(c.symbolClip){var b=p.__pictorialClipPath,k=YY({},c.clipShape),q=j.valueDim,d=c.animationModel,m=c.dataIndex;if(b){iX(b,{shape:k},d,m)}else{k[q.wh]=0,b=new hW({shape:k}),p.__pictorialBundle.setClipPath(b),p.__pictorialClipPath=b;var g={};g[q.wh]=c.clipShape[q.wh],uR[f?"updateProps":"initProps"](b,{shape:g},d,m)}}}function NZ(a,b){var c=a.getItemModel(b);return c.getAnimationDelayParams=SX,c.isAnimationEnabled=MZ,c}function SX(a){return{index:a.__pictorialAnimationIndex,count:a.__pictorialRepeatTimes}}function MZ(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function abg(a,b){a.off("emphasis").off("normal");var c=b.symbolScale.slice();b.hoverAnimation&&a.on("emphasis",function(){this.animateTo({scale:[1.1*c[0],1.1*c[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:c.slice()},400,"elasticOut")})}function J0(d,f,h,c){var g=new TH,b=new TH;return g.add(b),g.__pictorialBundle=b,b.attr("position",h.bundlePosition.slice()),h.symbolRepeat?rG(g,f,h):kH(g,f,h),H0(g,h,c),WV(g,f,h,c),g.__pictorialShapeStr=G0(d,h),g.__pictorialSymbolMeta=h,g}function I0(d,f,h){var c=h.animationModel,g=h.dataIndex,b=d.__pictorialBundle;iX(b,{position:h.bundlePosition.slice()},c,g),h.symbolRepeat?rG(d,f,h,!0):kH(d,f,h,!0),H0(d,h,!0),WV(d,f,h,!0)}function PZ(d,f,h,c){var g=c.__pictorialBarRect;g&&(g.style.text=null);var b=[];TV(c,function(a){b.push(a)}),c.__pictorialMainPath&&b.push(c.__pictorialMainPath),c.__pictorialClipPath&&(h=null),ZR(b,function(a){iX(a,{scale:[0,0]},h,f,function(){c.parent&&c.parent.remove(c)})}),d.setItemGraphicEl(f,null)}function G0(a,b){return[a.getItemVisual(b.dataIndex,"symbol")||"none",!!b.symbolRepeat,!!b.symbolClip].join(":")}function TV(a,b,c){ZR(a.__pictorialBundle.children(),function(d){d!==a.__pictorialBarRect&&b.call(c,d)})}function Y7(d,f,h,c,g,b){f&&d.attr(f),c.symbolClip&&!g?h&&d.attr(h):h&&uR[g?"updateProps":"initProps"](d,h,c.animationModel,c.dataIndex,b)}function XV(x,p,g){var k=g.color,f=g.dataIndex,v=g.itemModel,b=v.getModel("itemStyle.normal").getItemStyle(["color"]),j=v.getModel("itemStyle.emphasis").getItemStyle(),w=v.getShallow("cursor");TV(x,function(a){a.setColor(k),a.setStyle(YW({fill:k,opacity:g.opacity},b)),Z9(a,j),w&&(a.cursor=w),a.z2=g.z2});var m={},s=p.valueDim.posDesc[+(g.boundingLength>0)],q=x.__pictorialBarRect;aaH(q.style,m,v,k,p.seriesModel,f,s),Z9(q,m)}function VV(a){var b=Math.round(a);return Math.abs(a-b)<0.0001?b:Math.ceil(a)}function UV(a){return a.get("stack")||"__ec_stack_"+a.seriesIndex}function LZ(a){return a.dim}function OZ(d,h,k){var c=k.getWidth(),j=k.getHeight(),b={},g={},f=F0(Y9(h.getSeriesByType(d),function(a){return !h.isSeriesFiltered(a)&&a.coordinateSystem&&"polar"===a.coordinateSystem.type}));h.eachSeriesByType(d,function(A){if("polar"===A.coordinateSystem.type){var I=A.getData(),C=A.coordinateSystem,E=C.getAngleAxis(),z=C.getBaseAxis(),F=UV(A),K=f[LZ(z)][F],J=K.offset,H=K.width,G=C.getOtherAxis(z),B=A.get("center")||["50%","50%"],D=E9(B[0],c),s=E9(B[1],j),o=A.get("barMinHeight")||0,q=A.get("barMinAngle")||0,N=G.getExtent()[0],L=G.model.get("max"),r=G.model.get("min"),a=[A.coordDimToDataDim("radius")[0],A.coordDimToDataDim("angle")[0]],i=I.mapArray(a,function(l,m){return C.dataToPoint([l,m])},!0);b[F]=b[F]||[],g[F]=g[F]||[],I.each(A.coordDimToDataDim(G.dim)[0],function(P,x){if(!isNaN(P)){b[F][x]||(b[F][x]={p:N,n:N},g[F][x]={p:N,n:N});var n,Q,O,y,l=P>=0?"p":"n",w=C.pointToCoord(i[x]),M=g[F][x][l];if("radius"===G.dim){n=M,Q=w[0],O=(-w[1]+J)*Math.PI/180,y=O+H*Math.PI/180,Math.abs(Q)<o&&(Q=n+(0>Q?-1:1)*o),g[F][x][l]=Q}else{n=w[0]+J,Q=n+H,null!=L&&(P=Math.min(P,L)),null!=r&&(P=Math.max(P,r));var v=E.dataToAngle(P);Math.abs(v-M)<q&&(v=M-(0>P?-1:1)*q),O=-M*Math.PI/180,y=-v*Math.PI/180;var m=E.getExtent(),e=v;e===m[0]&&P>0?e=m[1]:e===m[1]&&0>P&&(e=m[0]),g[F][x][l]=e}I.setItemLayout(x,{cx:D,cy:s,r0:n,r:Q,startAngle:O,endAngle:y})}},!0)}},this)}function F0(a){var b={};ZR(a,function(z){var j=z.getData(),m=z.coordinateSystem,g=m.getBaseAxis(),x=g.getExtent(),e="category"===g.type?g.getBandWidth():Math.abs(x[1]-x[0])/j.count(),A=b[LZ(g)]||{bandWidth:e,remainedWidth:e,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},k=A.stacks;b[LZ(g)]=A;var y=UV(z);k[y]||A.autoWidthCount++,k[y]=k[y]||{width:0,maxWidth:0};var p=E9(z.get("barWidth"),e),w=E9(z.get("barMaxWidth"),e),v=z.get("barGap"),q=z.get("barCategoryGap");p&&!k[y].width&&(p=Math.min(A.remainedWidth,p),k[y].width=p,A.remainedWidth-=p),w&&(k[y].maxWidth=w),null!=v&&(A.gap=v),null!=q&&(A.categoryGap=q)});var c={};return ZR(b,function(x,n){c[n]={};var k=x.stacks,g=x.bandWidth,v=E9(x.categoryGap,g),f=E9(x.gap,1),y=x.remainedWidth,j=x.autoWidthCount,w=(y-v)/(j+(j-1)*f);w=Math.max(w,0),ZR(k,function(d){var h=d.maxWidth;h&&w>h&&(h=Math.min(h,y),d.width&&(h=Math.min(h,d.width)),y-=h,d.width=h,j--)}),w=(y-v)/(j+(j-1)*f),w=Math.max(w,0);var m,q=0;ZR(k,function(d){d.width||(d.width=w),m=d,q+=d.width*(1+f)}),m&&(q-=m.width*f);var p=-q/2;ZR(k,function(e,d){c[n][d]=c[n][d]||{offset:p,width:e.width},p+=e.width*(1+f)})}),c}function C1(a,b){q4.call(this,"radius",a,b),this.type="category"}function D1(a,b){b=b||[0,360],q4.call(this,"angle",a,b),this.type="category"}function aG(a,b){return b.type||(b.data?"category":"value")}function aax(k,h,d){var g=h.get("center"),c=d.getWidth(),j=d.getHeight();k.cx=E9(g[0],c),k.cy=E9(g[1],j);var b=k.getRadiusAxis(),m=Math.min(c,j)/2,f=E9(h.get("radius"),m);b.inverse?b.setExtent(f,0):b.setExtent(0,f)}function E1(d){var f=this,h=f.getAngleAxis(),c=f.getRadiusAxis();if(h.scale.setExtent(1/0,-1/0),c.scale.setExtent(1/0,-1/0),d.eachSeries(function(a){if(a.coordinateSystem===f){var e=a.getData();c.scale.unionExtentFromData(e,"radius"),h.scale.unionExtentFromData(e,"angle")}}),t3(h.scale,h.model),t3(c.scale,c.model),"category"===h.type&&!h.onBand){var g=h.getExtent(),b=360/h.scale.count();h.inverse?g[1]+=b:g[1]-=b,h.setExtent(g[0],g[1])}}function h9(a,b){if(a.type=b.get("type"),a.scale=d6(b),a.onBand=b.get("boundaryGap")&&"category"===a.type,a.inverse=b.get("inverse"),"angleAxis"===b.mainType){a.inverse^=b.get("clockwise");var c=b.get("startAngle");a.setExtent(c,c+(a.inverse?-360:360))}b.axis=a,a.model=b}function n7(b,c,f){c[1]>c[0]&&(c=c.slice().reverse());var a=b.coordToPoint([c[0],f]),d=b.coordToPoint([c[1],f]);return{x1:a[0],y1:a[1],x2:d[0],y2:d[1]}}function r6(a){var b=a.getRadiusAxis();return b.inverse?0:1}function g9(a,b,c){return{position:[a.cx,a.cy],rotation:c/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:b.getModel("axisLabel").get("rotate"),z2:1}}function z4(k,G,z,C,y){var J=G.axis,w=J.dataToCoord(k),q=C.getAngleAxis().getExtent()[0];q=q/180*Math.PI;var B,j,D,I=C.getRadiusAxis().getExtent();if("radius"===J.dim){var H=abu();T9(H,H,q),Hz(H,H,[C.cx,C.cy]),B=hX([w,-y],H);var F=G.getModel("axisLabel").get("rotate")||0,E=vq.innerTextLayout(q,F*Math.PI/180,-1);j=E.textAlign,D=E.textVerticalAlign}else{var x=I[1];B=C.coordToPoint([x+y,w]);var A=C.cx,b=C.cy;j=Math.abs(B[0]-A)/x<0.3?"center":B[0]>A?"left":"right",D=Math.abs(B[1]-b)/x<0.3?"middle":B[1]>b?"top":"bottom"}return{position:B,align:j,verticalAlign:D}}function w5(a,b){b.update="updateView",VQ(b,function(d,f){var c={};return f.eachComponent({mainType:"geo",query:d},function(g){g[a](d.name);var e=g.coordinateSystem;ZR(e.regions,function(h){c[h.name]=g.isSelected(h.name)||!1})}),{selected:c,name:d.name}})}function x5(a){this._model=a}function o7(d,g,j,c){var h=j.calendarModel,b=j.seriesModel,f=h?h.coordinateSystem:b?b.coordinateSystem:null;return f===this?f[d](c):null}function k7(b,c){var d=b.cellSize;YH(d)?1===d.length&&(d[1]=d[0]):d=b.cellSize=[d,d];var a=ZN([0,1],function(e){return SW(c,e)&&(d[e]="auto"),null!=d[e]&&"auto"!==d[e]});MY(b,c,{type:"box",ignoreSize:a})}function QZ(d,f,h){var c,g={},b="toggleSelected"===d;return h.eachComponent("legend",function(e){b&&null!=c?e[c?"select":"unSelect"](f.name):(e[d](f.name),c=e.isSelected(f.name));var a=e.getData();ZR(a,function(k){var l=k.get("name");if("\n"!==l&&""!==l){var j=e.isSelected(l);g[l]=g.hasOwnProperty(l)?g[l]&&j:j}})}),{name:f.name,selected:g}}function l7(d,g,j){var c=g.getBoxLayoutParams(),h=g.get("padding"),b={width:j.getWidth(),height:j.getHeight()},f=WU(c,b,h);NQ(g.get("orient"),d,g.get("itemGap"),f.width,f.height),NY(d,c,b,h)}function B9(b,c){var d=OK(c.get("padding")),a=c.getItemStyle(["color","opacity"]);a.fill=c.get("backgroundColor");var b=new hW({shape:{x:b.x-d[3],y:b.y-d[0],width:b.width+d[1]+d[3],height:b.height+d[0]+d[2],r:c.get("borderRadius")},style:a,silent:!0,z2:-1});return b}function m7(a,b){b.dispatchAction({type:"legendToggleSelect",name:a})}function v6(b,c,d){var a=d.getZr().storage.getDisplayList()[0];a&&a.useHoverLayer||b.get("legendHoverLink")&&d.dispatchAction({type:"highlight",seriesName:b.name,name:c})}function i9(b,c,d){var a=d.getZr().storage.getDisplayList()[0];a&&a.useHoverLayer||b.get("legendHoverLink")&&d.dispatchAction({type:"downplay",seriesName:b.name,name:c})}function y5(b,c,f){var a=b.getOrient(),d=[1,1];d[a.index]=0,MY(c,f,{type:"box",ignoreSize:d})}function e9(a){var b="cubic-bezier(0.23, 1, 0.32, 1)",c="left "+a+"s "+b+",top "+a+"s "+b;return ZN(abI,function(d){return d+"transition:"+c}).join(";")}function t6(b){var c=[],d=b.get("fontSize"),a=b.getTextColor();return a&&c.push("color:"+a),c.push("font:"+b.getFont()),d&&c.push("line-height:"+Math.round(3*d/2)+"px"),T3(["decoration","align"],function(f){var e=b.get(f);e&&c.push("text-"+f+":"+e)}),c.join(";")}function d9(d){var f=[],h=d.get("transitionDuration"),c=d.get("backgroundColor"),g=d.getModel("textStyle"),b=d.get("padding");return h&&f.push(e9(h)),c&&(VG.canvasSupported?f.push("background-Color:"+c):(f.push("background-Color:#"+yH(c)),f.push("filter:alpha(opacity=70)"))),T3(["width","color","radius"],function(l){var j="border-"+l,k=N7(j),e=d.get(k);null!=e&&f.push(j+":"+e+("color"===l?"":"px"))}),f.push(t6(g)),null!=b&&f.push("padding:"+OK(b).join("px ")+"px"),f.join(";")+";"}function s6(b,c){var f=document.createElement("div"),a=this._zr=c.getZr();this.el=f,this._x=c.getWidth()/2,this._y=c.getHeight()/2,b.appendChild(f),this._container=b,this._show=!1,this._hideTimeout;var d=this;f.onmouseenter=function(){d._enterable&&(clearTimeout(d._hideTimeout),d._show=!0),d._inContent=!0},f.onmousemove=function(g){if(g=g||window.event,!d._enterable){var h=a.handler;I9(b,g,!0),h.dispatch("mousemove",g)}},f.onmouseleave=function(){d._enterable&&d._show&&d.hideLater(d._hideDelay),d._inContent=!1}}function u6(a){for(var b=a.pop();a.length;){var c=a.pop();c&&(c instanceof RG&&(c=c.get("tooltip",!0)),"string"==typeof c&&(c={formatter:c}),b=new RG(c,b,b.ecModel))}return b}function bF(a,b){return a.dispatchAction||YN(b.dispatchAction,b)}function c9(m,h,d,g,c,j,b){var p=f9(d),f=p.width,k=p.height;return null!=j&&(m+f+j>g?m-=f+j:m+=j),null!=b&&(h+k+b>c?h-=k+b:h+=b),[m,h]}function b9(d,h,k,c,j){var b=f9(k),g=b.width,f=b.height;return d=Math.min(d+g,c)-g,h=Math.min(h+f,j)-f,d=Math.max(d,0),h=Math.max(h,0),[d,h]}function f9(b){var c=b.clientWidth,d=b.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var a=document.defaultView.getComputedStyle(b);a&&(c+=parseInt(a.paddingLeft,10)+parseInt(a.paddingRight,10)+parseInt(a.borderLeftWidth,10)+parseInt(a.borderRightWidth,10),d+=parseInt(a.paddingTop,10)+parseInt(a.paddingBottom,10)+parseInt(a.borderTopWidth,10)+parseInt(a.borderBottomWidth,10))}return{width:c,height:d}}function K0(m,h,d){var g=d[0],c=d[1],j=5,b=0,p=0,f=h.width,k=h.height;switch(m){case"inside":b=h.x+f/2-g/2,p=h.y+k/2-c/2;break;case"top":b=h.x+f/2-g/2,p=h.y-c-j;break;case"bottom":b=h.x+f/2-g/2,p=h.y+k+j;break;case"left":b=h.x-g-j,p=h.y+k/2-c/2;break;case"right":b=h.x+f+j,p=h.y+k/2-c/2}return[b,p]}function RY(a){return"center"===a||"middle"===a}function Bj(a){wR(a.label,["show"])}function p7(a){return !(isNaN(parseFloat(a.x))&&isNaN(parseFloat(a.y)))}function q6(a){return !isNaN(parseFloat(a.x))&&!isNaN(parseFloat(a.y))}function j8(b,c,d){var a=-1;do{a=Math.max(sB(b.get(c,d)),a),b=b.stackedOn}while(b);return a}function H4(m,h,d,g,c,j){var b=[],p=abk(h,g,m),f=h.indicesOfNearest(g,p,!0)[0];b[c]=h.get(d,f,!0),b[j]=h.get(g,f,!0);var k=j8(h,g,f);return k=Math.min(k,20),k>=0&&(b[j]=+b[j].toFixed(k)),b}function WZ(q,j){var f=q.getData(),d=q.coordinateSystem;if(j&&!q6(j)&&!YH(j.coord)&&d){var m=d.dimensions,b=N3(j,f,d,q);if(j=ZJ(j),j.type&&P7[j.type]&&b.baseAxis&&b.valueAxis){var v=V3(m,b.baseAxis.dim),g=V3(m,b.valueAxis.dim);j.coord=P7[j.type](f,b.baseDataDim,b.valueDataDim,v,g),j.value=j.coord[g]}else{for(var p=[null!=j.xAxis?j.xAxis:j.radiusAxis,null!=j.yAxis?j.yAxis:j.angleAxis],i=0;2>i;i++){if(P7[p[i]]){var k=q.coordDimToDataDim(m[i])[0];p[i]=abk(f,k,p[i])}}j.coord=p}}return j}function N3(b,c,f,a){var d={};return null!=b.valueIndex||null!=b.valueDim?(d.valueDataDim=null!=b.valueIndex?c.getDimension(b.valueIndex):b.valueDim,d.valueAxis=f.getAxis(a.dataDimToCoordDim(d.valueDataDim)),d.baseAxis=f.getOtherAxis(d.valueAxis),d.baseDataDim=a.coordDimToDataDim(d.baseAxis.dim)[0]):(d.baseAxis=a.getBaseAxis(),d.valueAxis=f.getOtherAxis(d.baseAxis),d.baseDataDim=a.coordDimToDataDim(d.baseAxis.dim)[0],d.valueDataDim=a.coordDimToDataDim(d.valueAxis.dim)[0]),d}function S0(a,b){return a&&a.containData&&b.coord&&!p7(b)?a.containData(b.coord):!0}function M3(b,c,d,a){return 2>a?b.coord&&b.coord[a]:b.value}function abk(b,c,f){if("average"===f){var a=0,d=0;return b.each(c,function(e){isNaN(e)||(a+=e,d++)},!0),a/d}return b.getDataExtent(c,!0)["max"===f?1:0]}function J4(b,c,d){var a=c.coordinateSystem;b.each(function(m){var f,k=b.getItemModel(m),j=E9(k.get("x"),d.getWidth()),e=E9(k.get("y"),d.getHeight());if(isNaN(j)||isNaN(e)){if(c.getMarkerPosition){f=c.getMarkerPosition(b.getValues(b.dimensions,m))}else{if(a){var g=b.get(a.dimensions[0],m),i=b.get(a.dimensions[1],m);f=a.dataToPoint([g,i])}}}else{f=[j,e]}isNaN(j)||(f[0]=j),isNaN(e)||(f[1]=e),b.setItemLayout(m,f)})}function I4(d,f,h){var c;c=d?ZN(d&&d.dimensions,function(a){var e=f.getData().getDimensionInfo(f.coordDimToDataDim(a)[0])||{};return e.name=a,e}):[{name:"value",type:"float"}];var g=new P4(c,h),b=ZN(h.get("data"),YG(WZ,f));return d&&(b=Y9(b,YG(S0,d))),g.initData(b,null,d?M3:function(a){return a.value}),g}function P3(a){return !isNaN(a)&&!isFinite(a)}function G4(d,f,h,c){var g=1-d,b=c.dimensions[d];return P3(f[g])&&P3(h[g])&&f[d]===h[d]&&c.getAxis(b).containData(f[d])}function TZ(b,c){if("cartesian2d"===b.type){var d=c[0].coord,a=c[1].coord;if(d&&a&&(G4(1,d,a,b)||G4(0,d,a,b))){return !0}}return S0(b,c[0])&&S0(b,c[1])}function Zz(C,x,k,p,j){var A,b=p.coordinateSystem,D=C.getItemModel(x),m=E9(D.get("x"),j.getWidth()),B=E9(D.get("y"),j.getHeight());if(isNaN(m)||isNaN(B)){if(p.getMarkerPosition){A=p.getMarkerPosition(C.getValues(C.dimensions,x))}else{var q=b.dimensions,z=C.get(q[0],x),y=C.get(q[1],x);A=b.dataToPoint([z,y])}if("cartesian2d"===b.type){var w=b.getAxis("x"),v=b.getAxis("y"),q=b.dimensions;P3(C.get(q[0],x))?A[0]=w.toGlobalCoord(w.getExtent()[k?0:1]):P3(C.get(q[1],x))&&(A[1]=v.toGlobalCoord(v.getExtent()[k?0:1]))}isNaN(m)||(A[0]=m),isNaN(B)||(A[1]=B)}else{A=[m,B]}C.setItemLayout(x,A)}function XY(k,h,d){var g;g=k?ZN(k&&k.dimensions,function(a){var e=h.getData().getDimensionInfo(h.coordDimToDataDim(a)[0])||{};return e.name=a,e}):[{name:"value",type:"float"}];var c=new P4(g,d),j=new P4(g,d),b=new P4([],d),m=ZN(d.get("data"),YG(D9,h,k,d));k&&(m=Y9(m,YG(TZ,k)));var f=k?M3:function(a){return a.value};return c.initData(ZN(m,function(a){return a[0]}),null,f),j.initData(ZN(m,function(a){return a[1]}),null,f),b.initData(ZN(m,function(a){return a[2]})),b.hasItemOption=!0,{from:c,to:j,line:b}}function VZ(a){return !isNaN(a)&&!isFinite(a)}function UZ(b,c,d){var a=1-b;return VZ(c[a])&&VZ(d[a])}function L3(b,c){var d=c.coord[0],a=c.coord[1];return"cartesian2d"===b.type&&d&&a&&(UZ(1,d,a,b)||UZ(0,d,a,b))?!0:S0(b,{coord:d,x:c.x0,y:c.y0})||S0(b,{coord:a,x:c.x1,y:c.y1})}function O3(A,v,j,m,g){var y,b=m.coordinateSystem,B=A.getItemModel(v),k=E9(B.get(j[0]),g.getWidth()),z=E9(B.get(j[1]),g.getHeight());if(isNaN(k)||isNaN(z)){if(m.getMarkerPosition){y=m.getMarkerPosition(A.getValues(j,v))}else{var p=A.get(j[0],v),x=A.get(j[1],v);y=b.dataToPoint([p,x],!0)}if("cartesian2d"===b.type){var w=b.getAxis("x"),q=b.getAxis("y"),p=A.get(j[0],v),x=A.get(j[1],v);VZ(p)?y[0]=w.toGlobalCoord(w.getExtent()["x0"===j[0]?0:1]):VZ(x)&&(y[1]=q.toGlobalCoord(q.getExtent()["y0"===j[1]?0:1]))}isNaN(k)||(y[0]=k),isNaN(z)||(y[1]=z)}else{y=[k,z]}return y}function F4(d,h,k){var c,j,b=["x0","y0","x1","y1"];d?(c=ZN(d&&d.dimensions,function(a){var e=h.getData().getDimensionInfo(h.coordDimToDataDim(a)[0])||{};return e.name=a,e}),j=new P4(ZN(b,function(a,i){return{name:a,type:c[i%2].type}}),k)):(c=[{name:"value",type:"float"}],j=new P4(c,k));var g=ZN(k.get("data"),YG(E8,h,d,k));d&&(g=Y9(g,YG(L3,d)));var f=d?function(l,m,o,a){return l.coord[Math.floor(a/2)][a%2]}:function(a){return a.value};return j.initData(g,null,f),j.hasItemOption=!0,j}function C5(b){var c=b.type,d={number:"value",time:"time"};if(d[c]&&(b.axisType=d[c],delete b.type),D5(b),aK(b,"controlPosition")){var a=b.controlStyle||(b.controlStyle={});aK(a,"position")||(a.position=b.controlPosition),"none"!==a.position||aK(a,"show")||(a.show=!1,delete a.position),delete b.controlPosition}ZR(b.data||[],function(e){YJ(e)&&!YH(e)&&(!aK(e,"value")&&aK(e,"name")&&(e.value=e.name),D5(e))})}function D5(d){var f=d.itemStyle||(d.itemStyle={}),h=f.emphasis||(f.emphasis={}),c=d.label||d.label||{},g=c.normal||(c.normal={}),b={normal:1,emphasis:1};ZR(c,function(a,i){b[i]||aK(g,i)||(g[i]=a)}),h.label&&!aK(c,"emphasis")&&(c.emphasis=h.label,delete h.label)}function aK(a,b){return a.hasOwnProperty(b)}function aaE(a,b){return WU(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()},a.get("padding"))}function E5(c,d,g,f){var b=cq(c.get(d).replace(/^path:\/\//,""),ZJ(f||{}),new gO(g[0],g[1],g[2],g[3]),"center");return b}function iz(y,p,g,k,w,b){var z=p.get("color");if(w){w.setColor(z),g.add(w),b&&b.onUpdate(w)}else{var j=y.get("symbol");w=xq(j,-1,-1,2,2,z),w.setStyle("strokeNoScale",!0),g.add(w),b&&b.onCreate(w)}var x=p.getItemStyle(["color","symbol","symbolSize"]);w.setStyle(x),k=Y5({rectHover:!0,z2:100},k,!0);var m=y.get("symbolSize");m=m instanceof Array?m.slice():[+m,+m],m[0]/=2,m[1]/=2,k.scale=m;var v=y.get("symbolOffset");if(v){var q=k.position=k.position||[0,0];q[0]+=E9(v[0],m[0]),q[1]+=E9(v[1],m[1])}var o=y.get("symbolRotate");return k.rotation=(o||0)*Math.PI/180||0,w.attr(k),w.updateTransform(),w}function oq(d,g,j,c,h){if(!d.dragging){var b=c.getModel("checkpointStyle"),f=j.dataToCoord(c.getData().get(["value"],g));h||!b.get("animation",!0)?d.attr({position:[f,0]}):(d.stopAnimation(!0),d.animateTo({position:[f,0]},b.get("animationDuration",!0),b.get("animationEasing",!0)))}}function sj(a){return YR(qz,a)>=0}function hz(b,c){b=b.slice();var d=ZN(b,bN);c=(c||[]).slice();var a=ZN(c,bN);return function(f,e){ZR(b,function(h,j){for(var i={name:h,capital:d[j]},g=0;g<c.length;g++){i[c[g]]=h+a[g]}f.call(e,i)})}}function z8(d,f,h){function c(a,i){return YR(i.nodes,a)>=0}function g(e,a){var j=!1;return f(function(i){ZR(h(e,i)||[],function(k){a.records[i.name][k]&&(j=!0)})}),j}function b(e,a){a.nodes.push(e),f(function(i){ZR(h(e,i)||[],function(j){a.records[i.name][j]=!0})})}return function(j){function i(k){!c(k,e)&&g(k,e)&&(b(k,e),a=!0)}var e={nodes:[],records:{}};if(f(function(k){e.records[k.name]={}}),!j){return e}b(j,e);var a;do{a=!1,d(i)}while(a);return e}}function w9(b,c,d){var a=[1/0,-1/0];return R5(d,function(e){var f=e.getData();f&&R5(e.coordDimToDataDim(c),function(g){var h=f.getDataExtent(g);h[0]<a[0]&&(a[0]=h[0]),h[1]>a[1]&&(a[1]=h[1])})}),a[1]<a[0]&&(a=[0/0,0/0]),x9(b,a),a}function x9(d,g){var j=d.getAxisModel(),c=j.getMin(!0),h="category"===j.get("type"),b=h&&(j.get("data")||[]).length;null!=c&&"dataMin"!==c&&"function"!=typeof c?g[0]=c:h&&(g[0]=b>0?0:0/0);var f=j.getMax(!0);return null!=f&&"dataMax"!==f&&"function"!=typeof f?g[1]=f:h&&(g[1]=b>0?b-1:0/0),j.get("scale",!0)||(g[0]>0&&(g[0]=0),g[1]<0&&(g[1]=0)),g}function pq(d,g){var j=d.getAxisModel(),c=d._percentWindow,h=d._valueWindow;if(c){var b=Aq(h,[0,500]);b=Math.min(b,20);var f=g||0===c[0]&&100===c[1];j.setRange(f?null:+h[0].toFixed(b),f?null:+h[1].toFixed(b))}}function lq(a){var b=a._minMaxSpan={},c=a._dataZoomModel;R5(["min","max"],function(e){b[e+"Span"]=c.get(e+"Span");var f=c.get(e+"ValueSpan");if(null!=f&&(b[e+"ValueSpan"]=f,f=a.getAxisModel().axis.scale.parse(f),null!=f)){var d=a._dataExtent;b[e+"Span"]=aaM(d[0]+f,d,[0,100],!0)}})}function Q3(a){var b={};return oB(["start","end","startValue","endValue","throttle"],function(c){a.hasOwnProperty(c)&&(b[c]=a[c])}),b}function mq(b,c){var d=b._rangePropMode,a=b.get("rangeMode");oB([["start","startValue"],["end","endValue"]],function(f,h){var e=null!=c[f[0]],g=null!=c[f[1]];e&&!g?d[h]="percent":!e&&g?d[h]="value":a?d[h]=a[h]:e&&(d[h]="percent")})}function Cq(a){var b={x:"y",y:"x",radius:"angle",angle:"radius"};return b[a]}function nq(a){return"vertical"===a?"ns-resize":"ew-resize"}function wj(d,g){var j=uj(d),c=g.dataZoomId,h=g.coordId;ZR(j,function(a){var e=a.dataZoomInfos;e[c]&&YR(g.allCoordIds,h)<0&&(delete e[c],a.count--)}),tj(j);var b=j[h];b||(b=j[h]={coordId:h,dataZoomInfos:{},count:0},b.controller=ez(d,b),b.dispatchAction=YG(cz,d)),!b.dataZoomInfos[c]&&b.count++,b.dataZoomInfos[c]=g;var f=gz(b.dataZoomInfos);b.controller.enable(f.controlType,f.opt),b.controller.setPointerChecker(g.containsPoint),m6(b,"dispatchAction",g.throttleRate,"fixRate")}function jt(a,b){var c=uj(a);ZR(c,function(d){d.controller.dispose();var e=d.dataZoomInfos;e[b]&&(delete e[b],d.count--)}),tj(c)}function y9(b,c){if(b&&"dataZoom"===b.type&&b.batch){for(var d=0,a=b.batch.length;a>d;d++){if(b.batch[d].dataZoomId===c){return !1}}}return !0}function fz(a){return a.type+"\x00_"+a.id}function uj(a){var b=a.getZr();return b[lB]||(b[lB]={})}function ez(a,b){var c=new pG(a.getZr());return c.on("pan",sz(vj,b)),c.on("zoom",sz(bJ,b)),c}function tj(a){ZR(a,function(b,c){b.count||(b.controller.dispose(),delete a[c])})}function vj(d,g,j,c,h,b,f){dz(d,function(a){return a.panGetRange(d.controller,g,j,c,h,b,f)})}function bJ(b,c,d,a){dz(b,function(e){return e.zoomGetRange(b.controller,c,d,a)})}function dz(a,b){var c=[];ZR(a.dataZoomInfos,function(e){var d=b(e);!e.disabled&&d&&c.push({dataZoomId:e.dataZoomId,start:d[0],end:d[1]})}),a.dispatchAction(c)}function cz(a,b){a.dispatchAction({type:"dataZoom",batch:b})}function gz(b){var c,d={},a={"true":2,move:1,"false":0,undefined:-1};return ZR(b,function(e){var f=e.disabled?!1:e.zoomLock?"move":!0;a[f]>a[c]&&(c=f),YY(d,e.roamControllerOpt)}),{controlType:c,opt:d}}function K4(a,b,c){c.getAxisProxy(a.name,b).reset(c)}function R2(a,b,c){c.getAxisProxy(a.name,b).filterData(c)}function Bt(a){var b={};ZR(a,function(c){b[c]=1}),a.length=0,ZR(b,function(c,d){a.push(d)})}function qk(a){if(a){for(var b in a){if(a.hasOwnProperty(b)){return !0}}}}function rj(c,d,g){function f(){var a=function(){};a.prototype.__hidden=a.prototype;var h=new a;return h}var b={};return abG(d,function(h){var a=b[h]=f();abG(c[h],function(i,j){if(m3.isValidType(j)){var e={type:j,visual:i};g&&g(e,h),a[j]=new m3(e),"opacity"===j&&(e=ZJ(e),e.type="colorAlpha",a.__hidden.__alphaForOpacity=new m3(e))}})}),b}function kq(a,b,d){var c;ZR(d,function(e){b.hasOwnProperty(e)&&qk(b[e])&&(c=!0)}),c&&ZR(d,function(e){b.hasOwnProperty(e)&&qk(b[e])?a[e]=ZJ(b[e]):delete a[e]})}function HU(q,k,d,g,c,m){function b(a){return d.getItemVisual(j,a)}function v(a,h){d.setItemVisual(j,a,h)}function f(u,h){j=null==m?u:h;var r=d.getRawDataItem(j);if(!r||r.visualMap!==!1){for(var o=g.call(c,u),n=k[o],i=p[o],a=0,e=i.length;e>a;a++){var s=i[a];n[s]&&n[s].applyVisual(u,b,v)}}}var p={};ZR(q,function(a){var e=m3.prepareVisualTypes(k[a]);p[a]=e});var j;null==m?d.each(f,!0):d.each([m],f,!0)}function WK(a){var b=["x","y"],c=["width","height"];return{point:function(g,j,f){if(g){var h=f.range,d=g[a];return NR(d,h)}},rect:function(e,h,d){if(e){var g=d.range,f=[e[b[a]],e[b[a]]+e[c[a]]];return f[1]<f[0]&&f.reverse(),NR(f[0],g)||NR(f[1],g)||NR(g[0],f)||NR(g[1],f)}}}}function NR(a,b){return b[0]<=a&&a<=b[1]}function SO(d,h,k,c,j){for(var b=0,g=j[j.length-1];b<j.length;b++){var f=j[b];if(MR(d,h,k,c,f[0],f[1],g[0],g[1])){return !0}g=f}}function MR(q,k,d,g,c,m,b,v){var f=JU(d-q,c-b,g-k,m-v);if(aba(f)){return !1}var p=JU(c-q,c-b,m-k,m-v)/f;if(0>p||p>1){return !1}var j=JU(d-q,c-q,g-k,m-k)/f;return 0>j||j>1?!1:!0}function aba(a){return 0.000001>=a&&a>=-0.000001}function JU(b,c,d,a){return b*a-c*d}function IU(d,f,h){var c=this._targetInfoList=[],g={},b=GU(f,d);J1(WW,function(a,i){(!h||!h.include||Q0(h.include,i)>=0)&&a(b,c,g)})}function PR(a){return a[0]>a[1]&&a.reverse(),a}function GU(a,b){return dX(a,b,{includeMainTypes:aay})}function TK(d,g,j,c){var h=j.getAxis(["x","y"][d]),b=PR(ZN([0,1],function(a){return g?h.coordToData(h.toLocalCoord(c[a])):h.toGlobalCoord(h.dataToCoord(c[a]))})),f=[];return f[d]=b,f[1-d]=[0/0,0/0],{values:b,xyMinMax:f}}function YV(b,c,d,a){return[c[0]-a[b]*d[0],c[1]-a[b]*d[1]]}function XK(b,c){var f=VK(b),a=VK(c),d=[f[0]/a[0],f[1]/a[1]];return isNaN(d[0])&&(d[0]=1),isNaN(d[1])&&(d[1]=1),d}function VK(a){return a?[a[0][1]-a[0][0],a[1][1]-a[1][0]]:[0/0,0/0]}function UK(d,g,j,c,h){if(h){var b=d.getZr();if(!b[a3]){b[E2]||(b[E2]=LR);var f=m6(b,E2,j,g);f(d,c)}}}function LR(a,b){if(!a.isDisposed()){var c=a.getZr();c[a3]=!0,a.dispatchAction({type:"brushSelect",batch:b}),c[a3]=!1}}function OR(d,g,j,c){for(var h=0,b=g.length;b>h;h++){var f=g[h];if(d[f.brushType](c,j,f.selectors,f)){return !0}}}function FU(b){var c=b.brushSelector;if(Z1(c)){var d=[];return ZR(K1,function(f,e){d[e]=function(l,h,k,g){var j=h.getItemLayout(l);return f[c](j,k,g)}}),d}if(Z8(c)){var a={};return ZR(K1,function(e,f){a[f]=c}),a}return c}function CV(a,b){var c=a.option.seriesIndex;return null!=c&&"all"!==c&&(YH(c)?YR(c,b)<0:b!==c)}function DV(a){var b=a.selectors={};return ZR(K1[a.brushType],function(d,c){b[c]=function(e){return d(e,b,a)}}),a}function az(a){return new gO(a[0][0],a[1][0],a[0][1]-a[0][0],a[1][1]-a[1][0])}function aal(a,b){return Y5({brushType:a.brushType,brushMode:a.brushMode,transformable:a.transformable,brushStyle:new RG(a.brushStyle).getItemStyle(),removeOnClick:a.removeOnClick,z:a.z},b,!0)}function EV(b,c,d,a){(!a||a.$from!==b.id)&&this._brushController.setPanels(b.brushTargetManager.makePanelOpts(d)).enableBrush(b.brushOption).updateCovers(b.areas.slice())}function h3(a,b){o8[a]=b}function n1(a){return o8[a]}function r0(a,b,c){this.model=a,this.ecModel=b,this.api=c,this._brushType,this._brushMode}function g3(a,b){return a&&a.hasOwnProperty&&a.hasOwnProperty(b)}function zY(a){a.eachTargetSeries(function(b){var c=b.getData();HU(a.stateList,a.targetVisuals,c,a.getValueState,a,a.getDataDimension(c))})}function wZ(a){a.eachSeries(function(c){var d=c.getData(),b=[];a.eachComponent("visualMap",function(e){if(e.isTargetSeries(c)){var f=e.getVisualMeta(YN(xZ,null,c,e))||{stops:[],outerColors:[]};f.dimension=e.getDataDimension(d),b.push(f)}}),c.getData().setVisual("visualMeta",b)})}function xZ(y,p,g,k){function f(a){return j[a]}function w(a,c){j[a]=c}for(var b=p.targetVisuals[k],z=m3.prepareVisualTypes(b),j={color:y.getData().getVisual("color")},x=0,m=z.length;m>x;x++){var v=z[x],q=b["opacity"===v?"__alphaForOpacity":v];q&&q.applyVisual(g,f,w)}return j.color}function o1(d,h,k){if(k[0]===k[1]){return k.slice()}for(var c=200,j=(k[1]-k[0])/c,b=k[0],g=[],f=0;c>=f&&b<k[1];f++){g.push(b),b+=j}return g.push(k[1]),g}function k1(A,v,j){var m=A.option,g=m.align;if(null!=g&&"auto"!==g){return g}for(var y={width:v.getWidth(),height:v.getHeight()},b="horizontal"===m.orient?1:0,B=[["left","right","width"],["top","bottom","height"]],k=B[b],z=[0,null,10],p={},x=0;3>x;x++){p[B[1-b][x]]=z[x],p[k[x]]=2===x?j[0]:m[k[x]]}var w=[["x","width",3],["y","height",0]][b],q=WU(p,y,m.padding);return k[(q.margin[w[2]]||0)+q[w[0]]+0.5*q[w[1]]<0.5*y[w[1]]?0:1]}function QR(a){return ZR(a||[],function(){null!=a.dataIndex&&(a.dataIndexInside=a.dataIndex,a.dataIndex=null)}),a}function l1(b,c,d,a){return new oU({shape:{points:b},draggable:!!d,cursor:c,drift:d,onmousemove:function(e){e1(e.event)},ondragend:a})}function B5(a,b){return 0===a?[[0,0],[b,0],[b,-b]]:[[0,0],[b,0],[b,b]]}function m1(b,c,d,a){return b?[[0,-dj(c,hj(d,0))],[SY,0],[0,dj(c,hj(a-d,0))]]:[[0,0],[5,-5],[5,5]]}function v0(b,c,f){var a=L0/2,d=b.get("hoverLinkDataSize");return d&&(a=cj(d,c,f,!0)/2),a}function i3(a){var b=a.get("hoverLinkOnHandle");return !!(null==b?a.get("realtime"):b)}function yZ(a){return"vertical"===a?"ns-resize":"ew-resize"}function e3(a,b){var c=a.inverse;("vertical"===a.orient?!c:c)&&b.reverse()}function t0(a){return 0===a.indexOf("my")}function d3(a){this.model=a}function s0(a){this.model=a}function u0(b){var c={},d=[],a=[];return b.eachRawSeries(function(f){var h=f.coordinateSystem;if(!h||"cartesian2d"!==h.type&&"polar"!==h.type){d.push(f)}else{var e=h.getBaseAxis();if("category"===e.type){var g=e.dim+"_"+e.index;c[g]||(c[g]={categoryAxis:e,valueAxis:h.getOtherAxis(e),series:[]},a.push({axisDim:e.dim,axisIndex:e.index})),c[g].series.push(f)}else{d.push(f)}}}),{seriesGroupByCategoryAxis:c,other:d,meta:a}}function bt(a){var b=[];return ZR(a,function(p){var e=p.categoryAxis,g=p.valueAxis,d=g.dim,k=[" "].concat(ZN(p.series,function(h){return h.name})),c=[e.model.getCategories()];ZR(p.series,function(h){c.push(h.getRawData().mapArray(d,function(i){return i}))});for(var q=[k.join(G7)],f=0;f<c[0].length;f++){for(var m=[],j=0;j<c.length;j++){m.push(c[j][f])}q.push(m.join(G7))}b.push(q.join("\n"))}),b.join("\n\n"+P6+"\n\n")}function c3(a){return ZN(a,function(c){var d=c.getRawData(),f=[c.name],b=[];return d.each(d.dimensions,function(){for(var g=arguments.length,i=arguments[g-1],e=d.getName(i),h=0;g-1>h;h++){b[h]=arguments[h]}f.push((e?e+G7:"")+b.join(G7))}),f.join("\n")}).join("\n\n"+P6+"\n\n")}function b3(a){var b=u0(a);return{value:Y9([bt(b.seriesGroupByCategoryAxis),c3(b.other)],function(c){return c.replace(/[\n\t\s]/g,"")}).join("\n\n"+P6+"\n\n"),meta:b.meta}}function f3(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function KU(a){var b=a.slice(0,a.indexOf("\n"));return b.indexOf(G7)>=0?!0:void 0}function RQ(d){for(var h=d.split(/\n+/g),k=f3(h.shift()).split(T2),c=[],j=ZN(k,function(a){return{name:a,data:[]}}),b=0;b<h.length;b++){var g=f3(h[b]).split(T2);c.push(g.shift());for(var f=0;f<g.length;f++){j[f]&&(j[f].data[b]=g[f])}}return{series:j,categories:c}}function A6(m){for(var h=m.split(/\n+/g),d=f3(h.shift()),g=[],c=0;c<h.length;c++){var j,b=f3(h[c]).split(T2),p="",f=!1;isNaN(b[0])?(f=!0,p=b[0],b=b.slice(1),g[c]={name:p,value:[]},j=g[c].value):j=g[c]=[];for(var k=0;k<b.length;k++){j.push(+b[k])}1===j.length&&(f?g[c].value=j[0]:g[c]=j[0])}return{name:d,data:g}}function p1(b,c){var d=b.split(new RegExp("\n*"+P6+"\n*","g")),a={series:[]};return ZR(d,function(f,i){if(KU(f)){var h=RQ(f),e=c[i],g=e.axisDim+"Axis";e&&(a[g]=a[g]||[],a[g][e.axisIndex]={data:h.categories},a.series=a.series.concat(h.series))}else{var h=A6(f);a.series.push(h)}}),a}function q0(a){this._dom=null,this.model=a}function j2(a,b){return ZN(a,function(d,e){var c=b&&b[e];return YJ(c)&&!YH(c)?(YJ(d)&&!YH(d)&&(d=d.value),YW({value:d},c)):d})}function HO(a,b){var c=MN(a);ZG(b,function(j,f){for(var k=c.length-1;k>=0;k--){var d=c[k];if(d[f]){break}}if(0>k){var h=a.queryComponents({mainType:"dataZoom",subType:"select",id:f})[0];if(h){var g=h.getPercentRange();c[0][f]={dataZoomId:f,start:g[0],end:g[1]}}}}),c.push(b)}function WG(b){var c=MN(b),d=c[c.length-1];c.length>1&&c.pop();var a={};return ZG(d,function(e,g){for(var f=c.length-1;f>=0;f--){var e=c[f][g];if(e){a[g]=e;break}}}),a}function NN(a){a[X1]=null}function SJ(a){return MN(a).length}function MN(a){var b=a[X1];return b||(b=a[X1]=[{}]),b}function aa7(a,b,c){(this._brushController=new yJ(c.getZr())).on("brush",YN(this._onBrush,this)).mount(),this._isZoomActive}function JO(a){var b={};return ZR(["xAxisIndex","yAxisIndex"],function(c){b[c]=a[c],null==b[c]&&(b[c]="all"),(b[c]===!1||"none"===b[c])&&(b[c]=[])}),b}function IO(a,b){a.setIconStatus("back",SJ(b)>1?"emphasis":"normal")}function PN(d,g,j,c,h){var b=j._isZoomActive;c&&"takeGlobalCursor"===c.type&&(b="dataZoomSelect"===c.key?c.dataZoomSelectActive:!1),j._isZoomActive=b,d.setIconStatus("zoom",b?"emphasis":"normal");var f=new IU(JO(d.option),g,{include:["grid"]});j._brushController.setPanels(f.makePanelOpts(h,function(a){return a.xAxisDeclared&&!a.yAxisDeclared?"lineX":!a.xAxisDeclared&&a.yAxisDeclared?"lineY":"rect"})).enableBrush(b?{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}}:!1)}function GO(a){this.model=a}var TG=2311,YK=function(){return TG++},XG={};XG="undefined"==typeof navigator?{browser:{},os:{},node:!0,canvasSupported:!0,svgSupported:!0}:ZV(navigator.userAgent);var VG=XG,UG={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},LN={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},ON=Object.prototype.toString,FO=Array.prototype,CQ=FO.forEach,DQ=FO.filter,aj=FO.slice,aaf=FO.map,EQ=FO.reduce,h0={},nY=function(){return h0.createCanvas()};h0.createCanvas=function(){return document.createElement("canvas")};var rX,g0="__ec_primitive__",zV="_ec_",wW=4;YF.prototype={constructor:YF,get:function(a){return this[zV+a]},set:function(a,b){return this[zV+a]=b,b},each:function(a,b){void 0!==b&&(a=YN(a,b));for(var c in this){this.hasOwnProperty(c)&&a(this[c],c.slice(wW))}},removeKey:function(a){delete this[zV+a]}};var xW="undefined"==typeof Float32Array?Array:Float32Array,oY=Y0,kY=ZE;Iz.prototype={constructor:Iz,_dragStart:function(a){var b=a.target;b&&b.draggable&&(this._draggingTarget=b,b.dragging=!0,this._x=a.offsetX,this._y=a.offsetY,this.dispatchToElement(W9(b,a),"dragstart",a.event))},_drag:function(d){var h=this._draggingTarget;if(h){var k=d.offsetX,c=d.offsetY,j=k-this._x,b=c-this._y;this._x=k,this._y=c,h.drift(j,b,d),this.dispatchToElement(W9(h,d),"drag",d.event);var g=this.findHover(k,c,h).target,f=this._dropTarget;this._dropTarget=g,h!==g&&(f&&g!==f&&this.dispatchToElement(W9(f,d),"dragleave",d.event),g&&g!==f&&this.dispatchToElement(W9(g,d),"dragenter",d.event))}},_dragEnd:function(a){var b=this._draggingTarget;b&&(b.dragging=!1),this.dispatchToElement(W9(b,a),"dragend",a.event),this._dropTarget&&this.dispatchToElement(W9(this._dropTarget,a),"drop",a.event),this._draggingTarget=null,this._dropTarget=null}};var QN=Array.prototype.slice,lY=function(){this._$handlers={}};lY.prototype={constructor:lY,one:function(b,c,f){var a=this._$handlers;if(!c||!b){return this}a[b]||(a[b]=[]);for(var d=0;d<a[b].length;d++){if(a[b][d].h===c){return this}}return a[b].push({h:c,one:!0,ctx:f||this}),this},on:function(b,c,f){var a=this._$handlers;if(!c||!b){return this}a[b]||(a[b]=[]);for(var d=0;d<a[b].length;d++){if(a[b][d].h===c){return this}}return a[b].push({h:c,one:!1,ctx:f||this}),this},isSilent:function(a){var b=this._$handlers;return b[a]&&b[a].length},off:function(d,f){var h=this._$handlers;if(!d){return this._$handlers={},this}if(f){if(h[d]){for(var c=[],g=0,b=h[d].length;b>g;g++){h[d][g].h!=f&&c.push(h[d][g])}h[d]=c}h[d]&&0===h[d].length&&delete h[d]}else{delete h[d]}return this},trigger:function(d){if(this._$handlers[d]){var f=arguments,h=f.length;h>3&&(f=QN.call(f,1));for(var c=this._$handlers[d],g=c.length,b=0;g>b;){switch(h){case 1:c[b].h.call(c[b].ctx);break;case 2:c[b].h.call(c[b].ctx,f[1]);break;case 3:c[b].h.call(c[b].ctx,f[1],f[2]);break;default:c[b].h.apply(c[b].ctx,f)}c[b].one?(c.splice(b,1),g--):b++}}return this},triggerWithContext:function(d){if(this._$handlers[d]){var g=arguments,j=g.length;j>4&&(g=QN.call(g,1,g.length-1));for(var c=g[g.length-1],h=this._$handlers[d],b=h.length,f=0;b>f;){switch(j){case 1:h[f].h.call(c);break;case 2:h[f].h.call(c,g[1]);break;case 3:h[f].h.call(c,g[1],g[2]);break;default:h[f].h.apply(c,g)}h[f].one?(h.splice(f,1),b--):f++}}return this}};var B2="silent";S9.prototype.dispose=function(){};var mY=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],vX=function(b,c,d,a){lY.call(this),this.storage=b,this.painter=c,this.painterRoot=a,d=d||new S9,this.proxy=d,d.handler=this,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,Iz.call(this),ZR(mY,function(e){d.on&&d.on(e,this[e],this)},this)};vX.prototype={constructor:vX,mousemove:function(d){var h=d.zrX,k=d.zrY,c=this._hovered,j=c.target;j&&!j.__zr&&(c=this.findHover(c.x,c.y),j=c.target);var b=this._hovered=this.findHover(h,k),g=b.target,f=this.proxy;f.setCursor&&f.setCursor(g?g.cursor:"default"),j&&g!==j&&this.dispatchToElement(c,"mouseout",d),this.dispatchToElement(b,"mousemove",d),g&&g!==j&&this.dispatchToElement(b,"mouseover",d)},mouseout:function(a){this.dispatchToElement(this._hovered,"mouseout",a);var b,c=a.toElement||a.relatedTarget;do{c=c&&c.parentNode}while(c&&9!=c.nodeType&&!(b=c===this.painterRoot));!b&&this.trigger("globalout",{event:a})},resize:function(){this._hovered={}},dispatch:function(a,b){var c=this[a];c&&c.call(this,b)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(a){var b=this.proxy;b.setCursor&&b.setCursor(a)},dispatchToElement:function(d,f,h){d=d||{};var c=d.target;if(!c||!c.silent){for(var g="on"+f,b=Ot(f,d,h);c&&(c[g]&&(b.cancelBubble=c[g].call(c,b)),c.trigger(f,b),c=c.parent,!b.cancelBubble);){}b.cancelBubble||(this.trigger(f,b),this.painter&&this.painter.eachOtherLayer(function(a){"function"==typeof a[g]&&a[g].call(a,b),a.trigger&&a.trigger(f,b)}))}},findHover:function(d,g,j){for(var c=this.storage.getDisplayList(),h={x:d,y:g},b=c.length-1;b>=0;b--){var f;if(c[b]!==j&&!c[b].ignore&&(f=Nt(c[b],d,g))&&(!h.topTarget&&(h.topTarget=c[b]),f!==B2)){h.target=c[b];break}}return h}},ZR(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(a){vX.prototype[a]=function(c){var d=this.findHover(c.zrX,c.zrY),b=d.target;if("mousedown"===a){this._downEl=b,this._downPoint=[c.zrX,c.zrY],this._upEl=b}else{if("mosueup"===a){this._upEl=b}else{if("click"===a){if(this._downEl!==this._upEl||!this._downPoint||oY(this._downPoint,[c.zrX,c.zrY])>4){return}this._downPoint=null}}}this.dispatchToElement(d,a,c)}}),ZZ(vX,lY),ZZ(vX,Iz);var i0="undefined"==typeof Float32Array?Array:Float32Array,yW=Kz,e0=0.00005,tX=function(a){a=a||{},a.position||(this.position=[0,0]),null==a.rotation&&(this.rotation=0),a.scale||(this.scale=[1,1]),this.origin=this.origin||null},d0=tX.prototype;d0.transform=null,d0.needLocalTransform=function(){return V9(this.rotation)||V9(this.position[0])||V9(this.position[1])||V9(this.scale[0]-1)||V9(this.scale[1]-1)},d0.updateTransform=function(){var b=this.parent,c=b&&b.transform,d=this.needLocalTransform(),a=this.transform;return d||c?(a=a||abu(),d?this.getLocalTransform(a):yW(a),c&&(d?Qt(a,b.transform,a):Jz(a,b.transform)),this.transform=a,this.invTransform=this.invTransform||abu(),void X8(this.invTransform,a)):void (a&&yW(a))},d0.getLocalTransform=function(a){return tX.getLocalTransform(this,a)},d0.setTransform=function(a){var b=this.transform,c=a.dpr||1;b?a.setTransform(c*b[0],c*b[1],c*b[2],c*b[3],c*b[4],c*b[5]):a.setTransform(c,0,0,c,0,0)},d0.restoreTransform=function(a){var b=a.dpr||1;a.setTransform(b,0,0,b,0,0)};var sX=[];d0.decomposeTransform=function(){if(this.transform){var d=this.parent,f=this.transform;d&&d.transform&&(Qt(sX,d.invTransform,f),f=sX);var h=f[0]*f[0]+f[1]*f[1],c=f[2]*f[2]+f[3]*f[3],g=this.position,b=this.scale;V9(h-1)&&(h=Math.sqrt(h)),V9(c-1)&&(c=Math.sqrt(c)),f[0]<0&&(h=-h),f[3]<0&&(c=-c),g[0]=f[4],g[1]=f[5],b[0]=h,b[1]=c,this.rotation=Math.atan2(-f[1]/c,f[0]/h)}},d0.getGlobalScale=function(){var a=this.transform;if(!a){return[1,1]}var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]),c=Math.sqrt(a[2]*a[2]+a[3]*a[3]);return a[0]<0&&(b=-b),a[3]<0&&(c=-c),[b,c]},d0.transformCoordToLocal=function(b,c){var d=[b,c],a=this.invTransform;return a&&aaG(d,d,a),d},d0.transformCoordToGlobal=function(b,c){var d=[b,c],a=this.transform;return a&&aaG(d,d,a),d},tX.getLocalTransform=function(d,f){f=f||[],yW(f);var h=d.origin,c=d.scale||[1,1],g=d.rotation||0,b=d.position||[0,0];return h&&(f[4]-=h[0],f[5]-=h[1]),Z0(f,f,c),g&&T9(f,f,g),h&&(f[4]+=h[0],f[5]+=h[1]),f[4]+=b[0],f[5]+=b[1],f};var uX={linear:function(a){return a},quadraticIn:function(a){return a*a},quadraticOut:function(a){return a*(2-a)},quadraticInOut:function(a){return(a*=2)<1?0.5*a*a:-0.5*(--a*(a-2)-1)},cubicIn:function(a){return a*a*a},cubicOut:function(a){return --a*a*a+1},cubicInOut:function(a){return(a*=2)<1?0.5*a*a*a:0.5*((a-=2)*a*a+2)},quarticIn:function(a){return a*a*a*a},quarticOut:function(a){return 1- --a*a*a*a},quarticInOut:function(a){return(a*=2)<1?0.5*a*a*a*a:-0.5*((a-=2)*a*a*a-2)},quinticIn:function(a){return a*a*a*a*a},quinticOut:function(a){return --a*a*a*a*a+1},quinticInOut:function(a){return(a*=2)<1?0.5*a*a*a*a*a:0.5*((a-=2)*a*a*a*a+2)},sinusoidalIn:function(a){return 1-Math.cos(a*Math.PI/2)},sinusoidalOut:function(a){return Math.sin(a*Math.PI/2)},sinusoidalInOut:function(a){return 0.5*(1-Math.cos(Math.PI*a))},exponentialIn:function(a){return 0===a?0:Math.pow(1024,a-1)},exponentialOut:function(a){return 1===a?1:1-Math.pow(2,-10*a)},exponentialInOut:function(a){return 0===a?0:1===a?1:(a*=2)<1?0.5*Math.pow(1024,a-1):0.5*(-Math.pow(2,-10*(a-1))+2)},circularIn:function(a){return 1-Math.sqrt(1-a*a)},circularOut:function(a){return Math.sqrt(1- --a*a)},circularInOut:function(a){return(a*=2)<1?-0.5*(Math.sqrt(1-a*a)-1):0.5*(Math.sqrt(1-(a-=2)*a)+1)},elasticIn:function(b){var c,d=0.1,a=0.4;return 0===b?0:1===b?1:(!d||1>d?(d=1,c=a/4):c=a*Math.asin(1/d)/(2*Math.PI),-(d*Math.pow(2,10*(b-=1))*Math.sin(2*(b-c)*Math.PI/a)))},elasticOut:function(b){var c,d=0.1,a=0.4;return 0===b?0:1===b?1:(!d||1>d?(d=1,c=a/4):c=a*Math.asin(1/d)/(2*Math.PI),d*Math.pow(2,-10*b)*Math.sin(2*(b-c)*Math.PI/a)+1)},elasticInOut:function(b){var c,d=0.1,a=0.4;return 0===b?0:1===b?1:(!d||1>d?(d=1,c=a/4):c=a*Math.asin(1/d)/(2*Math.PI),(b*=2)<1?-0.5*d*Math.pow(2,10*(b-=1))*Math.sin(2*(b-c)*Math.PI/a):d*Math.pow(2,-10*(b-=1))*Math.sin(2*(b-c)*Math.PI/a)*0.5+1)},backIn:function(a){var b=1.70158;return a*a*((b+1)*a-b)},backOut:function(a){var b=1.70158;return --a*a*((b+1)*a+b)+1},backInOut:function(a){var b=2.5949095;return(a*=2)<1?0.5*a*a*((b+1)*a-b):0.5*((a-=2)*a*((b+1)*a+b)+2)},bounceIn:function(a){return 1-uX.bounceOut(1-a)},bounceOut:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+0.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375},bounceInOut:function(a){return 0.5>a?0.5*uX.bounceIn(2*a):0.5*uX.bounceOut(2*a-1)+0.5}};U9.prototype={constructor:U9,step:function(d,f){if(this._initialized||(this._startTime=d+this._delay,this._initialized=!0),this._paused){return void (this._pausedTime+=f)}var h=(d-this._startTime-this._pausedTime)/this._life;if(!(0>h)){h=Math.min(h,1);var c=this.easing,g="string"==typeof c?uX[c]:c,b="function"==typeof g?g(h):h;return this.fire("frame",b),1==h?this.loop?(this.restart(d),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(a){var b=(a-this._startTime-this._pausedTime)%this._life;this._startTime=a-b+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(a,b){a="on"+a,this[a]&&this[a](this._target,b)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var bj=function(){this.head=null,this.tail=null,this._len=0},c0=bj.prototype;c0.insert=function(a){var b=new b0(a);return this.insertEntry(b),b},c0.insertEntry=function(a){this.head?(this.tail.next=a,a.prev=this.tail,a.next=null,this.tail=a):this.head=this.tail=a,this._len++},c0.remove=function(a){var b=a.prev,c=a.next;b?b.next=c:this.head=c,c?c.prev=b:this.tail=b,a.next=a.prev=null,this._len--},c0.len=function(){return this._len},c0.clear=function(){this.head=this.tail=null,this._len=0};var b0=function(a){this.value=a,this.next,this.prev},f0=function(a){this._list=new bj,this._map={},this._maxSize=a||10,this._lastRemovedEntry=null},KO=f0.prototype;KO.put=function(d,h){var k=this._list,c=this._map,j=null;if(null==c[d]){var b=k.len(),g=this._lastRemovedEntry;if(b>=this._maxSize&&b>0){var f=k.head;k.remove(f),delete c[f.key],j=f.value,this._lastRemovedEntry=f}g?g.value=h:g=new b0(h),g.key=d,k.insertEntry(g),c[d]=g}return j},KO.get=function(a){var b=this._map[a],c=this._list;return null!=b?(b!==c.tail&&(c.remove(b),c.insertEntry(b)),b.value):void 0},KO.clear=function(){this._list.clear(),this._map={}};var RK={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},A3=new f0(20),pY=null,qX=Array.prototype.slice,jZ=function(b,c,d,a){this._tracks={},this._target=b,this._loop=c||!1,this._getter=d||CG,this._setter=a||nK,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};jZ.prototype={when:function(b,c){var f=this._tracks;for(var a in c){if(c.hasOwnProperty(a)){if(!f[a]){f[a]=[];var d=this._getter(this._target,a);if(null==d){continue}0!==b&&f[a].push({time:0,value:vJ(d)})}f[a].push({time:b,value:c[a]})}}return this},during:function(a){return this._onframeList.push(a),this},pause:function(){for(var a=0;a<this._clipList.length;a++){this._clipList[a].pause()}this._paused=!0},resume:function(){for(var a=0;a<this._clipList.length;a++){this._clipList[a].resume()}this._paused=!1},isPaused:function(){return !!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var a=this._doneList,b=a.length,c=0;b>c;c++){a[c].call(this)}},start:function(k,h){var d,g=this,c=0,j=function(){c--,c||g._doneCallback()};for(var b in this._tracks){if(this._tracks.hasOwnProperty(b)){var m=cO(this,k,j,this._tracks[b],b,h);m&&(this._clipList.push(m),c++,this.animation&&this.animation.addClip(m),d=m)}}if(d){var f=d.onframe;d.onframe=function(a,i){f(a,i);for(var l=0;l<g._onframeList.length;l++){g._onframeList[l](a,i)}}}return c||this._doneCallback(),this},stop:function(b){for(var c=this._clipList,f=this.animation,a=0;a<c.length;a++){var d=c[a];b&&d.onframe(this._target,1),f&&f.removeClip(d)}c.length=0},delay:function(a){return this._delay=a,this},done:function(a){return a&&this._doneList.push(a),this},getClips:function(){return this._clipList}};var HQ=1;"undefined"!=typeof window&&(HQ=Math.max(window.devicePixelRatio||1,1));var WH=0,NO=HQ,SK=function(){};1===WH?SK=function(){for(var a in arguments){throw new Error(arguments[a])}}:WH>1&&(SK=function(){for(var a in arguments){console.log(arguments[a])}});var MO=SK,aa8=function(){this.animators=[]};aa8.prototype={constructor:aa8,animate:function(w,p){var g,k=!1,f=this,v=this.__zr;if(w){var b=w.split("."),x=f;k="shape"===b[0];for(var j=0,m=b.length;m>j;j++){x&&(x=x[b[j]])}x&&(g=x)}else{g=f}if(!g){return void MO('Property "'+w+'" is not existed in element '+f.id)}var u=f.animators,q=new jZ(g,p);return q.during(function(){f.dirty(k)}).done(function(){u.splice(YR(u,q),1)}),u.push(q),v&&v.animation.addAnimator(q),q},stopAnimation:function(b){for(var c=this.animators,d=c.length,a=0;d>a;a++){c[a].stop(b)}return c.length=0,this},animateTo:function(m,h,d,g,c,j){function b(){f--,f||c&&c()}Z1(d)?(c=g,g=d,d=0):Z8(g)?(c=g,g="linear",d=0):Z8(d)?(c=d,d=0):Z8(h)?(c=h,h=500):h||(h=500),this.stopAnimation(),this._animateToShallow("",this,m,h,d);var p=this.animators.slice(),f=p.length;f||c&&c();for(var k=0;k<p.length;k++){p[k].done(b).start(g,j)}},_animateToShallow:function(k,h,d,g,c){var j={},b=0;for(var m in d){if(d.hasOwnProperty(m)){if(null!=h[m]){YJ(d[m])&&!ZX(d[m])?this._animateToShallow(k?k+"."+m:m,h[m],d[m],g,c):(j[m]=d[m],b++)}else{if(null!=d[m]){if(k){var f={};f[k]={},f[k][m]=d[m],this.attr(f)}else{this.attr(m,d[m])}}}}}return b>0&&this.animate(k,!1).when(null==g?500:g,j).delay(c||0),this}};var JQ=function(a){tX.call(this,a),lY.call(this,a),aa8.call(this,a),this.id=a.id||YK()};JQ.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(a,b){switch(this.draggable){case"horizontal":b=0;break;case"vertical":a=0}var c=this.transform;c||(c=this.transform=[1,0,0,1,0,0]),c[4]+=a,c[5]+=b,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(){},attrKV:function(a,b){if("position"===a||"scale"===a||"origin"===a){if(b){var c=this[a];c||(c=this[a]=[]),c[0]=b[0],c[1]=b[1]}}else{this[a]=b}},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(a,b){if("string"==typeof a){this.attrKV(a,b)}else{if(YJ(a)){for(var c in a){a.hasOwnProperty(c)&&this.attrKV(c,a[c])}}}return this.dirty(!1),this},setClipPath:function(a){var b=this.__zr;b&&a.addSelfToZr(b),this.clipPath&&this.clipPath!==a&&this.removeClipPath(),this.clipPath=a,a.__zr=b,a.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var a=this.clipPath;a&&(a.__zr&&a.removeSelfFromZr(a.__zr),a.__zr=null,a.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(a){this.__zr=a;var b=this.animators;if(b){for(var c=0;c<b.length;c++){a.animation.addAnimator(b[c])}}this.clipPath&&this.clipPath.addSelfToZr(a)},removeSelfFromZr:function(a){this.__zr=null;var b=this.animators;if(b){for(var c=0;c<b.length;c++){a.animation.removeAnimator(b[c])}}this.clipPath&&this.clipPath.removeSelfFromZr(a)}},ZZ(JQ,aa8),ZZ(JQ,tX),ZZ(JQ,lY);var IQ=aaG,PO=Math.min,GQ=Math.max;gO.prototype={constructor:gO,union:function(a){var b=PO(a.x,this.x),c=PO(a.y,this.y);this.width=GQ(a.x+a.width,this.x+this.width)-b,this.height=GQ(a.y+a.height,this.y+this.height)-c,this.x=b,this.y=c},applyTransform:function(){var b=[],c=[],d=[],a=[];return function(g){if(g){b[0]=d[0]=this.x,b[1]=a[1]=this.y,c[0]=a[0]=this.x+this.width,c[1]=d[1]=this.y+this.height,IQ(b,b,g),IQ(c,c,g),IQ(d,d,g),IQ(a,a,g),this.x=PO(b[0],c[0],d[0],a[0]),this.y=PO(b[1],c[1],d[1],a[1]);var e=GQ(b[0],c[0],d[0],a[0]),f=GQ(b[1],c[1],d[1],a[1]);this.width=e-this.x,this.height=f-this.y}}}(),calculateTransform:function(b){var c=this,f=b.width/c.width,a=b.height/c.height,d=abu();return Hz(d,d,[-c.x,-c.y]),Z0(d,d,[f,a]),Hz(d,d,[b.x,b.y]),d},intersect:function(m){if(!m){return !1}m instanceof gO||(m=gO.create(m));var h=this,d=h.x,g=h.x+h.width,c=h.y,j=h.y+h.height,b=m.x,p=m.x+m.width,f=m.y,k=m.y+m.height;return !(b>g||d>p||f>j||c>k)},contain:function(a,b){var c=this;return a>=c.x&&a<=c.x+c.width&&b>=c.y&&b<=c.y+c.height},clone:function(){return new gO(this.x,this.y,this.width,this.height)},copy:function(a){this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},gO.create=function(a){return new gO(a.x,a.y,a.width,a.height)};var TH=function(a){a=a||{},JQ.call(this,a);for(var b in a){a.hasOwnProperty(b)&&(this[b]=a[b])}this._children=[],this.__storage=null,this.__dirty=!0};TH.prototype={constructor:TH,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(a){return this._children[a]},childOfName:function(a){for(var b=this._children,c=0;c<b.length;c++){if(b[c].name===a){return b[c]}}},childCount:function(){return this._children.length},add:function(a){return a&&a!==this&&a.parent!==this&&(this._children.push(a),this._doAdd(a)),this},addBefore:function(b,c){if(b&&b!==this&&b.parent!==this&&c&&c.parent===this){var d=this._children,a=d.indexOf(c);a>=0&&(d.splice(a,0,b),this._doAdd(b))}return this},_doAdd:function(a){a.parent&&a.parent.remove(a),a.parent=this;var b=this.__storage,c=this.__zr;b&&b!==a.__storage&&(b.addToStorage(a),a instanceof TH&&a.addChildrenToStorage(b)),c&&c.refresh()},remove:function(b){var c=this.__zr,f=this.__storage,a=this._children,d=YR(a,b);return 0>d?this:(a.splice(d,1),b.parent=null,f&&(f.delFromStorage(b),b instanceof TH&&b.delChildrenFromStorage(f)),c&&c.refresh(),this)},removeAll:function(){var b,c,d=this._children,a=this.__storage;for(c=0;c<d.length;c++){b=d[c],a&&(a.delFromStorage(b),b instanceof TH&&b.delChildrenFromStorage(a)),b.parent=null}return d.length=0,this},eachChild:function(b,c){for(var f=this._children,a=0;a<f.length;a++){var d=f[a];b.call(c,d,a)}return this},traverse:function(b,c){for(var d=0;d<this._children.length;d++){var a=this._children[d];b.call(c,a),"group"===a.type&&a.traverse(b,c)}return this},addChildrenToStorage:function(a){for(var b=0;b<this._children.length;b++){var c=this._children[b];a.addToStorage(c),c instanceof TH&&c.addChildrenToStorage(a)}},delChildrenFromStorage:function(a){for(var b=0;b<this._children.length;b++){var c=this._children[b];a.delFromStorage(c),c instanceof TH&&c.delChildrenFromStorage(a)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(k){for(var h=null,d=new gO(0,0,0,0),g=k||this._children,c=[],j=0;j<g.length;j++){var b=g[j];if(!b.ignore&&!b.invisible){var m=b.getBoundingRect(),f=b.getLocalTransform(c);f?(d.copy(m),d.applyTransform(f),h=h||d.clone(),h.union(d)):(h=h||m.clone(),h.union(m))}}return h||d}},ZK(TH,JQ);var YO=32,XH=7,VH=function(){this._roots=[],this._displayList=[],this._displayListLen=0};VH.prototype={constructor:VH,traverse:function(a,b){for(var c=0;c<this._roots.length;c++){this._roots[c].traverse(a,b)}},getDisplayList:function(a,b){return b=b||!1,a&&this.updateDisplayList(b),this._displayList},updateDisplayList:function(b){this._displayListLen=0;for(var c=this._roots,f=this._displayList,a=0,d=c.length;d>a;a++){this._updateAndAddDisplayable(c[a],null,b)}f.length=this._displayListLen,VG.canvasSupported&&WY(f,N2)},_updateAndAddDisplayable:function(k,h,d){if(!k.ignore||d){k.beforeUpdate(),k.__dirty&&k.update(),k.afterUpdate();var g=k.clipPath;if(g){h=h?h.slice():[];for(var c=g,j=k;c;){c.parent=j,c.updateTransform(),h.push(c),j=c,c=c.clipPath}}if(k.isGroup){for(var b=k._children,m=0;m<b.length;m++){var f=b[m];k.__dirty&&(f.__dirty=!0),this._updateAndAddDisplayable(f,h,d)}k.__dirty=!1}else{k.__clipPaths=h,this._displayList[this._displayListLen++]=k}}},addRoot:function(a){a.__storage!==this&&(a instanceof TH&&a.addChildrenToStorage(this),this.addToStorage(a),this._roots.push(a))},delRoot:function(b){if(null==b){for(var c=0;c<this._roots.length;c++){var f=this._roots[c];f instanceof TH&&f.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void (this._displayListLen=0)}if(b instanceof Array){for(var c=0,a=b.length;a>c;c++){this.delRoot(b[c])}}else{var d=YR(this._roots,b);d>=0&&(this.delFromStorage(b),this._roots.splice(d,1),b instanceof TH&&b.delChildrenFromStorage(this))}},addToStorage:function(a){return a.__storage=this,a.dirty(!1),this},delFromStorage:function(a){return a&&(a.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:N2};var UH=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],LO=function(a,b){this.extendFrom(a,!1),this.host=b};LO.prototype={constructor:LO,host:null,fill:"#000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(m,h,d){for(var g=this,c=d&&d.style,j=!c,b=0;b<UH.length;b++){var p=UH[b],f=p[0];(j||g[f]!==c[f])&&(m[f]=g[f]||p[1])}if((j||g.fill!==c.fill)&&(m.fillStyle=g.fill),(j||g.stroke!==c.stroke)&&(m.strokeStyle=g.stroke),(j||g.opacity!==c.opacity)&&(m.globalAlpha=null==g.opacity?1:g.opacity),(j||g.blend!==c.blend)&&(m.globalCompositeOperation=g.blend||"source-over"),this.hasStroke()){var k=g.lineWidth;m.lineWidth=k/(this.strokeNoScale&&h&&h.getLineScale?h.getLineScale():1)}},hasFill:function(){var a=this.fill;return null!=a&&"none"!==a},hasStroke:function(){var a=this.stroke;return null!=a&&"none"!==a&&this.lineWidth>0},extendFrom:function(a,b){if(a){for(var c in a){!a.hasOwnProperty(c)||b!==!0&&(b===!1?this.hasOwnProperty(c):null==a[c])||(this[c]=a[c])}}},set:function(a,b){"string"==typeof a?this[a]=b:this.extendFrom(a,!0)},clone:function(){var a=new this.constructor;return a.extendFrom(this,!0),a},getGradient:function(d,g,j){for(var c="radial"===g.type?abj:M2,h=c(d,g,j),b=g.colorStops,f=0;f<b.length;f++){h.addColorStop(b[f].offset,b[f].color)}return h}};for(var OO=LO.prototype,FQ=0;FQ<UH.length;FQ++){var CR=UH[FQ];CR[0] in OO||(OO[CR[0]]=CR[1])}LO.getGradient=OO.getGradient;var DR=function(a,b){this.image=a,this.repeat=b,this.type="pattern"};DR.prototype.getCanvasPattern=function(a){return a.createPattern(this.image,this.repeat||"repeat")};var aq=function(b,c,f){var a;f=f||NO,"string"==typeof b?a=I3(b,c,f):YJ(b)&&(a=b,b=a.id),this.id=b,this.dom=a;var d=a.style;d&&(a.onselectstart=J3,d["-webkit-user-select"]="none",d["user-select"]="none",d["-webkit-touch-callout"]="none",d["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",d.padding=0,d.margin=0,d["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=c,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=0.7,this.dpr=f};aq.prototype={constructor:aq,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.__currentValues={},this.ctx.dpr=this.dpr},createBackBuffer:function(){var a=this.dpr;this.domBack=I3("back-"+this.id,this.painter,a),this.ctxBack=this.domBack.getContext("2d"),this.ctxBack.__currentValues={},1!=a&&this.ctxBack.scale(a,a)},resize:function(d,f){var h=this.dpr,c=this.dom,g=c.style,b=this.domBack;g.width=d+"px",g.height=f+"px",c.width=d*h,c.height=f*h,b&&(b.width=d*h,b.height=f*h,1!=h&&this.ctxBack.scale(h,h))},clear:function(q){var k=this.dom,d=this.ctx,g=k.width,c=k.height,m=this.clearColor,b=this.motionBlur&&!q,v=this.lastFrameAlpha,f=this.dpr;if(b&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(k,0,0,g/f,c/f)),d.clearRect(0,0,g,c),m){var p;m.colorStops?(p=m.__canvasGradient||LO.getGradient(d,m,{x:0,y:0,width:g,height:c}),m.__canvasGradient=p):m.image&&(p=DR.prototype.getCanvasPattern.call(m,d)),d.save(),d.fillStyle=p||m,d.fillRect(0,0,g,c),d.restore()}if(b){var j=this.domBack;d.save(),d.globalAlpha=v,d.drawImage(j,0,0,g,c),d.restore()}}};var aah="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(a){setTimeout(a,16)},ER=new f0(50),h1={},nZ=0,rY=5000,g1=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,zW="12px sans-serif",wX={};wX.measureText=function(a,b){var c=Zk();return c.font=b||zW,c.measureText(a)};var xX={left:1,right:1,center:1},oZ={top:1,bottom:1,middle:1},kZ=new gO,QO=function(){};QO.prototype={constructor:QO,drawRectText:function(b,c){var f=this.style;c=f.textRect||c,this.__dirty&&pj(f,!0);var a=f.text;if(null!=a&&(a+=""),gt(a,f)){b.save();var d=this.transform;f.transformText?this.setTransform(b):d&&(kZ.copy(c),kZ.applyTransform(d),c=kZ),Q2(this,b,a,f,c),b.restore()}}},K3.prototype={constructor:K3,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:-1,beforeBrush:function(){},afterBrush:function(){},brush:function(){},getBoundingRect:function(){},contain:function(a,b){return this.rectContain(a,b)},traverse:function(a,b){a.call(b,this)},rectContain:function(b,c){var d=this.transformCoordToLocal(b,c),a=this.getBoundingRect();return a.contain(d[0],d[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(a){return this.animate("style",a)},attrKV:function(a,b){"style"!==a?JQ.prototype.attrKV.call(this,a,b):this.style.set(b)},setStyle:function(a,b){return this.style.set(a,b),this.dirty(!1),this},useStyle:function(a){return this.style=new LO(a,this),this.dirty(!1),this}},ZK(K3,JQ),ZZ(K3,QO),R1.prototype={constructor:R1,type:"image",brush:function(A,v){var j=this.style,m=j.image;j.bind(A,this,v);var g=this._image=G3(m,this._image,this,this.onload);if(g&&Zq(g)){var y=j.x||0,b=j.y||0,B=j.width,k=j.height,z=g.width/g.height;if(null==B&&null!=k?B=k*z:null==k&&null!=B?k=B/z:null==B&&null==k&&(B=g.width,k=g.height),this.setTransform(A),j.sWidth&&j.sHeight){var p=j.sx||0,x=j.sy||0;A.drawImage(g,p,x,j.sWidth,j.sHeight,y,b,B,k)}else{if(j.sx&&j.sy){var p=j.sx,x=j.sy,w=B-p,q=k-x;A.drawImage(g,p,x,w,q,y,b,B,k)}else{A.drawImage(g,y,b,B,k)}}this.restoreTransform(A),null!=j.text&&this.drawRectText(A,this.getBoundingRect())}},getBoundingRect:function(){var a=this.style;return this._rect||(this._rect=new gO(a.x||0,a.y||0,a.width||0,a.height||0)),this._rect}},ZK(R1,K3);var lZ=5,B3=new gO(0,0,0,0),mZ=new gO(0,0,0,0),vY=function(r,k,d){this.type="canvas";var g=!r.nodeName||"CANVAS"===r.nodeName.toUpperCase();this._opts=d=YY({},d||{}),this.dpr=d.devicePixelRatio||NO,this._singleCanvas=g,this.root=r;var b=r.style;b&&(b["-webkit-tap-highlight-color"]="transparent",b["-webkit-user-select"]=b["user-select"]=b["-webkit-touch-callout"]="none",r.innerHTML=""),this.storage=k;var p=this._zlevelList=[],v=this._layers={};if(this._layerConfig={},g){null!=d.width&&(r.width=d.width),null!=d.height&&(r.height=d.height);var f=r.width,q=r.height;this._width=f,this._height=q;var j=new aq(r,this,1);j.initContext(),v[0]=j,p.push(0),this._domRoot=r}else{this._width=this._getSize(0),this._height=this._getSize(1);var m=this._domRoot=S5(this._width,this._height);r.appendChild(m)}this._progressiveLayers=[],this._hoverlayer,this._hoverElements=[]};vY.prototype={constructor:vY,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var a=this.getViewportRoot();return a?{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}:void 0},refresh:function(d){var f=this.storage.getDisplayList(!0),h=this._zlevelList;this._paintList(f,d);for(var c=0;c<h.length;c++){var g=h[c],b=this._layers[g];!b.__builtin__&&b.refresh&&b.refresh()}return this.refreshHover(),this._progressiveLayers.length&&this._startProgessive(),this},addHover:function(a,b){if(!a.__hoverMir){var c=new a.constructor({style:a.style,shape:a.shape});c.__from=a,a.__hoverMir=c,c.setStyle(b),this._hoverElements.push(c)}},removeHover:function(b){var c=b.__hoverMir,d=this._hoverElements,a=YR(d,c);a>=0&&d.splice(a,1),b.__hoverMir=null},clearHover:function(){for(var a=this._hoverElements,b=0;b<a.length;b++){var c=a[b].__from;c&&(c.__hoverMir=null)}a.length=0},refreshHover:function(){var d=this._hoverElements,g=d.length,j=this._hoverlayer;if(j&&j.clear(),g){WY(d,this.storage.displayableSortFunc),j||(j=this._hoverlayer=this.getLayer(100000));var c={};j.ctx.save();for(var h=0;g>h;){var b=d[h],f=b.__from;f&&f.__zr?(h++,f.invisible||(b.transform=f.transform,b.invTransform=f.invTransform,b.__clipPaths=f.__clipPaths,this._doPaintEl(b,j,!0,c))):(d.splice(h,1),f.__hoverMir=null,g--)}j.ctx.restore()}},_startProgessive:function(){function a(){c===b._progressiveToken&&b.storage&&(b._doPaintList(b.storage.getDisplayList()),b._furtherProgressive?(b._progress++,aah(a)):b._progressiveToken=-1)}var b=this;if(b._furtherProgressive){var c=b._progressiveToken=+new Date;b._progress++,aah(a)}},_clearProgressive:function(){this._progressiveToken=-1,this._progress=0,ZR(this._progressiveLayers,function(a){a.__dirty&&a.clear()})},_paintList:function(a,b){null==b&&(b=!1),this._updateLayerStatus(a),this._clearProgressive(),this.eachBuiltinLayer(q9),this._doPaintList(a,b),this.eachBuiltinLayer(kk)},_doPaintList:function(k,G){function A(a){var c=J.dpr||1;J.save(),J.globalAlpha=1,J.shadowBlur=0,D.__dirty=!0,J.setTransform(1,0,0,1,0,0),J.drawImage(a.dom,0,0,E*c,I*c),J.restore()}for(var D,z,J,w,q,C,j=0,E=this._width,I=this._height,H=this._progress,F=0,x=k.length;x>F;F++){var B=k[F],f=this._singleCanvas?0:B.zlevel,b=B.__frame;if(0>b&&q&&(A(q),q=null),z!==f&&(J&&J.restore(),w={},z=f,D=this.getLayer(z),D.__builtin__||MO("ZLevel "+z+" has been used by unkown layer "+D.id),J=D.ctx,J.save(),D.__unusedCount=0,(D.__dirty||G)&&D.clear()),D.__dirty||G){if(b>=0){if(!q){if(q=this._progressiveLayers[Math.min(j++,lZ-1)],q.ctx.save(),q.renderScope={},q&&q.__progress>q.__maxProgress){F=q.__nextIdxNotProg-1;continue}C=q.__progress,q.__dirty||(H=C),q.__progress=H+1}b===H&&this._doPaintEl(B,q,!0,q.renderScope)}else{this._doPaintEl(B,D,G,w)}B.__dirty=!1}}q&&A(q),J&&J.restore(),this._furtherProgressive=!1,ZR(this._progressiveLayers,function(a){a.__maxProgress>=a.__progress&&(this._furtherProgressive=!0)},this)},_doPaintEl:function(d,g,j,c){var h=g.ctx,b=d.transform;if(!(!g.__dirty&&!j||d.invisible||0===d.style.opacity||b&&!b[0]&&!b[3]||d.culling&&H9(d,this._width,this._height))){var f=d.__clipPaths;(c.prevClipLayer!==g||W4(f,c.prevElClipPaths))&&(c.prevElClipPaths&&(c.prevClipLayer.ctx.restore(),c.prevClipLayer=c.prevElClipPaths=null,c.prevEl=null),f&&(h.save(),N8(f,h),c.prevClipLayer=g,c.prevElClipPaths=f)),d.beforeBrush&&d.beforeBrush(h),d.brush(h,c.prevEl||null),c.prevEl=d,d.afterBrush&&d.afterBrush(h)}},getLayer:function(a){if(this._singleCanvas){return this._layers[0]}var b=this._layers[a];return b||(b=new aq("zr_"+a,this,this.dpr),b.__builtin__=!0,this._layerConfig[a]&&Y5(b,this._layerConfig[a],!0),this.insertLayer(a,b),b.initContext()),b},insertLayer:function(k,h){var d=this._layers,g=this._zlevelList,c=g.length,j=null,b=-1,m=this._domRoot;if(d[k]){return void MO("ZLevel "+k+" has been used already")}if(!qj(h)){return void MO("Layer of zlevel "+k+" is not valid")}if(c>0&&k>g[0]){for(b=0;c-1>b&&!(g[b]<k&&g[b+1]>k);b++){}j=d[g[b]]}if(g.splice(b+1,0,k),d[k]=h,!h.virtual){if(j){var f=j.dom;f.nextSibling?m.insertBefore(h.dom,f.nextSibling):m.appendChild(h.dom)}else{m.firstChild?m.insertBefore(h.dom,m.firstChild):m.appendChild(h.dom)}}},eachLayer:function(b,c){var f,a,d=this._zlevelList;for(a=0;a<d.length;a++){f=d[a],b.call(c,this._layers[f],f)}},eachBuiltinLayer:function(d,f){var h,c,g,b=this._zlevelList;for(g=0;g<b.length;g++){c=b[g],h=this._layers[c],h.__builtin__&&d.call(f,h,c)}},eachOtherLayer:function(d,f){var h,c,g,b=this._zlevelList;for(g=0;g<b.length;g++){c=b[g],h=this._layers[c],h.__builtin__||d.call(f,h,c)}},getLayers:function(){return this._layers},_updateLayerStatus:function(G){var A=this._layers,k=this._progressiveLayers,x={},j={};this.eachBuiltinLayer(function(a,c){x[c]=a.elCount,a.elCount=0,a.__dirty=!1}),ZR(k,function(a,c){j[c]=a.elCount,a.elCount=0,a.__dirty=!1});for(var D,b,H=0,w=0,F=0,y=G.length;y>F;F++){var C=G[F],B=this._singleCanvas?0:C.zlevel,z=A[B],f=C.progressive;if(z&&(z.elCount++,z.__dirty=z.__dirty||C.__dirty),f>=0){b!==f&&(b=f,w++);var q=C.__frame=w-1;if(!D){var E=Math.min(H,lZ-1);D=k[E],D||(D=k[E]=new aq("progressive",this,this.dpr),D.initContext()),D.__maxProgress=0}D.__dirty=D.__dirty||C.__dirty,D.elCount++,D.__maxProgress=Math.max(D.__maxProgress,q),D.__maxProgress>=D.__progress&&(z.__dirty=!0)}else{C.__frame=-1,D&&(D.__nextIdxNotProg=F,H++,D=null)}}D&&(H++,D.__nextIdxNotProg=F),this.eachBuiltinLayer(function(a,c){x[c]!==a.elCount&&(a.__dirty=!0)}),k.length=Math.min(H,lZ),ZR(k,function(a,c){j[c]!==a.elCount&&(C.__dirty=!0),a.__dirty&&(a.__progress=0)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(a){a.clear()},configLayer:function(b,c){if(c){var d=this._layerConfig;d[b]?Y5(d[b],c,!0):d[b]=c;var a=this._layers[b];a&&Y5(a,d[b],!0)}},delLayer:function(b){var c=this._layers,d=this._zlevelList,a=c[b];a&&(a.dom.parentNode.removeChild(a.dom),delete c[b],d.splice(YR(d,b),1))},resize:function(b,c){var f=this._domRoot;f.style.display="none";var a=this._opts;if(null!=b&&(a.width=b),null!=c&&(a.height=c),b=this._getSize(0),c=this._getSize(1),f.style.display="",this._width!=b||c!=this._height){f.style.width=b+"px",f.style.height=c+"px";for(var d in this._layers){this._layers.hasOwnProperty(d)&&this._layers[d].resize(b,c)}ZR(this._progressiveLayers,function(e){e.resize(b,c)}),this.refresh(!0)}return this._width=b,this._height=c,this},clearLayer:function(a){var b=this._layers[a];b&&b.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(k){function h(r,v){var q=b._zlevelList;null==r&&(r=-1/0);for(var w,p=0;p<q.length;p++){var u=q[p],n=b._layers[u];if(!n.__builtin__&&u>r&&v>u){w=n;break}}w&&w.renderToCanvas&&(d.ctx.save(),w.renderToCanvas(d.ctx),d.ctx.restore())}if(k=k||{},this._singleCanvas){return this._layers[0].dom}var d=new aq("image",this,k.pixelRatio||this.dpr);d.initContext(),d.clearColor=k.backgroundColor,d.clear();for(var g,c=this.storage.getDisplayList(!0),j={},b=this,m=0;m<c.length;m++){var f=c[m];f.zlevel!==g&&(h(g,f.zlevel),g=f.zlevel),this._doPaintEl(f,d,!0,j)}return h(g,1/0),d.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(d){var h=this._opts,k=["width","height"][d],c=["clientWidth","clientHeight"][d],j=["paddingLeft","paddingTop"][d],b=["paddingRight","paddingBottom"][d];if(null!=h[k]&&"auto"!==h[k]){return parseFloat(h[k])}var g=this.root,f=document.defaultView.getComputedStyle(g);return(g[c]||Bq(f[k])||Bq(g.style[k]))-(Bq(f[j])||0)-(Bq(f[b])||0)|0},pathToImage:function(q,I){I=I||this.dpr;var B=document.createElement("canvas"),E=B.getContext("2d"),A=q.getBoundingRect(),L=q.style,x=L.shadowBlur,w=L.shadowOffsetX,D=L.shadowOffsetY,k=L.hasStroke()?L.lineWidth:0,F=Math.max(k/2,-w+x),K=Math.max(k/2,w+x),J=Math.max(k/2,-D+x),H=Math.max(k/2,D+x),G=A.width+F+K,z=A.height+J+H;B.width=G*I,B.height=z*I,E.scale(I,I),E.clearRect(0,0,G,z),E.dpr=I;var C={position:q.position,rotation:q.rotation,scale:q.scale};q.position=[F-A.x,J-A.y],q.rotation=0,q.scale=[1,1],q.updateTransform(),q&&q.brush(E);var j=R1,b=new j({style:{x:0,y:0,image:B}});return null!=C.position&&(b.position=q.position=C.position),null!=C.rotation&&(b.rotation=q.rotation=C.rotation),null!=C.scale&&(b.scale=q.scale=C.scale),b}};var i1="undefined"!=typeof window&&!!window.addEventListener,yX=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,e1=i1?function(a){a.preventDefault(),a.stopPropagation(),a.cancelBubble=!0}:function(a){a.returnValue=!1,a.cancelBubble=!0},tY=function(a){a=a||{},this.stage=a.stage||{},this.onframe=a.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,lY.call(this)};tY.prototype={constructor:tY,addClip:function(a){this._clips.push(a)},addAnimator:function(a){a.animation=this;for(var b=a.getClips(),c=0;c<b.length;c++){this.addClip(b[c])}},removeClip:function(a){var b=YR(this._clips,a);b>=0&&this._clips.splice(b,1)},removeAnimator:function(a){for(var b=a.getClips(),c=0;c<b.length;c++){this.removeClip(b[c])}a.animation=null},_update:function(){for(var k=(new Date).getTime()-this._pausedTime,h=k-this._time,d=this._clips,g=d.length,c=[],j=[],b=0;g>b;b++){var m=d[b],f=m.step(k,h);f&&(c.push(f),j.push(m))}for(var b=0;g>b;){d[b]._needsRemove?(d[b]=d[g-1],d.pop(),g--):b++}g=c.length;for(var b=0;g>b;b++){j[b].fire(c[b])}this._time=k,this.onframe(h),this.trigger("frame",h),this.stage.update&&this.stage.update()},_startLoop:function(){function a(){b._running&&(aah(a),!b._paused&&b._update())}var b=this;this._running=!0,aah(a)},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},animate:function(a,b){b=b||{};var c=new jZ(a,b.loop,b.getter,b.setter);return this.addAnimator(c),c}},ZZ(tY,lY);var d1=function(){this._track=[]};d1.prototype={constructor:d1,recognize:function(a,b,c){return this._doTrack(a,b,c),this._recognize(a)},clear:function(){return this._track.length=0,this},_doTrack:function(k,h,d){var g=k.touches;if(g){for(var c={points:[],touches:[],target:h,event:k},j=0,b=g.length;b>j;j++){var m=g[j],f=abp(d,m,{});c.points.push([f.zrX,f.zrY]),c.touches.push(m)}this._track.push(c)}},_recognize:function(a){for(var b in sY){if(sY.hasOwnProperty(b)){var c=sY[b](this._track,a);if(c){return c}}}}};var sY={pinch:function(d,g){var j=d.length;if(j){var c=(d[j-1]||{}).points,h=(d[j-2]||{}).points||c;if(h&&h.length>1&&c&&c.length>1){var b=ZO(c)/ZO(h);!isFinite(b)&&(b=1),g.pinchScale=b;var f=X3(c);return g.pinchX=f[0],g.pinchY=f[1],{type:"pinch",target:d[0].target,event:g}}}}},uY=300,bk=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],c1=["touchstart","touchend","touchmove"],b1={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},f1=ZN(bk,function(a){var b=a.replace("mouse","pointer");return b1[b]?b:a}),KQ={mousemove:function(a){a=I9(this.dom,a),this.trigger("mousemove",a)},mouseout:function(a){a=I9(this.dom,a);var b=a.toElement||a.relatedTarget;if(b!=this.dom){for(;b&&9!=b.nodeType;){if(b===this.dom){return}b=b.parentNode}}this.trigger("mouseout",a)},touchstart:function(a){a=I9(this.dom,a),a.zrByTouch=!0,this._lastTouchMoment=new Date,U4(this,a,"start"),KQ.mousemove.call(this,a),KQ.mousedown.call(this,a),L8(this)},touchmove:function(a){a=I9(this.dom,a),a.zrByTouch=!0,U4(this,a,"change"),KQ.mousemove.call(this,a),L8(this)},touchend:function(a){a=I9(this.dom,a),a.zrByTouch=!0,U4(this,a,"end"),KQ.mouseup.call(this,a),+new Date-this._lastTouchMoment<uY&&KQ.click.call(this,a),L8(this)},pointerdown:function(a){KQ.mousedown.call(this,a)},pointermove:function(a){O8(a)||KQ.mousemove.call(this,a)},pointerup:function(a){KQ.mouseup.call(this,a)},pointerout:function(a){O8(a)||KQ.mouseout.call(this,a)}};ZR(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(a){KQ[a]=function(b){b=I9(this.dom,b),this.trigger(a,b)}});var RN=Dj.prototype;RN.dispose=function(){for(var a=bk.concat(c1),b=0;b<a.length;b++){var c=a[b];G9(this.dom,V4(c),this._handlers[c])}},RN.setCursor=function(a){this.dom.style.cursor=a||"default"},ZZ(Dj,lY);var A4=!VG.canvasSupported,pZ={canvas:vY},qY=function(m,h,d){d=d||{},this.dom=h,this.id=m;var g=this,c=new VH,j=d.renderer;if(A4){if(!pZ.vml){throw new Error("You need to require 'zrender/vml/vml' to support IE8")}j="vml"}else{j&&pZ[j]||(j="canvas")}var b=new pZ[j](h,c,d);this.storage=c,this.painter=b;var p=VG.node?null:new Dj(b.getViewportRoot());this.handler=new vX(c,b,p,b.root),this.animation=new tY({stage:{update:YN(this.flush,this)}}),this.animation.start(),this._needsRefresh;var f=c.delFromStorage,k=c.addToStorage;c.delFromStorage=function(a){f.call(c,a),a&&a.removeSelfFromZr(g)},c.addToStorage=function(a){k.call(c,a),a.addSelfToZr(g)}};qY.prototype={constructor:qY,getId:function(){return this.id},add:function(a){this.storage.addRoot(a),this._needsRefresh=!0},remove:function(a){this.storage.delRoot(a),this._needsRefresh=!0},configLayer:function(a,b){this.painter.configLayer(a,b),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){this._needsRefresh&&this.refreshImmediately(),this._needsRefreshHover&&this.refreshHoverImmediately()},addHover:function(a,b){this.painter.addHover&&(this.painter.addHover(a,b),this.refreshHover())},removeHover:function(a){this.painter.removeHover&&(this.painter.removeHover(a),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(a){a=a||{},this.painter.resize(a.width,a.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(a,b){return this.painter.pathToImage(a,b)},setCursorStyle:function(a){this.handler.setCursorStyle(a)},findHover:function(a,b){return this.handler.findHover(a,b)},on:function(a,b,c){this.handler.on(a,b,c)},off:function(a,b){this.handler.off(a,b)},trigger:function(a,b){this.handler.trigger(a,b)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null}};var j0=0.0001,IN=9007199254740991,XF=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/,OK=aaD,TF=["a","b","c","d","e","f","g"],NK=function(a,b){return"{"+a+(null==b?"":b)+"}"},abD=function(a){return 10>a?"0"+a:a},KN=D4,JN=".",QK="___EC__COMPONENT__CONTAINER___",HN="\x00ec_\x00",UF=function(a){for(var b=0;b<a.length;b++){a[b][1]||(a[b][1]=a[b][0])}return function(h,k,d){for(var j={},c=0;c<a.length;c++){var g=a[c][1];if(!(k&&YR(k,g)>=0||d&&YR(d,g)<0)){var f=h.getShallow(g);null!=f&&(j[a[c][0]]=f)}}return j}},aab=UF([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),YE={getLineStyle:function(a){var b=aab(this,a),c=this.getLineDash(b.lineWidth);return c&&(b.lineDash=c),b},getLineDash:function(b){null==b&&(b=1);var c=this.get("type"),d=Math.max(b,2),a=4*b;return"solid"===c||null==c?null:"dashed"===c?[a,a]:[d,d]}},WF=UF([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),VF={getAreaStyle:function(a,b){return WF(this,a,b)}},MK=Math.pow,PK=Math.sqrt,GN=1e-8,DO=0.0001,EO=PK(3),a0=1/3,aa6=aaq(),FN=aaq(),iZ=aaq(),oX=Math.min,sW=Math.max,hZ=Math.sin,AR=Math.cos,xV=2*Math.PI,yV=aaq(),pX=aaq(),lX=aaq(),RJ=[],mX=[],CO={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},nX=[],wV=[],jY=[],zU=[],fZ=Math.min,uW=Math.max,eZ=Math.cos,tW=Math.sin,vW=Math.sqrt,bZ=Math.abs,dZ="undefined"!=typeof Float32Array,cZ=function(a){this._saveData=!a,this._saveData&&(this.data=[]),this._ctx=null};cZ.prototype={constructor:cZ,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(a,b){this._ux=bZ(1/NO/a)||0,this._uy=bZ(1/NO/b)||0},getContext:function(){return this._ctx},beginPath:function(a){return this._ctx=a,a&&a.beginPath(),a&&(this.dpr=a.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(a,b){return this.addData(CO.M,a,b),this._ctx&&this._ctx.moveTo(a,b),this._x0=a,this._y0=b,this._xi=a,this._yi=b,this},lineTo:function(a,b){var c=bZ(a-this._xi)>this._ux||bZ(b-this._yi)>this._uy||this._len<5;return this.addData(CO.L,a,b),this._ctx&&c&&(this._needsDash()?this._dashedLineTo(a,b):this._ctx.lineTo(a,b)),c&&(this._xi=a,this._yi=b),this},bezierCurveTo:function(d,f,h,c,g,b){return this.addData(CO.C,d,f,h,c,g,b),this._ctx&&(this._needsDash()?this._dashedBezierTo(d,f,h,c,g,b):this._ctx.bezierCurveTo(d,f,h,c,g,b)),this._xi=g,this._yi=b,this},quadraticCurveTo:function(b,c,d,a){return this.addData(CO.Q,b,c,d,a),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(b,c,d,a):this._ctx.quadraticCurveTo(b,c,d,a)),this._xi=d,this._yi=a,this},arc:function(d,f,h,c,g,b){return this.addData(CO.A,d,f,h,h,c,g-c,0,b?0:1),this._ctx&&this._ctx.arc(d,f,h,c,g,b),this._xi=eZ(g)*h+d,this._yi=tW(g)*h+d,this},arcTo:function(b,c,f,a,d){return this._ctx&&this._ctx.arcTo(b,c,f,a,d),this},rect:function(b,c,d,a){return this._ctx&&this._ctx.rect(b,c,d,a),this.addData(CO.R,b,c,d,a),this},closePath:function(){this.addData(CO.Z);var a=this._ctx,b=this._x0,c=this._y0;return a&&(this._needsDash()&&this._dashedLineTo(b,c),a.closePath()),this._xi=b,this._yi=c,this},fill:function(a){a&&a.fill(),this.toStatic()},stroke:function(a){a&&a.stroke(),this.toStatic()},setLineDash:function(a){if(a instanceof Array){this._lineDash=a,this._dashIdx=0;for(var b=0,c=0;c<a.length;c++){b+=a[c]}this._dashSum=b}return this},setLineDashOffset:function(a){return this._dashOffset=a,this},len:function(){return this._len},setData:function(a){var b=a.length;this.data&&this.data.length==b||!dZ||(this.data=new Float32Array(b));for(var c=0;b>c;c++){this.data[c]=a[c]}this._len=b},appendPath:function(d){d instanceof Array||(d=[d]);for(var g=d.length,j=0,c=this._len,h=0;g>h;h++){j+=d[h].len()}dZ&&this.data instanceof Float32Array&&(this.data=new Float32Array(c+j));for(var h=0;g>h;h++){for(var b=d[h].data,f=0;f<b.length;f++){this.data[c++]=b[f]}}this._len=c},addData:function(a){if(this._saveData){var b=this.data;this._len+arguments.length>b.length&&(this._expandData(),b=this.data);for(var c=0;c<arguments.length;c++){b[this._len++]=arguments[c]}this._prevCmd=a}},_expandData:function(){if(!(this.data instanceof Array)){for(var a=[],b=0;b<this._len;b++){a[b]=this.data[b]}this.data=a}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(E,z){var m,v,k=this._dashSum,C=this._dashOffset,b=this._lineDash,F=this._ctx,q=this._xi,D=this._yi,w=E-q,B=z-D,A=vW(w*w+B*B),y=q,x=D,j=b.length;for(w/=A,B/=A,0>C&&(C=k+C),C%=k,y-=C*w,x-=C*B;w>0&&E>=y||0>w&&y>=E||0==w&&(B>0&&z>=x||0>B&&x>=z);){v=this._dashIdx,m=b[v],y+=w*m,x+=B*m,this._dashIdx=(v+1)%j,w>0&&q>y||0>w&&y>q||B>0&&D>x||0>B&&x>D||F[v%2?"moveTo":"lineTo"](w>=0?fZ(y,E):uW(y,E),B>=0?fZ(x,z):uW(x,z))}w=y-E,B=x-z,this._dashOffset=-vW(w*w+B*B)},_dashedBezierTo:function(z,L,E,H,D,P){var B,A,G,w,I,N=this._dashSum,M=this._dashOffset,K=this._lineDash,J=this._ctx,C=this._xi,F=this._yi,q=N1,j=0,k=this._dashIdx,Q=K.length,O=0;for(0>M&&(M=N+M),M%=N,B=0;1>B;B+=0.1){A=q(C,z,E,D,B+0.1)-q(C,z,E,D,B),G=q(F,L,H,P,B+0.1)-q(F,L,H,P,B),j+=vW(A*A+G*G)}for(;Q>k&&(O+=K[k],!(O>M));k++){}for(B=(O-M)/j;1>=B;){w=q(C,z,E,D,B),I=q(F,L,H,P,B),k%2?J.moveTo(w,I):J.lineTo(w,I),B+=K[k]/j,k=(k+1)%Q}k%2!==0&&J.lineTo(D,P),A=D-w,G=P-I,this._dashOffset=-vW(A*A+G*G)},_dashedQuadraticTo:function(d,f,h,c){var g=h,b=c;h=(h+2*d)/3,c=(c+2*f)/3,d=(this._xi+2*d)/3,f=(this._yi+2*f)/3,this._dashedBezierTo(d,f,h,c,g,b)},toStatic:function(){var a=this.data;a instanceof Array&&(a.length=this._len,dZ&&(this.data=new Float32Array(a)))},getBoundingRect:function(){nX[0]=nX[1]=jY[0]=jY[1]=Number.MAX_VALUE,wV[0]=wV[1]=zU[0]=zU[1]=-Number.MAX_VALUE;for(var E=this.data,z=0,m=0,v=0,k=0,C=0;C<E.length;){var b=E[C++];switch(1==C&&(z=E[C],m=E[C+1],v=z,k=m),b){case CO.M:v=E[C++],k=E[C++],z=v,m=k,jY[0]=v,jY[1]=k,zU[0]=v,zU[1]=k;break;case CO.L:O1(z,m,E[C],E[C+1],jY,zU),z=E[C++],m=E[C++];break;case CO.C:F2(z,m,E[C++],E[C++],E[C++],E[C++],E[C],E[C+1],jY,zU),z=E[C++],m=E[C++];break;case CO.Q:C3(z,m,E[C++],E[C++],E[C],E[C+1],jY,zU),z=E[C++],m=E[C++];break;case CO.A:var F=E[C++],q=E[C++],D=E[C++],w=E[C++],B=E[C++],A=E[C++]+B,y=(E[C++],1-E[C++]);1==C&&(v=eZ(B)*D+F,k=tW(B)*w+q),D3(F,q,D,w,B,A,y,jY,zU),z=eZ(A)*D+F,m=tW(A)*w+q;break;case CO.R:v=z=E[C++],k=m=E[C++];var x=E[C++],j=E[C++];O1(v,k,v+x,k+j,jY,zU);break;case CO.Z:z=v,m=k}aaJ(nX,nX,jY),aat(wV,wV,zU)}return 0===C&&(nX[0]=nX[1]=wV[0]=wV[1]=0),new gO(nX[0],nX[1],wV[0]-nX[0],wV[1]-nX[1])},rebuildPath:function(E){for(var T,K,O,J,X,G,F=this.data,N=this._ux,D=this._uy,P=this._len,V=0;P>V;){var U=F[V++];switch(1==V&&(O=F[V],J=F[V+1],T=O,K=J),U){case CO.M:T=O=F[V++],K=J=F[V++],E.moveTo(O,J);break;case CO.L:X=F[V++],G=F[V++],(bZ(X-O)>N||bZ(G-J)>D||V===P-1)&&(E.lineTo(X,G),O=X,J=G);break;case CO.C:E.bezierCurveTo(F[V++],F[V++],F[V++],F[V++],F[V++],F[V++]),O=F[V-2],J=F[V-1];break;case CO.Q:E.quadraticCurveTo(F[V++],F[V++],F[V++],F[V++]),O=F[V-2],J=F[V-1];break;case CO.A:var R=F[V++],Q=F[V++],H=F[V++],L=F[V++],C=F[V++],q=F[V++],A=F[V++],Y=F[V++],W=H>L?H:L,B=H>L?1:H/L,j=H>L?L/H:1,k=Math.abs(H-L)>0.001,z=C+q;k?(E.translate(R,Q),E.rotate(A),E.scale(B,j),E.arc(0,0,W,C,z,1-Y),E.scale(1/B,1/j),E.rotate(-A),E.translate(-R,-Q)):E.arc(R,Q,W,C,z,1-Y),1==V&&(T=eZ(C)*H+R,K=tW(C)*L+Q),O=eZ(z)*H+R,J=tW(z)*L+Q;break;case CO.R:T=O=F[V],K=J=F[V+1],E.rect(F[V++],F[V++],F[V++],F[V++]);break;case CO.Z:E.closePath(),O=T,J=K}}}},cZ.CMD=CO;var gZ=2*Math.PI,LK=2*Math.PI,SH=cZ.CMD,BQ=2*Math.PI,qW=0.0001,rW=[-1,-1,-1],kX=[-1,-1],IH=DR.prototype.getCanvasPattern,Xz=Math.abs,OG=new cZ(!0);Cj.prototype={constructor:Cj,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(G,B){var q=this.style,x=this.path||OG,k=q.hasStroke(),E=q.hasFill(),b=q.fill,H=q.stroke,w=E&&!!b.colorStops,F=k&&!!H.colorStops,y=E&&!!b.image,D=k&&!!H.image;if(q.bind(G,this,B),this.setTransform(G),this.__dirty){var C;w&&(C=C||this.getBoundingRect(),this._fillGradient=q.getGradient(G,b,C)),F&&(C=C||this.getBoundingRect(),this._strokeGradient=q.getGradient(G,H,C))}w?G.fillStyle=this._fillGradient:y&&(G.fillStyle=IH.call(b,G)),F?G.strokeStyle=this._strokeGradient:D&&(G.strokeStyle=IH.call(H,G));var A=q.lineDash,z=q.lineDashOffset,j=!!G.setLineDash,v=this.getGlobalScale();x.setScale(v[0],v[1]),this.__dirtyPath||A&&!j&&k?(x.beginPath(G),A&&!j&&(x.setLineDash(A),x.setLineDashOffset(z)),this.buildPath(x,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(G.beginPath(),this.path.rebuildPath(G)),E&&x.fill(G),A&&j&&(G.setLineDash(A),G.lineDashOffset=z),k&&x.stroke(G),A&&j&&G.setLineDash([]),this.restoreTransform(G),null!=q.text&&this.drawRectText(G,this.getBoundingRect())},buildPath:function(){},createPathProxy:function(){this.path=new cZ},getBoundingRect:function(){var d=this._rect,g=this.style,j=!d;if(j){var c=this.path;c||(c=this.path=new cZ),this.__dirtyPath&&(c.beginPath(),this.buildPath(c,this.shape,!1)),d=c.getBoundingRect()}if(this._rect=d,g.hasStroke()){var h=this._rectWithStroke||(this._rectWithStroke=d.clone());if(this.__dirty||j){h.copy(d);var b=g.lineWidth,f=g.strokeNoScale?this.getLineScale():1;g.hasFill()||(b=Math.max(b,this.strokeContainThreshold||4)),f>1e-10&&(h.width+=b/f,h.height+=b/f,h.x-=b/f/2,h.y-=b/f/2)}return h}return d},contain:function(d,h){var k=this.transformCoordToLocal(d,h),c=this.getBoundingRect(),j=this.style;if(d=k[0],h=k[1],c.contain(d,h)){var b=this.path.data;if(j.hasStroke()){var g=j.lineWidth,f=j.strokeNoScale?this.getLineScale():1;if(f>1e-10&&(j.hasFill()||(g=Math.max(g,this.strokeContainThreshold)),l9(b,g/f,d,h))){return !0}}if(j.hasFill()){return Q1(b,d,h)}}return !1},dirty:function(a){null==a&&(a=!0),a&&(this.__dirtyPath=a,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(a){return this.animate("shape",a)},attrKV:function(a,b){"shape"===a?(this.setShape(b),this.__dirtyPath=!0,this._rect=null):K3.prototype.attrKV.call(this,a,b)},setShape:function(b,c){var d=this.shape;if(d){if(YJ(b)){for(var a in b){b.hasOwnProperty(a)&&(d[a]=b[a])}}else{d[b]=c}this.dirty(!0)}return this},getLineScale:function(){var a=this.transform;return a&&Xz(a[0]-1)>1e-10&&Xz(a[3]-1)>1e-10?Math.sqrt(Xz(a[0]*a[3]-a[2]*a[1])):1}},Cj.extend=function(a){var b=function(f){Cj.call(this,f),a.style&&this.style.extendFrom(a.style,!1);var h=a.shape;if(h){this.shape=this.shape||{};var d=this.shape;for(var g in h){!d.hasOwnProperty(g)&&h.hasOwnProperty(g)&&(d[g]=h[g])}}a.init&&a.init.call(this,f)};ZK(b,Cj);for(var c in a){"style"!==c&&"shape"!==c&&(b.prototype[c]=a[c])}return b},ZK(Cj,K3);var Tz=cZ.CMD,NG=[[],[],[]],abA=Math.sqrt,KH=Math.atan2,JH=function(w,K){var D,G,C,N,A,z,F=w.data,q=Tz.M,H=Tz.C,M=Tz.L,L=Tz.R,J=Tz.A,I=Tz.Q;for(C=0,N=0;C<F.length;){switch(D=F[C++],N=C,G=0,D){case q:G=1;break;case M:G=1;break;case H:G=3;break;case I:G=2;break;case J:var B=K[4],E=K[5],k=abA(K[0]*K[0]+K[1]*K[1]),b=abA(K[2]*K[2]+K[3]*K[3]),j=KH(-K[1]/b,K[0]/k);F[C]*=k,F[C++]+=B,F[C]*=b,F[C++]+=E,F[C++]*=k,F[C++]*=b,F[C++]+=j,F[C++]+=j,C+=2,N=C;break;case L:z[0]=F[C++],z[1]=F[C++],aaG(z,z,K),F[N++]=z[0],F[N++]=z[1],z[0]+=F[C++],z[1]+=F[C++],aaG(z,z,K),F[N++]=z[0],F[N++]=z[1]}for(A=0;G>A;A++){var z=NG[A];z[0]=F[C++],z[1]=F[C++],aaG(z,z,K),F[N++]=z[0],F[N++]=z[1]}}},QG=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],HH=Math.sqrt,Uz=Math.sin,Z7=Math.cos,Yt=Math.PI,Wz=function(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])},Vz=function(a,b){return(a[0]*b[0]+a[1]*b[1])/(Wz(a)*Wz(b))},MG=function(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(Vz(a,b))},PG=function(a){K3.call(this,a)};PG.prototype={constructor:PG,type:"text",brush:function(b,c){var d=this.style;this.__dirty&&pj(d,!0),d.fill=d.stroke=d.shadowBlur=d.shadowColor=d.shadowOffsetX=d.shadowOffsetY=null;var a=d.text;null!=a&&(a+=""),d.bind(b,this,c),gt(a,d)&&(this.setTransform(b),Q2(this,b,a,d),this.restoreTransform(b))},getBoundingRect:function(){var b=this.style;if(this.__dirty&&pj(b,!0),!this._rect){var c=b.text;null!=c?c+="":c="";var d=VY(b.text+"",b.font,b.textAlign,b.textVerticalAlign,b.textPadding,b.rich);if(d.x+=b.x||0,d.y+=b.y||0,u9(b.textStroke,b.textStrokeWidth)){var a=b.textStrokeWidth;d.x-=a/2,d.y-=a/2,d.width+=a,d.height+=a}this._rect=d}return this._rect}},ZK(PG,K3);var GH=Cj.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(a,b,c){c&&a.moveTo(b.cx+b.r,b.cy),a.arc(b.cx,b.cy,b.r,0,2*Math.PI,!0)}}),DJ=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],EJ=function(a){return VG.browser.ie&&VG.browser.version>=11?function(){var h,k=this.__clipPaths,d=this.style;if(k){for(var j=0;j<k.length;j++){var c=k[j],g=c&&c.shape,f=c&&c.type;if(g&&("sector"===f&&g.startAngle===g.endAngle||"rect"===f&&(!g.width||!g.height))){for(var b=0;b<DJ.length;b++){DJ[b][2]=d[DJ[b][0]],d[DJ[b][0]]=DJ[b][1]}h=!0;break}}}if(a.apply(this,arguments),h){for(var b=0;b<DJ.length;b++){d[DJ[b][0]]=DJ[b][2]}}}:a},aY=Cj.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:EJ(Cj.prototype.brush),buildPath:function(q,k){var d=k.cx,g=k.cy,c=Math.max(k.r0||0,0),m=Math.max(k.r,0),b=k.startAngle,v=k.endAngle,f=k.clockwise,p=Math.cos(b),j=Math.sin(b);q.moveTo(p*c+d,j*c+g),q.lineTo(p*m+d,j*m+g),q.arc(d,g,m,b,v,!f),q.lineTo(Math.cos(v)*c+d,Math.sin(v)*c+g),0!==c&&q.arc(d,g,c,v,b,f),q.closePath()}}),aa2=Cj.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(b,c){var f=c.cx,a=c.cy,d=2*Math.PI;b.moveTo(f+c.r,a),b.arc(f,a,c.r,0,d,!1),b.moveTo(f+c.r0,a),b.arc(f,a,c.r0,0,d,!0)}}),FH=function(E,z){for(var m=E.length,v=[],k=0,C=1;m>C;C++){k+=Y0(E[C-1],E[C])}var b=k/2;b=m>b?m:b;for(var C=0;b>C;C++){var F,q,D,w=C/(b-1)*(z?m:m-1),B=Math.floor(w),A=w-B,y=E[B%m];z?(F=E[(B-1+m)%m],q=E[(B+1)%m],D=E[(B+2)%m]):(F=E[0===B?B:B-1],q=E[B>m-2?m-1:B+1],D=E[B>m-3?m-1:B+2]);var x=A*A,j=A*x;v.push([eq(F[0],y[0],q[0],D[0],A,x,j),eq(F[1],y[1],q[1],D[1],A,x,j)])}return v},iW=function(w,K,D,G){var C,N,A,z,F=[],q=[],H=[],M=[];if(G){A=[1/0,1/0],z=[-1/0,-1/0];for(var L=0,J=w.length;J>L;L++){aaJ(A,A,w[L]),aat(z,z,w[L])}aaJ(A,A,G[0]),aat(z,z,G[1])}for(var L=0,J=w.length;J>L;L++){var I=w[L];if(D){C=w[L?L-1:J-1],N=w[(L+1)%J]}else{if(0===L||L===J-1){F.push(aaj(w[L]));continue}C=w[L-1],N=w[L+1]}aaQ(q,N,C),aad(q,q,K);var B=Y0(I,C),E=Y0(I,N),k=B+E;0!==k&&(B/=k,E/=k),aad(H,q,-B),aad(M,q,E);var b=aag([],I,H),j=aag([],I,M);G&&(aat(b,b,A),aaJ(b,b,z),aat(j,j,A),aaJ(j,j,z)),F.push(b),F.push(j)}return D&&F.push(F.shift()),F},oU=Cj.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(a,b){s8(a,b,!0)}}),sR=Cj.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(a,b){s8(a,b,!1)}}),hW=Cj.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(d,f){var h=f.x,c=f.y,g=f.width,b=f.height;f.r?x8(d,f):d.rect(h,c,g,b),d.closePath()}}),AN=Cj.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(d,g){var j=g.x1,c=g.y1,h=g.x2,b=g.y2,f=g.percent;0!==f&&(d.moveTo(j,c),1>f&&(h=j*(1-f)+h*f,b=c*(1-f)+b*f),d.lineTo(h,b))},pointAt:function(a){var b=this.shape;return[b.x1*(1-a)+b.x2*a,b.y1*(1-a)+b.y2*a]}}),xQ=[],yQ=Cj.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(q,k){var d=k.x1,g=k.y1,c=k.x2,m=k.y2,b=k.cpx1,v=k.cpy1,f=k.cpx2,p=k.cpy2,j=k.percent;0!==j&&(q.moveTo(d,g),null==f||null==p?(1>j&&(VX(d,b,c,j,xQ),b=xQ[1],c=xQ[2],VX(g,v,m,j,xQ),v=xQ[1],m=xQ[2]),q.quadraticCurveTo(b,v,c,m)):(1>j&&(J2(d,b,f,c,j,xQ),b=xQ[1],f=xQ[2],c=xQ[3],J2(g,v,p,m,j,xQ),v=xQ[1],p=xQ[2],m=xQ[3]),q.bezierCurveTo(b,v,f,p,c,m)))},pointAt:function(a){return u8(this.shape,a,!1)},tangentAt:function(a){var b=u8(this.shape,a,!0);return aak(b,b)}}),pU=Cj.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(m,h){var d=h.cx,g=h.cy,c=Math.max(h.r,0),j=h.startAngle,b=h.endAngle,p=h.clockwise,f=Math.cos(j),k=Math.sin(j);m.moveTo(f*c+d,k*c+g),m.arc(d,g,c,j,b,!p)}}),lU=Cj.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var a=this.__dirtyPath,b=this.shape.paths,c=0;c<b.length;c++){a=a||b[c].__dirtyPath}this.__dirtyPath=a,this.__dirty=this.__dirty||a},beforeBrush:function(){this._updatePathDirty();for(var a=this.shape.paths||[],b=this.getGlobalScale(),c=0;c<a.length;c++){a[c].path||a[c].createPathProxy(),a[c].path.setScale(b[0],b[1])}},buildPath:function(b,c){for(var d=c.paths||[],a=0;a<d.length;a++){d[a].buildPath(b,d[a].shape,!0)}},afterBrush:function(){for(var a=this.shape.paths||[],b=0;b<a.length;b++){a[b].__dirtyPath=!1}},getBoundingRect:function(){return this._updatePathDirty(),Cj.prototype.getBoundingRect.call(this)}}),RF=function(a){this.colorStops=a||[]};RF.prototype={constructor:RF,addColorStop:function(a,b){this.colorStops.push({offset:a,color:b})}};var mU=function(d,f,h,c,g,b){this.x=null==d?0:d,this.y=null==f?0:f,this.x2=null==h?1:h,this.y2=null==c?0:c,this.type="linear",this.global=b||!1,RF.call(this,g)};mU.prototype={constructor:mU},ZK(mU,RF);var CK=function(b,c,f,a,d){this.x=null==b?0.5:b,this.y=null==c?0.5:c,this.r=null==f?0.5:f,this.type="radial",this.global=d||!1,RF.call(this,a)};CK.prototype={constructor:CK},ZK(CK,RF);var nU=Math.round,wQ=Math.max,jV=Math.min,zO={},fW=t8,uR=(Object.freeze||Object)({extendShape:bG,extendPath:dq,makePath:cq,makeImage:gq,mergePath:fW,resizePath:R0,subPixelOptimizeLine:Bk,subPixelOptimizeRect:p9,subPixelOptimize:q8,setHoverStyle:Z9,setLabelStyle:Yz,setTextStyle:WB,setText:VB,getFont:aa4,updateProps:iX,initProps:oV,getTransform:sU,applyTransform:hX,transformDirection:AO,groupTransition:xR,clipPointsByRect:yR,clipRectByRect:pV,createIcon:lV,Group:TH,Image:R1,Text:PG,Circle:GH,Sector:aY,Ring:aa2,Polygon:oU,Polyline:sR,Rect:hW,Line:AN,BezierCurve:yQ,Arc:pU,CompoundPath:lU,LinearGradient:mU,RadialGradient:CK,BoundingRect:gO}),eW=["textStyle","color"],tR={getTextColor:function(a){var b=this.ecModel;return this.getShallow("color")||(!a&&b?b.get(eW):null)},getFont:function(){return aa4({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(a){return VY(a,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}},vR=UF([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),bX={getItemStyle:function(b,c){var d=vR(this,b,c),a=this.getBorderLineDash();return a&&(d.lineDash=a),d},getBorderLineDash:function(){var a=this.get("borderType");return"solid"===a||null==a?null:"dashed"===a?[5,5]:[1,1]}},dW=ZZ;RG.prototype={constructor:RG,init:null,mergeOption:function(a){Y5(this.option,a,!0)},get:function(a,b){return null==a?this.option:mV(this.option,this.parsePath(a),!b&&CN(this,a))},getShallow:function(b,c){var f=this.option,a=null==f?f:f[b],d=!c&&CN(this,b);return null==a&&d&&(a=d.getShallow(b)),a},getModel:function(b,c){var d,a=null==b?this.option:mV(this.option,b=this.parsePath(b));return c=c||(d=CN(this,b))&&d.getModel(b),new RG(a,c,this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){var a=this.constructor;return new a(ZJ(this.option))},setReadOnly:function(){},parsePath:function(a){return"string"==typeof a&&(a=a.split(".")),a},customizeGetParent:function(a){dG(this,"getParent",a)},isAnimationEnabled:function(){if(!VG.node){if(null!=this.option.animation){return !!this.option.animation}if(this.parentModel){return this.parentModel.isAnimationEnabled()}}}},BB(RG),dW(RG,YE),dW(RG,VF),dW(RG,tR),dW(RG,bX);var cW=ZR,gW=YJ,LG=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],SE={getDataParams:function(d,h){var k=this.getData(h),c=this.getRawValue(d,h),j=k.getRawIndex(d),b=k.getName(d,!0),g=k.getRawDataItem(d),f=k.getItemVisual(d,"color");return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:b,dataIndex:j,data:g,dataType:h,value:c,color:f,marker:tB(f),$vars:["seriesName","name","value"]}},getFormattedLabel:function(k,h,d,g,c){h=h||"normal";var j=this.getData(d),b=j.getItemModel(k),m=this.getDataParams(k,d);null!=g&&m.value instanceof Array&&(m.value=m.value[g]);var f=b.get([c||"label",h,"formatter"]);return"function"==typeof f?(m.status=h,f(m)):"string"==typeof f?uB(f,m):void 0},getRawValue:function(b,c){var d=this.getData(c),a=d.getRawDataItem(b);return null!=a?!gW(a)||a instanceof Array?a:a.value:void 0},formatTooltip:aaS},BN=function(){var a=0;return function(){var b="\x00__ec_prop_getter_"+a++;return function(c){return c[b]||(c[b]={})}}}(),qR=0,rR="_",kU=ZR,HR=["left","right","top","bottom","width","height"],WJ=[["width","left","right"],["height","top","bottom"]],NQ=kV,SN=(YG(kV,"vertical"),YG(kV,"horizontal"),{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}),MQ=Array.prototype.push,aa9=RG.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(b,c,d,a){RG.call(this,b,c,d,a),this.uid=BO("componentModel")},init:function(a,b,c){this.mergeDefaultAndTheme(a,c)},mergeDefaultAndTheme:function(d,f){var g=this.layoutMode,c=g?abf(d):{},b=f.getTheme();Y5(d,b.get(this.mainType)),Y5(d,this.getDefaultOption()),g&&MY(d,c,g)},mergeOption:function(a){Y5(this.option,a,!0);var b=this.layoutMode;b&&MY(this.option,a,b)},optionUpdated:function(){},getDefaultOption:function(){if(!gG(this,"__defaultOption")){for(var d=[],f=this.constructor;f;){var g=f.prototype.defaultOption;g&&d.push(g),f=f.superClass}for(var c={},b=d.length-1;b>=0;b--){c=Y5(c,d[b],!0)}dG(this,"__defaultOption",c)}return cG(this,"__defaultOption")},getReferringComponents:function(a){return this.ecModel.queryComponents({mainType:a,index:this.get(a+"Index",!0),id:this.get(a+"Id",!0)})}});kE(aa9,{registerWhenExtend:!0}),qU(aa9),rU(aa9,IZ),ZZ(aa9,SN);var JR="";"undefined"!=typeof navigator&&(JR=navigator.platform||"");var IR={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],textStyle:{fontFamily:JR.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1000,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2000,progressiveThreshold:3000,progressive:400,hoverLayerThreshold:3000,useUTC:!1},PQ={clearColorPalette:function(){dG(this,"colorIdx",0),dG(this,"colorNameMap",{})},getColorFromPalette:function(d,f){f=f||this;var h=cG(f,"colorIdx")||0,c=cG(f,"colorNameMap")||dG(f,"colorNameMap",{});if(c.hasOwnProperty(d)){return c[d]}var g=this.get("color",!0)||[];if(g.length){var b=g[h];return d&&(c[d]=b),dG(f,"colorIdx",(h+1)%g.length),b}}},GR=ZR,TJ=Y9,YQ=ZN,XJ=YH,VJ=YR,UJ=YJ,LQ="\x00_ec_inner",OQ=RG.extend({constructor:OQ,init:function(b,c,d,a){d=d||{},this.option=null,this._theme=new RG(d),this._optionManager=a},setOption:function(a,b){aav(!(LQ in a),"please use chart.getOption()"),this._optionManager.setOption(a,b),this.resetOption(null)},resetOption:function(d){var f=!1,h=this._optionManager;if(!d||"recreate"===d){var c=h.mountOption("recreate"===d);this.option&&"recreate"!==d?(this.restoreData(),this.mergeOption(c)):GZ.call(this,c),f=!0}if(("timeline"===d||"media"===d)&&this.restoreData(),!d||"recreate"===d||"timeline"===d){var g=h.getTimelineOption(this);g&&(this.mergeOption(g),f=!0)}if(!d||"recreate"===d||"media"===d){var b=h.getMediaOption(this,this._api);b.length&&GR(b,function(a){this.mergeOption(a,f=!0)},this)}return f},mergeOption:function(c){function f(k,h){var m=nV(c[k]),j=uU(b.get(k),m);eX(j),GR(j,function(e){var i=e.option;UJ(i)&&(e.keyInfo.mainType=k,e.keyInfo.subType=Y4(k,i,e.exist))});var a=TU(b,h);g[k]=[],b.set(k,[]),GR(j,function(n,l){var r=n.exist,q=n.option;if(aav(UJ(q)||r,"Empty component definition"),q){var e=aa9.getClass(k,n.keyInfo.subType,!0);if(r&&r instanceof e){r.name=n.keyInfo.name,r.mergeOption(q,this),r.optionUpdated(q,!1)}else{var p=YY({dependentModels:a,componentIndex:l},n.keyInfo);r=new e(q,this,this,p),YY(r,p),r.init(q,this,this,p),r.optionUpdated(null,!0)}}else{r.mergeOption({},this),r.optionUpdated({},!1)}b.get(k)[l]=r,g[k][l]=r.option},this),"series"===k&&(this._seriesIndices=XU(b.get("series")))}var g=this.option,b=this._componentsMap,d=[];GR(c,function(a,h){null!=a&&(aa9.hasClass(h)?d.push(h):g[h]=null==g[h]?ZJ(a):Y5(g[h],a,!0))}),aa9.topologicalTravel(d,aa9.getAllClassMainTypes(),f,this),this._seriesIndices=this._seriesIndices||[]},getOption:function(){var a=ZJ(this.option);return GR(a,function(c,d){if(aa9.hasClass(d)){for(var c=nV(c),b=c.length-1;b>=0;b--){tU(c[b])&&c.splice(b,1)}a[d]=c}}),delete a[LQ],a},getTheme:function(){return this._theme},getComponent:function(a,b){var c=this._componentsMap.get(a);return c?c[b||0]:void 0},queryComponents:function(k){var h=k.mainType;if(!h){return[]}var d=k.index,g=k.id,c=k.name,j=this._componentsMap.get(h);if(!j||!j.length){return[]}var b;if(null!=d){XJ(d)||(d=[d]),b=TJ(YQ(d,function(a){return j[a]}),function(a){return !!a})}else{if(null!=g){var m=XJ(g);b=TJ(j,function(a){return m&&VJ(g,a.id)>=0||!m&&a.id===g})}else{if(null!=c){var f=XJ(c);b=TJ(j,function(a){return f&&VJ(c,a.name)>=0||!f&&a.name===c})}else{b=j.slice()}}}return VU(b,k)},findComponents:function(d){function g(k){var l=h+"Index",m=h+"Id",a=h+"Name";return !k||null==k[l]&&null==k[m]&&null==k[a]?null:{mainType:h,index:k[l],id:k[m],name:k[a]}}function j(a){return d.filter?TJ(a,d.filter):a}var c=d.query,h=d.mainType,b=g(c),f=b?this.queryComponents(b):this._componentsMap.get(h);return j(VU(f,d))},eachComponent:function(b,c,f){var a=this._componentsMap;if("function"==typeof b){f=c,c=b,a.each(function(g,e){GR(g,function(h,i){c.call(f,e,h,i)})})}else{if(Z1(b)){GR(a.get(b),c,f)}else{if(UJ(b)){var d=this.findComponents(b);GR(d,c,f)}}}},getSeriesByName:function(a){var b=this._componentsMap.get("series");return TJ(b,function(c){return c.name===a})},getSeriesByIndex:function(a){return this._componentsMap.get("series")[a]},getSeriesByType:function(a){var b=this._componentsMap.get("series");return TJ(b,function(c){return c.subType===a})},getSeries:function(){return this._componentsMap.get("series").slice()},eachSeries:function(a,b){GR(this._seriesIndices,function(d){var c=this._componentsMap.get("series")[d];a.call(b,c,d)},this)},eachRawSeries:function(a,b){GR(this._componentsMap.get("series"),a,b)},eachSeriesByType:function(a,b,c){GR(this._seriesIndices,function(d){var e=this._componentsMap.get("series")[d];e.subType===a&&b.call(c,e,d)},this)},eachRawSeriesByType:function(a,b,c){return GR(this.getSeriesByType(a),b,c)},isSeriesFiltered:function(a){return YR(this._seriesIndices,a.componentIndex)<0},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(a,b){var c=TJ(this._componentsMap.get("series"),a,b);this._seriesIndices=XU(c)},restoreData:function(){var a=this._componentsMap;this._seriesIndices=XU(a.get("series"));var b=[];a.each(function(c,d){b.push(d)}),aa9.topologicalTravel(b,aa9.getAllClassMainTypes(),function(c){GR(a.get(c),function(d){d.restoreData()})})}});ZZ(OQ,PQ);var FR=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"],CU={};LY.prototype={constructor:LY,create:function(a,b){var c=[];ZR(CU,function(d){var e=d.create(a,b);c=c.concat(e||[])}),this._coordinateSystems=c},update:function(a,b){ZR(this._coordinateSystems,function(c){c.update&&c.update(a,b)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},LY.register=function(a,b){CU[a]=b},LY.get=function(a){return CU[a]};var DU=ZR,at=ZJ,aai=ZN,EU=Y5,h2=/^(min|max)?(.+)$/;OY.prototype={constructor:OY,setOption:function(b,c){b=at(b,!0);var d=this._optionBackup,a=FZ.call(this,b,c,!d);this._newBaseOption=a.baseOption,d?(aau(d.baseOption,a.baseOption),a.timelineOptions.length&&(d.timelineOptions=a.timelineOptions),a.mediaList.length&&(d.mediaList=a.mediaList),a.mediaDefault&&(d.mediaDefault=a.mediaDefault)):this._optionBackup=a},mountOption:function(a){var b=this._optionBackup;return this._timelineOptions=aai(b.timelineOptions,at),this._mediaList=aai(b.mediaList,at),this._mediaDefault=at(b.mediaDefault),this._currentMediaIndices=[],at(a?b.baseOption:this._newBaseOption)},getTimelineOption:function(b){var c,d=this._timelineOptions;if(d.length){var a=b.getComponent("timeline");a&&(c=at(d[a.getCurrentIndex()],!0))}return c},getMediaOption:function(){var d=this._api.getWidth(),h=this._api.getHeight(),k=this._mediaList,c=this._mediaDefault,j=[],b=[];if(!k.length&&!c){return b}for(var g=0,f=k.length;f>g;g++){C0(k[g].query,d,h)&&j.push(g)}return !j.length&&c&&(j=[-1]),j.length&&!aF(j,this._currentMediaIndices)&&(b=aai(j,function(a){return at(-1===a?c.option:k[a].option)})),this._currentMediaIndices=j,b}};var n0=ZR,rZ=YJ,g2=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"],zX=function(a,b){n0(g8(a.series),function(d){rZ(d)&&r5(d)});var c=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];b&&c.push("valueAxis","categoryAxis","logAxis","timeAxis"),n0(c,function(d){n0(g8(a[d]),function(e){e&&(h8(e,"axisLabel"),h8(e.axisPointer,"label"))})}),n0(g8(a.parallel),function(d){var f=d&&d.parallelAxisDefault;h8(f,"axisLabel"),h8(f&&f.axisPointer,"label")}),n0(g8(a.calendar),function(d){h8(d,"dayLabel"),h8(d,"monthLabel"),h8(d,"yearLabel")}),n0(g8(a.radar),function(d){h8(d,"name")}),n0(g8(a.geo),function(d){rZ(d)&&(n6(d.label),n0(g8(d.regions),function(e){n6(e.label)}))}),n6(z3(a.timeline).label),h8(z3(a.axisPointer),"label"),h8(z3(a.tooltip).axisPointer,"label")},wY=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],xY=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],o0=["bar","boxplot","candlestick","chord","effectScatter","funnel","gauge","lines","graph","heatmap","line","map","parallel","pie","radar","sankey","scatter","treemap"],k0=function(a,b){zX(a,b),a.series=nV(a.series),ZR(a.series,function(d){if(YJ(d)){var f=d.type;if(("pie"===f||"gauge"===f)&&null!=d.clockWise&&(d.clockwise=d.clockWise),"gauge"===f){var g=w4(d,"pointer.color");null!=g&&x4(d,"itemStyle.normal.color",g)}for(var c=0;c<o0.length;c++){if(o0[c]===d.type){o6(d);break}}}}),a.dataRange&&(a.visualMap=a.dataRange),ZR(xY,function(c){var d=a[c];d&&(YH(d)||(d=[d]),ZR(d,function(e){o6(e)}))})},QQ=aa9.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.normal.color",layoutMode:null,init:function(b,c,d){this.seriesIndex=this.componentIndex,this.mergeDefaultAndTheme(b,d);var a=this.getInitialData(b,d);dG(this,"dataBeforeProcessed",a),this.restoreData()},mergeDefaultAndTheme:function(d,f){var g=this.layoutMode,c=g?abf(d):{},b=this.subType;aa9.hasClass(b)&&(b+="Series"),Y5(d,f.getTheme().get(this.subType)),Y5(d,this.getDefaultOption()),wR(d.label,["show"]),this.fillDataTextStyle(d.data),g&&MY(d,c,g)},mergeOption:function(b,c){b=Y5(this.option,b,!0),this.fillDataTextStyle(b.data);var d=this.layoutMode;d&&MY(this.option,b,d);var a=this.getInitialData(b,c);a&&(dG(this,"data",a),dG(this,"dataBeforeProcessed",a.cloneShallow()))},fillDataTextStyle:function(a){if(a){for(var b=["show"],c=0;c<a.length;c++){a[c]&&a[c].label&&wR(a[c].label,b)}}},getInitialData:function(){},getData:function(a){var b=cG(this,"data");return null==a?b:b.getLinkedData(a)},setData:function(a){dG(this,"data",a)},getRawData:function(){return cG(this,"dataBeforeProcessed")},coordDimToDataDim:function(a){return gX(this.getData(),a)},dataDimToCoordDim:function(a){return cX(this.getData(),a)},getBaseAxis:function(){var a=this.coordinateSystem;return a&&a.getBaseAxis&&a.getBaseAxis()},formatTooltip:function(m,h){function d(t){function q(r,w){var v=g.getDimensionInfo(w);if(v&&v.otherDims.tooltip!==!1){var u=v.type,a=(e?"- "+(v.tooltipName||v.name)+": ":"")+("ordinal"===u?r+"":"time"===u?h?"":vB("yyyy/MM/dd hh:mm:ss",r):jF(r));a&&l.push(fG(a))}}var e=Y3(t,function(a,r,u){var s=g.getDimensionInfo(u);return a|=s&&s.tooltip!==!1&&null!=s.tooltipName},0),l=[],i=LH(g,"tooltip");return i.length?ZR(i,function(a){q(g.get(a,m),a)}):ZR(t,q),(e?"<br/>":"")+l.join(e?"<br/>":", ")}var g=cG(this,"data"),c=this.getRawValue(m),j=YH(c)?d(c):fG(jF(c)),b=g.getName(m),p=g.getItemVisual(m,"color");YJ(p)&&p.colorStops&&(p=(p.colorStops[0]||{}).color),p=p||"transparent";var f=tB(p),k=this.name;return"\x00-"===k&&(k=""),k=k?fG(k)+(h?": ":"<br/>"):"",h?f+k+j:k+f+(b?fG(b)+": "+j:j)},isAnimationEnabled:function(){if(VG.node){return !1}var a=this.getShallow("animation");return a&&this.getData().count()>this.getShallow("animationThreshold")&&(a=!1),a},restoreData:function(){dG(this,"data",cG(this,"dataBeforeProcessed").cloneShallow())},getColorFromPalette:function(b,c){var d=this.ecModel,a=PQ.getColorFromPalette.call(this,b,c);return a||(a=d.getColorFromPalette(b,c)),a},getAxisTooltipData:null,getTooltipPosition:null});ZZ(QQ,SE),ZZ(QQ,PQ);var l0=function(){this.group=new TH,this.uid=BO("viewComponent")};l0.prototype={constructor:l0,init:function(){},render:function(){},dispose:function(){}};var B4=l0.prototype;B4.updateView=B4.updateLayout=B4.updateVisual=function(){},BB(l0),kE(l0,{registerWhenExtend:!0}),k6.prototype={type:"chart",init:function(){},render:function(){},highlight:function(b,c,d,a){l6(b.getData(),a,"emphasis")},downplay:function(b,c,d,a){l6(b.getData(),a,"normal")},remove:function(){this.group.removeAll()},dispose:function(){}};var m0=k6.prototype;m0.updateView=m0.updateLayout=m0.updateVisual=function(b,c,d,a){this.render(b,c,d,a)},BB(k6,["dispose"]),kE(k6,{registerWhenExtend:!0});var vZ="\x00__throttleOriginMethod",i2="\x00__throttleRate",yY="\x00__throttleType",e2=function(a){function b(d){var g=(d.visualColorAccessPath||"itemStyle.normal.color").split("."),c=d.getData(),f=d.get(g)||d.getColorFromPalette(d.get("name"));c.setVisual("color",f),a.isSeriesFiltered(d)||("function"!=typeof f||f instanceof RF||c.each(function(e){c.setItemVisual(e,"color",f(d.getDataParams(e)))}),c.each(function(h){var i=c.getItemModel(h),j=i.get(g,!0);null!=j&&c.setItemVisual(h,"color",j)}))}a.eachRawSeries(b)},tZ=Math.PI,d2=function(d,f){f=f||{},YW(f,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var h=new hW({style:{fill:f.maskColor},zlevel:f.zlevel,z:10000}),c=new pU({shape:{startAngle:-tZ/2,endAngle:-tZ/2+0.1,r:10},style:{stroke:f.color,lineCap:"round",lineWidth:5},zlevel:f.zlevel,z:10001}),g=new hW({style:{fill:"none",text:f.text,textPosition:"right",textDistance:10,textFill:f.textColor},zlevel:f.zlevel,z:10001});c.animateShape(!0).when(1000,{endAngle:3*tZ/2}).start("circularInOut"),c.animateShape(!0).when(1000,{startAngle:3*tZ/2}).delay(300).start("circularInOut");var b=new TH;return b.add(c),b.add(g),b.add(h),b.resize=function(){var k=d.getWidth()/2,i=d.getHeight()/2;c.setShape({cx:k,cy:i});var j=c.shape.r;g.setShape({x:k-j,y:i-j,width:2*j,height:2*j}),h.setShape({x:0,y:0,width:d.getWidth(),height:d.getHeight()})},b.resize(),b},sZ=ZR,uZ=aa9.parseClassType,bq="3.8.4",c2={zrender:"3.7.3"},b2=1000,f2=5000,KR=1000,RO=2000,A5=3000,p0=4000,qZ=5000,j1={PROCESSOR:{FILTER:b2,STATISTIC:f2},VISUAL:{LAYOUT:KR,GLOBAL:RO,CHART:A5,COMPONENT:p0,BRUSH:qZ}},IY="__flagInMainProcess",XR="__hasGradientOrPatternBg",OX="__optionUpdated",TR=/^[a-zA-Z0-9_]+$/;y4.prototype.on=i8("on"),y4.prototype.off=i8("off"),y4.prototype.one=i8("one"),ZZ(y4,lY);var NX=e8.prototype;NX._onframe=function(){if(this[OX]){var a=this[OX].silent;this[IY]=!0,abF.prepareAndUpdate.call(this),this[IY]=!1,this[OX]=!1,u5.call(this,a),bE.call(this,a)}},NX.getDom=function(){return this._dom},NX.getZr=function(){return this._zr},NX.setOption=function(d,g,j){var c;if(YJ(g)&&(j=g.lazyUpdate,c=g.silent,g=g.notMerge),this[IY]=!0,!this._model||g){var h=new OY(this._api),b=this._theme,f=this._model=new OQ(null,null,b,h);f.init(null,null,b,h)}this._model.setOption(d,UR),j?(this[OX]={silent:c},this[IY]=!1):(abF.prepareAndUpdate.call(this),this._zr.flush(),this[OX]=!1,this[IY]=!1,u5.call(this,c),bE.call(this,c))},NX.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},NX.getModel=function(){return this._model},NX.getOption=function(){return this._model&&this._model.getOption()},NX.getWidth=function(){return this._zr.getWidth()},NX.getHeight=function(){return this._zr.getHeight()},NX.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},NX.getRenderedCanvas=function(a){if(VG.canvasSupported){a=a||{},a.pixelRatio=a.pixelRatio||1,a.backgroundColor=a.backgroundColor||this._model.get("backgroundColor");var b=this._zr,c=b.storage.getDisplayList();return ZR(c,function(d){d.stopAnimation(!0)}),b.painter.getRenderedCanvas(a)}},NX.getSvgDataUrl=function(){if(VG.svgSupported){var a=this._zr,b=a.storage.getDisplayList();return ZR(b,function(c){c.stopAnimation(!0)}),a.painter.pathToSvg()}},NX.getDataURL=function(d){d=d||{};var f=d.excludeComponents,h=this._model,c=[],g=this;sZ(f,function(a){h.eachComponent({mainType:a},function(i){var j=g._componentsMap[i.__viewId];j.group.ignore||(c.push(j),j.group.ignore=!0)})});var b="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(d).toDataURL("image/"+(d&&d.type||"png"));return sZ(c,function(a){a.group.ignore=!1}),b},NX.getConnectedDataURL=function(C){if(VG.canvasSupported){var x=this.group,j=Math.min,i=Math.max,A=1/0;if(PX[x]){var b=A,D=A,q=-A,B=-A,v=[],z=C&&C.pixelRatio||1;ZR(MX,function(e){if(e.group===x){var h=e.getRenderedCanvas(ZJ(C)),g=e.getDom().getBoundingClientRect();b=j(g.left,b),D=j(g.top,D),q=i(g.right,q),B=i(g.bottom,B),v.push({dom:h,left:g.left,top:g.top})}}),b*=z,D*=z,q*=z,B*=z;var y=q-b,w=B-D,f=nY();f.width=y,f.height=w;var k=Ej(f);return sZ(v,function(a){var c=new R1({style:{x:a.left*z-b,y:a.top*z-D,image:a.dom}});k.add(c)}),k.refreshImmediately(),f.toDataURL("image/"+(C&&C.type||"png"))}return this.getDataURL(C)}},NX.convertToPixel=YG(t5,"convertToPixel"),NX.convertFromPixel=YG(t5,"convertFromPixel"),NX.containPixel=function(b,c){var d,a=this._model;return b=dX(a,b),ZR(b,function(f,e){e.indexOf("Models")>=0&&ZR(f,function(h){var i=h.coordinateSystem;if(i&&i.containPoint){d|=!!i.containPoint(c)}else{if("seriesModels"===e){var g=this._chartsMap[h.__viewId];g&&g.containPoint&&(d|=g.containPoint(c,h))}}},this)},this),!!d},NX.getVisual=function(d,f){var h=this._model;d=dX(h,d,{defaultMainType:"series"});var c=d.seriesModel,g=c.getData(),b=d.hasOwnProperty("dataIndexInside")?d.dataIndexInside:d.hasOwnProperty("dataIndex")?g.indexOfRawIndex(d.dataIndex):null;return null!=b?g.getItemVisual(b,f):g.getVisual(f)},NX.getViewOfComponentModel=function(a){return this._componentsMap[a.__viewId]},NX.getViewOfSeriesModel=function(a){return this._chartsMap[a.__viewId]};var abF={update:function(d){var h=this._model,k=this._api,c=this._coordSysMgr,j=this._zr;if(h){h.restoreData(),c.create(this._model,this._api),f8.call(this,h,k),KZ.call(this,h),c.update(h,k),A9.call(this,h,d),p6.call(this,h,d);var b=h.get("backgroundColor")||"transparent",g=j.painter;if(g.isSingleCanvas&&g.isSingleCanvas()){j.configLayer(0,{clearColor:b})}else{if(!VG.canvasSupported){var f=sJ(b);b=mK(f,"rgb"),0===f[3]&&(b="transparent")}b.colorStops||b.image?(j.configLayer(0,{clearColor:b}),this[XR]=!0,this._dom.style.background="transparent"):(this[XR]&&j.configLayer(0,{clearColor:null}),this[XR]=!1,this._dom.style.background=b)}sZ(aas,function(a){a(h,k)})}},updateView:function(a){var b=this._model;b&&(b.eachSeries(function(c){c.getData().clearAllVisual()}),A9.call(this,b,a),c8.call(this,"updateView",b,a))},updateVisual:function(a){var b=this._model;b&&(b.eachSeries(function(c){c.getData().clearAllVisual()}),A9.call(this,b,a,!0),c8.call(this,"updateVisual",b,a))},updateLayout:function(a){var b=this._model;b&&(RX.call(this,b,a),c8.call(this,"updateLayout",b,a))},prepareAndUpdate:function(a){var b=this._model;b8.call(this,"component",b),b8.call(this,"chart",b),abF.update.call(this,a)}};NX.resize=function(b){this[IY]=!0,this._zr.resize(b);var c=this._model&&this._model.resetOption("media"),d=c?"prepareAndUpdate":"update";abF[d].call(this),this._loadingFX&&this._loadingFX.resize(),this[IY]=!1;var a=b&&b.silent;u5.call(this,a),bE.call(this,a)},NX.showLoading=function(b,c){if(YJ(b)&&(c=b,b=""),b=b||"default",this.hideLoading(),VR[b]){var d=VR[b](this._api,c),a=this._zr;this._loadingFX=d,a.add(d)}},NX.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},NX.makeActionFromEvent=function(a){var b=YY({},a);return b.type=QX[a.type],b},NX.dispatchAction=function(a,b){if(YJ(b)||(b={silent:!!b}),JY[a.type]&&this._model){if(this[IY]){return void this._pendingActions.push(a)}s5.call(this,a,b.silent),b.flush?this._zr.flush(!0):b.flush!==!1&&VG.browser.weChat&&this._throttledZrFlush(),u5.call(this,b.silent),bE.call(this,b.silent)}},NX.on=i8("on"),NX.off=i8("off"),NX.one=i8("one");var KY=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];NX._initEvents=function(){sZ(KY,function(a){this._zr.on(a,function(d){var g,c=this.getModel(),f=d.target;if("globalout"===a){g={}}else{if(f&&null!=f.dataIndex){var b=f.dataModel||c.getSeriesByIndex(f.seriesIndex);g=b&&b.getDataParams(f.dataIndex,f.dataType)||{}}else{f&&f.eventData&&(g=YY({},f.eventData))}}g&&(g.event=d,g.type=a,this.trigger(a,g))},this)},this),sZ(QX,function(a,b){this._messageCenter.on(b,function(c){this.trigger(b,c)},this)},this)},NX.isDisposed=function(){return this._disposed},NX.clear=function(){this.setOption({series:[]},!0)},NX.dispose=function(){if(!this._disposed){this._disposed=!0;var a=this._api,b=this._model;sZ(this._componentsViews,function(c){c.dispose(b,a)}),sZ(this._chartsViews,function(c){c.dispose(b,a)}),this._zr.dispose(),delete MX[this.id]}},ZZ(e8,lY);var JY={},QX={},HY=[],UR=[],aas=[],Y2=[],WR={},VR={},MX={},PX={},GY=new Date-0,DZ=new Date-0,EZ="_echarts_instance_",a2={},abe=abd;FX(RO,e2),TQ(k0),CY("default",d2),VQ({type:"highlight",event:"highlight",update:"highlight"},aaS),VQ({type:"downplay",event:"downplay",update:"downplay"},aaS);var FY={},i7="__ec_stack_";k4.getLayoutOnAxis=w2,QW.prototype.parse=function(a){return a},QW.prototype.getSetting=function(a){return this._setting[a]},QW.prototype.contain=function(a){var b=this._extent;return a>=b[0]&&a<=b[1]},QW.prototype.normalize=function(a){var b=this._extent;return b[1]===b[0]?0.5:(a-b[0])/(b[1]-b[0])},QW.prototype.scale=function(a){var b=this._extent;return a*(b[1]-b[0])+b[0]},QW.prototype.unionExtent=function(a){var b=this._extent;a[0]<b[0]&&(b[0]=a[0]),a[1]>b[1]&&(b[1]=a[1])},QW.prototype.unionExtentFromData=function(a,b){this.unionExtent(a.getDataExtent(b,!0))},QW.prototype.getExtent=function(){return this._extent.slice()},QW.prototype.setExtent=function(a,b){var c=this._extent;isNaN(a)||(c[0]=a),isNaN(b)||(c[1]=b)},QW.prototype.getTicksLabels=function(){for(var a=[],b=this.getTicks(),c=0;c<b.length;c++){a.push(this.getLabel(b[c]))}return a},QW.prototype.isBlank=function(){return this._isBlank},QW.prototype.setBlank=function(a){this._isBlank=a},BB(QW),kE(QW,{registerWhenExtend:!0});var o5=QW.prototype,s4=QW.extend({type:"ordinal",init:function(a,b){this._data=a,this._extent=b||[0,a.length-1]},parse:function(a){return"string"==typeof a?YR(this._data,a):Math.round(a)},contain:function(a){return a=this.parse(a),o5.contain.call(this,a)&&null!=this._data[a]},normalize:function(a){return o5.normalize.call(this,this.parse(a))},scale:function(a){return Math.round(o5.scale.call(this,a))},getTicks:function(){for(var a=[],b=this._extent,c=b[0];c<=b[1];){a.push(c),c++}return a},getLabel:function(a){return this._data[a]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(a,b){this.unionExtent(a.getDataExtent(b,!1))},niceTicks:aaS,niceExtent:aaS});s4.create=function(){return new s4};var h7=iG,AV=iG,x3=QW.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(a,b){var c=this._extent;isNaN(a)||(c[0]=parseFloat(a)),isNaN(b)||(c[1]=parseFloat(b))},unionExtent:function(a){var b=this._extent;a[0]<b[0]&&(b[0]=a[0]),a[1]>b[1]&&(b[1]=a[1]),x3.prototype.setExtent.call(this,b[0],b[1])},getInterval:function(){return this._interval},setInterval:function(a){this._interval=a,this._niceExtent=this._extent.slice(),this._intervalPrecision=B7(a)},getTicks:function(){return i6(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getTicksLabels:function(){for(var a=[],b=this.getTicks(),c=0;c<b.length;c++){a.push(this.getLabel(b[c]))}return a},getLabel:function(a,b){if(null==a){return""}var c=b&&b.precision;return null==c?c=hG(a)||0:"auto"===c&&(c=this._intervalPrecision),a=AV(a,c,!0),jF(a)},niceTicks:function(d,f,h){d=d||5;var c=this._extent,g=c[1]-c[0];if(isFinite(g)){0>g&&(g=-g,c.reverse());var b=l4(c,d,f,h);this._intervalPrecision=b.intervalPrecision,this._interval=b.interval,this._niceExtent=b.niceTickExtent}},niceExtent:function(b){var c=this._extent;if(c[0]===c[1]){if(0!==c[0]){var f=c[0];b.fixMax?c[0]-=f/2:(c[1]+=f/2,c[0]-=f/2)}else{c[1]=1}}var a=c[1]-c[0];isFinite(a)||(c[0]=0,c[1]=1),this.niceTicks(b.splitNumber,b.minInterval,b.maxInterval);var d=this._interval;b.fixMin||(c[0]=AV(Math.floor(c[0]/d)*d)),b.fixMax||(c[1]=AV(Math.ceil(c[1]/d)*d))}});x3.create=function(){return new x3};var y3=x3.prototype,p5=Math.ceil,l5=Math.floor,RW=1000,m5=60*RW,CZ=60*m5,n5=24*CZ,w3=function(b,c,f,a){for(;a>f;){var d=f+a>>>1;b[d][1]<c?f=d+1:a=d}return f},j6=x3.extend({type:"time",getLabel:function(a){var b=this._stepLvl,c=new Date(a);return vB(b[0],c,this.getSetting("useUTC"))},niceExtent:function(b){var c=this._extent;if(c[0]===c[1]&&(c[0]-=n5,c[1]+=n5),c[1]===-1/0&&1/0===c[0]){var d=new Date;c[1]=+new Date(d.getFullYear(),d.getMonth(),d.getDate()),c[0]=c[1]-n5}this.niceTicks(b.splitNumber,b.minInterval,b.maxInterval);var a=this._interval;b.fixMin||(c[0]=iG(l5(c[0]/a)*a)),b.fixMax||(c[1]=iG(p5(c[1]/a)*a))},niceTicks:function(A,v,j){A=A||10;var m=this._extent,g=m[1]-m[0],y=g/A;null!=v&&v>y&&(y=v),null!=j&&y>j&&(y=j);var b=z2.length,B=w3(z2,y,0,b),k=z2[Math.min(B,b-1)],z=k[1];if("year"===k[0]){var p=g/z,x=Cz(p/A,!0);z*=x}var w=this.getSetting("useUTC")?0:60*new Date(+m[0]||+m[1]).getTimezoneOffset()*1000,q=[Math.round(p5((m[0]-w)/z)*z+w),Math.round(l5((m[1]-w)/z)*z+w)];v3(q,m),this._stepLvl=k,this._interval=z,this._niceExtent=q},parse:function(a){return +lE(a)}});ZR(["contain","normalize"],function(a){j6.prototype[a]=function(b){return y3[a].call(this,this.parse(b))}});var z2=[["hh:mm:ss",RW],["hh:mm:ss",5*RW],["hh:mm:ss",10*RW],["hh:mm:ss",15*RW],["hh:mm:ss",30*RW],["hh:mm\nMM-dd",m5],["hh:mm\nMM-dd",5*m5],["hh:mm\nMM-dd",10*m5],["hh:mm\nMM-dd",15*m5],["hh:mm\nMM-dd",30*m5],["hh:mm\nMM-dd",CZ],["hh:mm\nMM-dd",2*CZ],["hh:mm\nMM-dd",6*CZ],["hh:mm\nMM-dd",12*CZ],["MM-dd\nyyyy",n5],["MM-dd\nyyyy",2*n5],["MM-dd\nyyyy",3*n5],["MM-dd\nyyyy",4*n5],["MM-dd\nyyyy",5*n5],["MM-dd\nyyyy",6*n5],["week",7*n5],["MM-dd\nyyyy",10*n5],["week",14*n5],["week",21*n5],["month",31*n5],["week",42*n5],["month",62*n5],["week",42*n5],["quarter",380*n5/4],["month",31*n5*4],["month",31*n5*5],["half-year",380*n5/2],["month",31*n5*8],["month",31*n5*10],["year",380*n5]];j6.create=function(a){return new j6({useUTC:a.ecModel.get("useUTC")})};var f7=QW.prototype,u4=x3.prototype,e7=hG,t4=iG,v4=Math.floor,b7=Math.ceil,d7=Math.pow,c7=Math.log,g7=QW.extend({type:"log",base:10,$constructor:function(){QW.apply(this,arguments),this._originalScale=new x3},getTicks:function(){var a=this._originalScale,b=this._extent,c=a.getExtent();return ZN(u4.getTicks.call(this),function(d){var e=iG(d7(this.base,d));return e=d===b[0]&&a.__fixMin?y2(e,c[0]):e,e=d===b[1]&&a.__fixMax?y2(e,c[1]):e},this)},getLabel:u4.getLabel,scale:function(a){return a=f7.scale.call(this,a),d7(this.base,a)},setExtent:function(a,b){var c=this.base;a=c7(a)/c7(c),b=c7(b)/c7(c),u4.setExtent.call(this,a,b)},getExtent:function(){var b=this.base,c=f7.getExtent.call(this);c[0]=d7(b,c[0]),c[1]=d7(b,c[1]);var d=this._originalScale,a=d.getExtent();return d.__fixMin&&(c[0]=y2(c[0],a[0])),d.__fixMax&&(c[1]=y2(c[1],a[1])),c},unionExtent:function(a){this._originalScale.unionExtent(a);var b=this.base;a[0]=c7(a[0])/c7(b),a[1]=c7(a[1])/c7(b),f7.unionExtent.call(this,a)},unionExtentFromData:function(a,b){this.unionExtent(a.getDataExtent(b,!0,function(c){return c>0}))},niceTicks:function(d){d=d||10;var f=this._extent,h=f[1]-f[0];if(!(1/0===h||0>=h)){var c=Q7(h),g=d/h*c;for(0.5>=g&&(c*=10);!isNaN(c)&&Math.abs(c)<1&&Math.abs(c)>0;){c*=10}var b=[iG(b7(f[0]/c)*c),iG(v4(f[1]/c)*c)];this._interval=c,this._niceExtent=b}},niceExtent:function(a){u4.niceExtent.call(this,a);var b=this._originalScale;b.__fixMin=a.fixMin,b.__fixMax=a.fixMax}});ZR(["contain","normalize"],function(a){g7.prototype[a]=function(b){return b=c7(b)/c7(this.base),f7[a].call(this,b)}}),g7.create=function(){return new g7};var LX=function(a){this._axes={},this._dimList=[],this.name=a||""};LX.prototype={constructor:LX,type:"cartesian",getAxis:function(a){return this._axes[a]},getAxes:function(){return ZN(this._dimList,b6,this)},getAxesByScale:function(a){return a=a.toLowerCase(),Y9(this.getAxes(),function(b){return b.scale.type===a})},addAxis:function(a){var b=a.dim;this._axes[b]=a,this._dimList.push(b)},dataToCoord:function(a){return this._dataCoordConvert(a,"dataToCoord")},coordToData:function(a){return this._dataCoordConvert(a,"coordToData")},_dataCoordConvert:function(d,g){for(var j=this._dimList,c=d instanceof Array?[]:{},h=0;h<j.length;h++){var b=j[h],f=this._axes[b];c[b]=f[g](d[b])}return c}},f6.prototype={constructor:f6,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(a){var b=this.getAxis("x"),c=this.getAxis("y");return b.contain(b.toLocalCoord(a[0]))&&c.contain(c.toLocalCoord(a[1]))},containData:function(a){return this.getAxis("x").containData(a[0])&&this.getAxis("y").containData(a[1])},dataToPoint:function(b,c){var d=this.getAxis("x"),a=this.getAxis("y");return[d.toGlobalCoord(d.dataToCoord(b[0],c)),a.toGlobalCoord(a.dataToCoord(b[1],c))]},pointToData:function(b,c){var d=this.getAxis("x"),a=this.getAxis("y");return[d.coordToData(d.toLocalCoord(b[0]),c),a.coordToData(a.toLocalCoord(b[1]),c)]},getOtherAxis:function(a){return this.getAxis("x"===a.dim?"y":"x")}},ZK(f6,LX);var SV=aaM,BU=[0,1],q4=function(a,b,c){this.dim=a,this.scale=b,this._extent=c||[0,0],this.inverse=!1,this.onBand=!1,this._labelInterval};q4.prototype={constructor:q4,contain:function(b){var c=this._extent,d=Math.min(c[0],c[1]),a=Math.max(c[0],c[1]);return b>=d&&a>=b},containData:function(a){return this.contain(this.dataToCoord(a))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(a){return Aq(a||this.scale.getExtent(),this._extent)},setExtent:function(a,b){var c=this._extent;c[0]=a,c[1]=b},dataToCoord:function(b,c){var d=this._extent,a=this.scale;return b=a.normalize(b),this.onBand&&"ordinal"===a.type&&(d=d.slice(),KX(d,a.count())),SV(b,BU,d,c)},coordToData:function(b,c){var f=this._extent,a=this.scale;this.onBand&&"ordinal"===a.type&&(f=f.slice(),KX(f,a.count()));var d=SV(b,f,BU,c);return this.scale.scale(d)},pointToData:function(){},getTicksCoords:function(b){if(this.onBand&&!b){for(var c=this.getBands(),d=[],a=0;a<c.length;a++){d.push(c[a][0])}return c[a-1]&&d.push(c[a-1][1]),d}return ZN(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){return ZN(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var d=this.getExtent(),g=[],j=this.scale.count(),c=d[0],h=d[1],b=h-c,f=0;j>f;f++){g.push([b*f/j+c,b*(f+1)/j+c])}return g},getBandWidth:function(){var b=this._extent,c=this.scale.getExtent(),d=c[1]-c[0]+(this.onBand?1:0);0===d&&(d=1);var a=Math.abs(b[1]-b[0]);return Math.abs(a)/d},isHorizontal:null,getRotate:null,getLabelInterval:function(){var a=this._labelInterval;if(!a){var b=this.model,c=b.getModel("axisLabel");a=c.get("interval"),"category"!==this.type||null!=a&&"auto"!==a||(a=u3(ZN(this.scale.getTicks(),this.dataToCoord,this),b.getFormattedLabels(),c.getFont(),this.getRotate?this.getRotate():this.isHorizontal&&!this.isHorizontal()?90:0,c.get("rotate"))),this._labelInterval=a}return a}};var r4=function(b,c,f,a,d){q4.call(this,b,c,f),this.type=a||"value",this.position=d||"bottom"};r4.prototype={constructor:r4,index:0,onZero:!1,model:null,isHorizontal:function(){var a=this.position;return"top"===a||"bottom"===a},getGlobalExtent:function(a){var b=this.getExtent();return b[0]=this.toGlobalCoord(b[0]),b[1]=this.toGlobalCoord(b[1]),a&&b[0]>b[1]&&b.reverse(),b},getOtherAxis:function(){this.grid.getOtherAxis()},isLabelIgnored:function(a){if("category"===this.type){var b=this.getLabelInterval();return"function"==typeof b&&!b(a,this.scale.getLabel(a))||a%(b+1)}},pointToData:function(a,b){return this.coordToData(this.toLocalCoord(a["x"===this.dim?0:1]),b)},toLocalCoord:null,toGlobalCoord:null},ZK(r4,q4);var k5={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},I5={};I5.categoryAxis=Y5({boundaryGap:!0,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},k5),I5.valueAxis=Y5({boundaryGap:[0,0],splitNumber:5},k5),I5.timeAxis=YW({scale:!0,min:"dataMin",max:"dataMax"},I5.valueAxis),I5.logAxis=YW({scale:!0,logBase:10},I5.valueAxis);var XZ=["value","category","time","log"],O4=function(b,c,d,a){ZR(XZ,function(e){c.extend({type:b+"Axis."+e,mergeDefaultAndTheme:function(k,h){var g=this.layoutMode,j=g?abf(k):{},f=h.getTheme();Y5(k,f.get(e+"Axis")),Y5(k,this.getDefaultOption()),k.type=d(b,k),g&&MY(k,j,g)},defaultOption:Z4([{},I5[e+"Axis"],a],!0)})}),aa9.registerSubTypeDefaulter(b+"Axis",YG(d,b))},T0={getFormattedLabels:function(){return bB(this.axis,this.get("axisLabel.formatter"))},getCategories:function(){return"category"===this.get("type")&&ZN(this.get("data"),RV)},getMin:function(a){var b=this.option,c=a||null==b.rangeStart?b.min:b.rangeStart;return this.axis&&null!=c&&"dataMin"!==c&&"function"!=typeof c&&!aaK(c)&&(c=this.axis.scale.parse(c)),c},getMax:function(a){var b=this.option,c=a||null==b.rangeEnd?b.max:b.rangeEnd;return this.axis&&null!=c&&"dataMax"!==c&&"function"!=typeof c&&!aaK(c)&&(c=this.axis.scale.parse(c)),c},getNeedCrossZero:function(){var a=this.option;return null!=a.rangeStart||null!=a.rangeEnd?!1:!a.scale},getCoordSysModel:aaS,setRange:function(a,b){this.option.rangeStart=a,this.option.rangeEnd=b},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},N4=aa9.extend({type:"cartesian2dAxis",axis:null,init:function(){N4.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){N4.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){N4.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});Y5(N4.prototype,T0);var abH={offset:0};O4("x",N4,A8,abH),O4("y",N4,A8,abH),aa9.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var K5=ZR,J5=s3,Q4=t3,H5=H6.prototype;H5.type="grid",H5.axisPointerEnabled=!0,H5.getRect=function(){return this._rect},H5.update=function(a,b){var c=this._axesMap;this._updateScale(a,this.model),K5(c.x,function(d){Q4(d.scale,d.model)}),K5(c.y,function(d){Q4(d.scale,d.model)}),K5(c.x,function(d){W1(c,"y",d)}),K5(c.y,function(d){W1(c,"x",d)}),this.resize(this.model,b)},H5.resize=function(d,f,h){function c(){K5(b,function(j){var k=j.isHorizontal(),l=k?[0,g.width]:[0,g.height],a=j.inverse?1:0;j.setExtent(l[a],l[1-a]),S2(j,k?g.x:g.y)})}var g=WU(d.getBoxLayoutParams(),{width:f.getWidth(),height:f.getHeight()});this._rect=g;var b=this._axesList;c(),!h&&d.get("containLabel")&&(K5(b,function(j){if(!j.model.get("axisLabel.inside")){var k=j5(j);if(k){var l=j.isHorizontal()?"height":"width",a=j.model.get("axisLabel.margin");g[l]-=k[l]+a,"top"===j.position?g.y+=k.height+a:"left"===j.position&&(g.x+=k.width+a)}}}),c())},H5.getAxis=function(b,c){var d=this._axesMap[b];if(null!=d){if(null==c){for(var a in d){if(d.hasOwnProperty(a)){return d[a]}}}return d[c]}},H5.getAxes=function(){return this._axesList.slice()},H5.getCartesian=function(b,c){if(null!=b&&null!=c){var f="x"+b+"y"+c;return this._coordsMap[f]}YJ(b)&&(c=b.yAxisIndex,b=b.xAxisIndex);for(var a=0,d=this._coordsList;a<d.length;a++){if(d[a].getAxis("x").index===b||d[a].getAxis("y").index===c){return d[a]}}},H5.getCartesians=function(){return this._coordsList.slice()},H5.convertToPixel=function(b,c,d){var a=this._findConvertTarget(b,c);return a.cartesian?a.cartesian.dataToPoint(d):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(d)):null},H5.convertFromPixel=function(b,c,d){var a=this._findConvertTarget(b,c);return a.cartesian?a.cartesian.pointToData(d):a.axis?a.axis.coordToData(a.axis.toLocalCoord(d)):null},H5._findConvertTarget=function(p,k){var d,g,c=k.seriesModel,m=k.xAxisModel||c&&c.getReferringComponents("xAxis")[0],b=k.yAxisModel||c&&c.getReferringComponents("yAxis")[0],q=k.gridModel,f=this._coordsList;if(c){d=c.coordinateSystem,YR(f,d)<0&&(d=null)}else{if(m&&b){d=this.getCartesian(m.componentIndex,b.componentIndex)}else{if(m){g=this.getAxis("x",m.componentIndex)}else{if(b){g=this.getAxis("y",b.componentIndex)}else{if(q){var j=q.coordinateSystem;j===this&&(d=this._coordsList[0])}}}}}return{cartesian:d,axis:g}},H5.containPoint=function(a){var b=this._coordsList[0];return b?b.containPoint(a):void 0},H5._initCartesian=function(d,f){function h(a){return function(m,k){if(p4(m,d,f)){var e=m.get("position");"x"===a?"top"!==e&&"bottom"!==e&&(e="bottom",c[e]&&(e="top"===e?"bottom":"top")):"left"!==e&&"right"!==e&&(e="left",c[e]&&(e="left"===e?"right":"left")),c[e]=!0;var i=new r4(a,d6(m),[0,0],m.get("type"),e),j="category"===i.type;i.onBand=j&&m.get("boundaryGap"),i.inverse=m.get("inverse"),i.onZero=m.get("axisLine.onZero"),i.onZeroAxisIndex=m.get("axisLine.onZeroAxisIndex"),m.axis=i,i.model=m,i.grid=this,i.index=k,this._axesList.push(i),g[a][k]=i,b[a]++}}}var c={left:!1,right:!1,top:!1,bottom:!1},g={x:{},y:{}},b={x:0,y:0};return f.eachComponent("xAxis",h("x"),this),f.eachComponent("yAxis",h("y"),this),b.x&&b.y?(this._axesMap=g,void K5(g.x,function(a,i){K5(g.y,function(j,l){var e="x"+i+"y"+l,k=new f6(e);k.grid=this,k.model=d,this._coordsMap[e]=k,this._coordsList.push(k),k.addAxis(a),k.addAxis(j)},this)},this)):(this._axesMap={},void (this._axesList=[]))},H5._updateScale=function(a,b){function c(d,f,g){K5(g.coordDimToDataDim(f.dim),function(e){f.scale.unionExtentFromData(d,e)})}ZR(this._axesList,function(d){d.scale.setExtent(1/0,-1/0)}),a.eachSeries(function(g){if(abm(g)){var n=M5(g,a),e=n[0],m=n[1];if(!p4(e,b,a)||!p4(m,b,a)){return}var k=this.getCartesian(e.componentIndex,m.componentIndex),d=g.getData(),f=k.getAxis("x"),j=k.getAxis("y");"list"===d.type&&(c(d,f,g),c(d,j,g))}},this)},H5.getTooltipAxes=function(a){var b=[],c=[];return K5(this.getCartesians(),function(e){var f=null!=a&&"auto"!==a?e.getAxis(a):e.getBaseAxis(),d=e.getOtherAxis(f);YR(b,f)<0&&b.push(f),YR(c,d)<0&&c.push(d)}),{baseAxes:b,otherAxes:c}};var U0=["xAxis","yAxis"];H6.create=function(a,b){var c=[];return a.eachComponent("grid",function(e,f){var d=new H6(e,a,b);d.name="grid_"+f,d.resize(e,b,!0),e.coordinateSystem=d,c.push(d)}),a.eachSeries(function(h){if(abm(h)){var k=M5(h,a),f=k[0],j=k[1],d=f.getCoordSysModel(),g=d.coordinateSystem;h.coordinateSystem=g.getCartesian(f.componentIndex,j.componentIndex)}}),c},H6.dimensions=H6.prototype.dimensions=f6.prototype.dimensions,LY.register("cartesian2d",H6),I6.prototype={constructor:I6,add:function(a){return this._add=a,this},update:function(a){return this._update=a,this},remove:function(a){return this._remove=a,this},execute:function(){var q,k=this._old,d=this._new,g={},c={},m=[],b=[];for(P5(k,g,m,"_oldKeyGetter",this),P5(d,c,b,"_newKeyGetter",this),q=0;q<k.length;q++){var v=m[q],f=c[v];if(null!=f){var p=f.length;p?(1===p&&(c[v]=null),f=f.unshift()):c[v]=null,this._update&&this._update(f,q)}else{this._remove&&this._remove(q)}}for(var q=0;q<b.length;q++){var v=b[q];if(c.hasOwnProperty(v)){var f=c[v];if(null==f){continue}if(f.length){for(var j=0,p=f.length;p>j;j++){this._add&&this._add(f[j])}}else{this._add&&this._add(f)}}}}};var aaF=YJ,ZB="undefined",W0=typeof window===ZB?global:window,V0={"float":typeof W0.Float64Array===ZB?Array:W0.Float64Array,"int":typeof W0.Int32Array===ZB?Array:W0.Int32Array,ordinal:Array,number:Array,time:Array},M4=["stackedOn","hasItemOption","_nameList","_idList","_rawData"];T1.prototype.pure=!1,T1.prototype.count=function(){return this._array.length},T1.prototype.getItem=function(a){return this._array[a]};var P4=function(d,g){d=d||["x","y"];for(var j={},c=[],h=0;h<d.length;h++){var b,f={};"string"==typeof d[h]?(b=d[h],f={name:b,coordDim:b,coordDimIndex:0,stackable:!1,type:"number"}):(f=d[h],b=f.name,f.type=f.type||"number",f.coordDim||(f.coordDim=b,f.coordDimIndex=0)),f.otherDims=f.otherDims||{},c.push(b),j[b]=f}this.dimensions=c,this._dimensionInfos=j,this.hostModel=g,this.dataType,this.indices=[],this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this.stackedOn=null,this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._rawData,this._extent},G5=P4.prototype;G5.type="list",G5.hasItemOption=!0,G5.getDimension=function(a){return isNaN(a)||(a=this.dimensions[a]||a),a},G5.getDimensionInfo=function(a){return ZJ(this._dimensionInfos[this.getDimension(a)])},G5.initData=function(z,L,E){z=z||[];var H=YH(z);H&&(z=new T1(z)),this._rawData=z;var D,P=this._storage={},B=this.indices=[],A=this.dimensions,G=this._dimensionInfos,x=z.count(),I=[],N={};L=L||[];for(var M=0;M<A.length;M++){var K=G[A[M]];0===K.otherDims.itemName&&(D=M);var J=V0[K.type];P[A[M]]=new J(x)}var C=this;E||(C.hasItemOption=!1),E=E||function(b,c,f,a){var d=jW(b);return zQ(b)&&(C.hasItemOption=!0),fX(d instanceof Array?d[a]:d,G[c])};for(var M=0;x>M;M++){for(var F=z.getItem(M),q=0;q<A.length;q++){var j=A[q],Q=P[j];Q[M]=E(F,j,M,q)}B.push(M)}for(var M=0;x>M;M++){var F=z.getItem(M);!L[M]&&F&&(null!=F.name?L[M]=F.name:null!=D&&(L[M]=P[A[D]][M]));var O=L[M]||"",k=F&&F.id;!k&&O&&(N[O]=N[O]||0,k=O,N[O]>0&&(k+="__ec__"+N[O]),N[O]++),k&&(I[M]=k)}this._nameList=L,this._idList=I},G5.count=function(){return this.indices.length},G5.get=function(k,h,d){var g=this._storage,c=this.indices[h];if(null==c||!g[k]){return 0/0}var j=g[k][c];if(d){var b=this._dimensionInfos[k];if(b&&b.stackable){for(var m=this.stackedOn;m;){var f=m.get(k,h);(j>=0&&f>0||0>=j&&0>f)&&(j+=f),m=m.stackedOn}}}return j},G5.getValues=function(d,f,h){var c=[];YH(d)||(h=f,f=d,d=this.dimensions);for(var g=0,b=d.length;b>g;g++){c.push(this.get(d[g],f,h))}return c},G5.hasValue=function(b){for(var c=this.dimensions,f=this._dimensionInfos,a=0,d=c.length;d>a;a++){if("ordinal"!==f[c[a]].type&&isNaN(this.get(c[a],b))){return !1}}return !0},G5.getDataExtent=function(q,k,d){q=this.getDimension(q);var g=this._storage[q],c=this.getDimensionInfo(q);k=c&&c.stackable&&k;var m,b=(this._extent||(this._extent={}))[q+!!k];if(b){return b}if(g){for(var v=1/0,f=-1/0,p=0,j=this.count();j>p;p++){m=this.get(q,p,k),(!d||d(m,q,p))&&(v>m&&(v=m),m>f&&(f=m))}return this._extent[q+!!k]=[v,f]}return[1/0,-1/0]},G5.getSum=function(d,g){var j=this._storage[d],c=0;if(j){for(var h=0,b=this.count();b>h;h++){var f=this.get(d,h,g);isNaN(f)||(c+=f)}}return c},G5.indexOf=function(d,h){var k=this._storage,c=k[d],j=this.indices;if(c){for(var b=0,g=j.length;g>b;b++){var f=j[b];if(c[f]===h){return b}}}return -1},G5.indexOfName=function(d){for(var f=this.indices,h=this._nameList,c=0,g=f.length;g>c;c++){var b=f[c];if(h[b]===d){return c}}return -1},G5.indexOfRawIndex=function(d){var f=this.indices,h=f[d];if(null!=h&&h===d){return d}for(var c=0,g=f.length-1;g>=c;){var b=(c+g)/2|0;if(f[b]<d){c=b+1}else{if(!(f[b]>d)){return b}g=b-1}}return -1},G5.indicesOfNearest=function(y,p,g,k){var f=this._storage,w=f[y],b=[];if(!w){return b}null==k&&(k=1/0);for(var z=Number.MAX_VALUE,j=-1,x=0,m=this.count();m>x;x++){var v=p-this.get(y,x,g),q=Math.abs(v);k>=v&&z>=q&&((z>q||v>=0&&0>j)&&(z=q,j=v,b.length=0),b.push(x))}return b},G5.getRawIndex=function(a){var b=this.indices[a];return null==b?-1:b},G5.getRawDataItem=function(a){return this._rawData.getItem(this.getRawIndex(a))},G5.getName=function(a){return this._nameList[this.indices[a]]||""},G5.getId=function(a){return this._idList[this.indices[a]]||this.getRawIndex(a)+""},G5.each=function(k,h,d,g){"function"==typeof k&&(g=d,d=h,h=k,k=[]),k=ZN(ZF(k),this.getDimension,this);var c=[],j=k.length,b=this.indices;g=g||this;for(var m=0;m<b.length;m++){switch(j){case 0:h.call(g,m);break;case 1:h.call(g,this.get(k[0],m,d),m);break;case 2:h.call(g,this.get(k[0],m,d),this.get(k[1],m,d),m);break;default:for(var f=0;j>f;f++){c[f]=this.get(k[f],m,d)}c[f]=m,h.apply(g,c)}}},G5.filterSelf=function(q,k,d,g){"function"==typeof q&&(g=d,d=k,k=q,q=[]),q=ZN(ZF(q),this.getDimension,this);var c=[],m=[],b=q.length,v=this.indices;g=g||this;for(var f=0;f<v.length;f++){var p;if(b){if(1===b){p=k.call(g,this.get(q[0],f,d),f)}else{for(var j=0;b>j;j++){m[j]=this.get(q[j],f,d)}m[j]=f,p=k.apply(g,m)}}else{p=k.call(g,f)}p&&c.push(v[f])}return this.indices=c,this._extent={},this},G5.mapArray=function(b,c,f,a){"function"==typeof b&&(a=f,f=c,c=b,b=[]);var d=[];return this.each(b,function(){d.push(c&&c.apply(this,arguments))},f,a),d},G5.map=function(d,h,k,c){d=ZN(ZF(d),this.getDimension,this);var j=X0(this,d),b=j.indices=this.indices,g=j._storage,f=[];return this.each(d,function(){var r=arguments[arguments.length-1],m=h&&h.apply(this,arguments);if(null!=m){"number"==typeof m&&(f[0]=m,m=f);for(var q=0;q<m.length;q++){var a=d[q],e=g[a],p=b[r];e&&(e[p]=m[q])}}},k,c),j},G5.downSample=function(k,G,z,C){for(var y=X0(this,[k]),J=this._storage,w=y._storage,q=this.indices,B=y.indices=[],j=[],D=[],I=Math.floor(1/G),H=w[k],F=this.count(),E=0;E<J[k].length;E++){w[k][E]=J[k][E]}for(var E=0;F>E;E+=I){I>F-E&&(I=F-E,j.length=I);for(var x=0;I>x;x++){var A=q[E+x];j[x]=H[A],D[x]=A}var b=z(j),A=D[C(j,b)||0];H[A]=b,B.push(A)}return y},G5.getItemModel=function(a){var b=this.hostModel;return a=this.indices[a],new RG(this._rawData.getItem(a),b,b&&b.ecModel)},G5.diff=function(b){var c,f=this._idList,a=b&&b._idList,d="e\x00\x00";return new I6(b?b.indices:[],this.indices,function(e){return null!=(c=a[e])?c:d+e},function(e){return null!=(c=f[e])?c:d+e})},G5.getVisual=function(a){var b=this._visual;return b&&b[a]},G5.setVisual=function(a,b){if(aaF(a)){for(var c in a){a.hasOwnProperty(c)&&this.setVisual(c,a[c])}}else{this._visual=this._visual||{},this._visual[a]=b}},G5.setLayout=function(a,b){if(aaF(a)){for(var c in a){a.hasOwnProperty(c)&&this.setLayout(c,a[c])}}else{this._layout[a]=b}},G5.getLayout=function(a){return this._layout[a]},G5.getItemLayout=function(a){return this._itemLayouts[a]},G5.setItemLayout=function(a,b,c){this._itemLayouts[a]=c?YY(this._itemLayouts[a]||{},b):b},G5.clearItemLayouts=function(){this._itemLayouts.length=0},G5.getItemVisual=function(b,c,f){var a=this._itemVisuals[b],d=a&&a[c];return null!=d||f?d:this.getVisual(c)},G5.setItemVisual=function(b,c,f){var a=this._itemVisuals[b]||{};if(this._itemVisuals[b]=a,aaF(c)){for(var d in c){c.hasOwnProperty(d)&&(a[d]=c[d])}}else{a[c]=f}},G5.clearAllVisual=function(){this._visual={},this._itemVisuals=[]};var D6=function(a){a.seriesIndex=this.seriesIndex,a.dataIndex=this.dataIndex,a.dataType=this.dataType};G5.setItemGraphicEl=function(a,b){var c=this.hostModel;b&&(b.dataIndex=a,b.dataType=this.dataType,b.seriesIndex=c&&c.seriesIndex,"group"===b.type&&b.traverse(D6,b)),this._graphicEls[a]=b},G5.getItemGraphicEl=function(a){return this._graphicEls[a]},G5.eachItemGraphicEl=function(a,b){ZR(this._graphicEls,function(d,c){d&&a&&a.call(b,d,c)})},G5.cloneShallow=function(){var a=ZN(this.dimensions,this.getDimensionInfo,this),b=new P4(a,this.hostModel);return b._storage=this._storage,G6(b,this),b.indices=this.indices.slice(),this._extent&&(b._extent=YY({},this._extent)),b},G5.wrapMethod=function(a,b){var c=this[a];"function"==typeof c&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(a),this[a]=function(){var d=c.apply(this,arguments);return b.apply(this,[d].concat(aaW(arguments)))})},G5.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],G5.CHANGABLE_METHODS=["filterSelf"];var E6=ZR,a4=Z1,abl=YW,F5={tooltip:1,label:1,itemName:1},jz=V1.guessOrdinal=function(b,c){for(var f=0,a=b.length;a>f;f++){var d=U1(b[f]);if(!YH(d)){return !1}var d=d[c];if(null!=d&&isFinite(d)&&""!==d){return !1}if(a4(d)&&"-"!==d){return !0}}return !1},pt={cartesian2d:function(y,p,g,k){var f=ZN(["xAxis","yAxis"],function(a){return g.queryComponents({mainType:a,index:p.get(a+"Index"),id:p.get(a+"Id")})[0]}),w=f[0],b=f[1],z=w.get("type"),j=b.get("type"),x=[{name:"x",type:D7(z),stackable:C7(z)},{name:"y",type:D7(j),stackable:C7(j)}],m="category"===z,v="category"===j;x=V1(x,y,k);var q={};return m&&(q.x=w),v&&(q.y=b),{dimensions:x,categoryIndex:m?0:v?1:-1,categoryAxesModels:q}},singleAxis:function(k,h,d,g){var c=d.queryComponents({mainType:"singleAxis",index:h.get("singleAxisIndex"),id:h.get("singleAxisId")})[0],j=c.get("type"),b="category"===j,m=[{name:"single",type:D7(j),stackable:C7(j)}];m=V1(m,k,g);var f={};return b&&(f.single=c),{dimensions:m,categoryIndex:b?0:-1,categoryAxesModels:f}},polar:function(y,p,g,k){var f=g.queryComponents({mainType:"polar",index:p.get("polarIndex"),id:p.get("polarId")})[0],w=f.findAxisModel("angleAxis"),b=f.findAxisModel("radiusAxis"),z=b.get("type"),j=w.get("type"),x=[{name:"radius",type:D7(z),stackable:C7(z)},{name:"angle",type:D7(j),stackable:C7(j)}],m="category"===j,v="category"===z;x=V1(x,y,k);var q={};return v&&(q.radius=b),m&&(q.angle=w),{dimensions:x,categoryIndex:m?1:v?0:-1,categoryAxesModels:q}},geo:function(b,c,d,a){return{dimensions:V1([{name:"lng"},{name:"lat"}],b,a)}}},tq=QQ.extend({type:"series.__base_bar__",getInitialData:function(a,b){return F6(a.data,this,b)},getMarkerPosition:function(d){var g=this.coordinateSystem;if(g){var j=g.dataToPoint(d,!0),c=this.getData(),h=c.getLayout("offset"),b=c.getLayout("size"),f=g.getBaseAxis().isHorizontal()?0:1;return j[f]+=h+b/2,j}return[0/0,0/0]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,itemStyle:{}}});tq.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect"});var iB=UF([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),AX={getBarItemStyle:function(a){var b=iB(this,a);if(this.getBorderLineDash){var c=this.getBorderLineDash();c&&(b.lineDash=c)}return b}},yj=["itemStyle","normal","barBorderWidth"];YY(RG.prototype,AX),EY({type:"bar",render:function(b,c,d){var a=b.get("coordinateSystem");return("cartesian2d"===a||"polar"===a)&&this._render(b,c,d),this.group},dispose:aaS,_render:function(d){var h,k=this.group,c=d.getData(),j=this._data,b=d.coordinateSystem,g=b.getBaseAxis();"cartesian2d"===b.type?h=g.isHorizontal():"polar"===b.type&&(h="angle"===g.dim);var f=d.isAnimationEnabled()?d:null;c.diff(j).add(function(m){if(c.hasValue(m)){var i=c.getItemModel(m),a=qq[b.type](c,m,i),e=zj[b.type](c,m,i,a,h,f);c.setItemGraphicEl(m,e),k.add(e),st(e,c,m,i,a,d,h,"polar"===b.type)}}).update(function(m,a){var e=j.getItemGraphicEl(a);if(!c.hasValue(m)){return void k.remove(e)}var i=c.getItemModel(m),n=qq[b.type](c,m,i);e?iX(e,{shape:n},f,m):e=zj[b.type](c,m,i,n,h,f,!0),c.setItemGraphicEl(m,e),k.add(e),st(e,c,m,i,n,d,h,"polar"===b.type)}).remove(function(a){var i=j.getItemGraphicEl(a);"cartesian2d"===b.type?i&&iE(a,f,i):i&&oz(a,f,i)}).execute(),this._data=c},remove:function(a){var b=this.group,c=this._data;a.get("animation")?c&&c.eachItemGraphicEl(function(d){"sector"===d.type?oz(d.dataIndex,a,d):iE(d.dataIndex,a,d)}):b.removeAll()}});var zj={cartesian2d:function(r,k,d,g,b,p,v){var f=new hW({shape:YY({},g)});if(p){var q=f.shape,j=b?"height":"width",m={};q[j]=0,m[j]=g[j],uR[v?"updateProps":"initProps"](f,{shape:m},p,k)}return f},polar:function(r,k,d,g,b,p,v){var f=new aY({shape:YY({},g)});if(p){var q=f.shape,j=b?"r":"endAngle",m={};q[j]=b?0:g.startAngle,m[j]=g[j],uR[v?"updateProps":"initProps"](f,{shape:m},p,k)}return f}},qq={cartesian2d:function(d,g,j){var c=d.getItemLayout(g),h=hE(j,c),b=c.width>0?1:-1,f=c.height>0?1:-1;return{x:c.x+b*h/2,y:c.y+f*h/2,width:c.width-b*h,height:c.height-f*h}},polar:function(a,b){var c=a.getItemLayout(b);return{cx:c.cx,cy:c.cy,r0:c.r0,r:c.r,startAngle:c.startAngle,endAngle:c.endAngle}}},mt=bG({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(d,f){var h=f.cx,c=f.cy,g=f.width/2,b=f.height/2;d.moveTo(h,c-b),d.lineTo(h+g,c+b),d.lineTo(h-g,c+b),d.closePath()}}),R3=bG({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(d,f){var h=f.cx,c=f.cy,g=f.width/2,b=f.height/2;d.moveTo(h,c-b),d.lineTo(h+g,c),d.lineTo(h,c+b),d.lineTo(h-g,c),d.closePath()}}),nt=bG({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(C,x){var k=x.x,p=x.y,j=x.width/5*3,A=Math.max(j,x.height),b=j/2,D=b*b/(A-b),m=p-A+b+D,B=Math.asin(D/b),q=Math.cos(B)*b,z=Math.sin(B),y=Math.cos(B),w=0.6*b,v=0.7*b;C.moveTo(k-q,m+D),C.arc(k,m,b,Math.PI-B,2*Math.PI+B),C.bezierCurveTo(k+q-z*w,m+D+y*w,k,p-v,k,p),C.bezierCurveTo(k,p-v,k-q+z*w,m+D+y*w,k-q,m+D),C.closePath()}}),C6=bG({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(d,g){var j=g.height,c=g.width,h=g.x,b=g.y,f=c/3*2;d.moveTo(h,b),d.lineTo(h+f,b+j),d.lineTo(h,b+j/4*3),d.lineTo(h-f,b+j),d.lineTo(h,b),d.closePath()}}),ot={line:AN,rect:hW,roundRect:hW,square:hW,circle:GH,diamond:R3,pin:nt,arrow:C6,triangle:mt},xj={line:function(b,c,f,a,d){d.x1=b,d.y1=c+a/2,d.x2=b+f,d.y2=c+a/2},rect:function(b,c,f,a,d){d.x=b,d.y=c,d.width=f,d.height=a},roundRect:function(b,c,f,a,d){d.x=b,d.y=c,d.width=f,d.height=a,d.r=Math.min(f,a)/4},square:function(d,f,h,c,g){var b=Math.min(h,c);g.x=d,g.y=f,g.width=b,g.height=b},circle:function(b,c,f,a,d){d.cx=b+f/2,d.cy=c+a/2,d.r=Math.min(f,a)/2},diamond:function(b,c,f,a,d){d.cx=b+f/2,d.cy=c+a/2,d.width=f,d.height=a},pin:function(b,c,f,a,d){d.x=b+f/2,d.y=c+a/2,d.width=f,d.height=a},arrow:function(b,c,f,a,d){d.x=b+f/2,d.y=c+a/2,d.width=f,d.height=a},triangle:function(b,c,f,a,d){d.cx=b+f/2,d.cy=c+a/2,d.width=f,d.height=a}},kt={};ZR(ot,function(a,b){kt[b]=new a});var z9=bG({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var a=this.style,b=this.shape;"pin"===b.symbolType&&"inside"===a.textPosition&&(a.textPosition=["50%","40%"],a.textAlign="center",a.textVerticalAlign="middle")},buildPath:function(b,c,f){var a=c.symbolType,d=kt[a];"none"!==c.symbolType&&(d||(a="rect",d=kt[a]),xj[a](c.x,c.y,c.width,c.height,d.shape),d.buildPath(b,d.shape,f))}}),gB=Math.PI,vq=function(a,b){this.opt=b,this.axisModel=a,YW(b,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new TH;var c=new TH({position:b.position.slice(),rotation:b.rotation});c.updateTransform(),this._transform=c.transform,this._dumbGroup=c};vq.prototype={constructor:vq,hasBuilder:function(a){return !!fB[a]},add:function(a){fB[a].call(this)},getGroup:function(){return this.group}};var fB={axisLine:function(){var r=this.opt,k=this.axisModel;if(k.get("axisLine.show")){var d=this.axisModel.axis.getExtent(),g=this._transform,b=[d[0],0],p=[d[1],0];g&&(aaG(b,b,g),aaG(p,p,g));var v=YY({lineCap:"round"},k.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new AN(Bk({anid:"line",shape:{x1:b[0],y1:b[1],x2:p[0],y2:p[1]},style:v,strokeContainThreshold:r.strokeContainThreshold||5,silent:!0,z2:1})));var f=k.get("axisLine.symbol"),q=k.get("axisLine.symbolSize");if(null!=f){"string"==typeof f&&(f=[f,f]),("string"==typeof q||"number"==typeof q)&&(q=[q,q]);var j=q[0],m=q[1];ZR([[r.rotation+Math.PI/2,b],[r.rotation-Math.PI/2,p]],function(a,c){if("none"!==f[c]&&null!=f[c]){var h=xq(f[c],-j/2,-m/2,j,m,v.stroke,!0);h.attr({rotation:a[0],position:a[1],silent:!0}),this.group.add(h)}},this)}}},axisTickLabel:function(){var b=this.axisModel,c=this.opt,d=wq(this,b,c),a=jB(this,b,c);Q5(b,a,d)},axisName:function(){var A=this.opt,L=this.axisModel,E=aam(A.axisName,L.get("name"));if(E){var H,D=L.get("nameLocation"),P=A.nameDirection,B=L.getModel("nameTextStyle"),G=L.get("nameGap")||0,z=this.axisModel.axis.getExtent(),I=z[0]>z[1]?-1:1,N=["start"===D?z[0]-I*G:"end"===D?z[1]+I*G:(z[0]+z[1])/2,nz(D)?A.labelOffset+P*G:0],M=L.get("nameRotate");null!=M&&(M=M*gB/180);var K;nz(D)?H=uq(A.rotation,null!=M?M:A.rotation,P):(H=pz(A,D,M||0,z),K=A.axisNameAvailableWidth,null!=K&&(K=Math.abs(K/Math.sin(H.rotation)),!isFinite(K)&&(K=null)));var J=B.getFont(),C=L.get("nameTruncate",!0)||{},F=C.ellipsis,r=aam(A.nameTruncateMaxWidth,C.maxWidth,K),j=null!=F&&null!=r?KN(E,r,J,F,{minChar:2,placeholder:C.placeholder}):E,k=L.get("tooltip",!0),Q=L.mainType,O={componentType:Q,name:E,$vars:["name"]};O[Q+"Index"]=L.componentIndex;var q=new PG({anid:"name",__fullText:E,__truncatedText:j,position:N,rotation:H.rotation,silent:lz(L),z2:1,tooltip:k&&k.show?YY({content:E,formatter:function(){return E},formatterParams:O},k):null});WB(q.style,B,{text:j,textFont:J,textFill:B.getTextColor()||L.get("axisLine.lineStyle.color"),textAlign:H.textAlign,textVerticalAlign:H.textVerticalAlign}),L.get("triggerEvent")&&(q.eventData=yq(L),q.eventData.targetType="axisName",q.eventData.name=E),this._dumbGroup.add(q),q.updateTransform(),this.group.add(q),q.decomposeTransform()}}},uq=vq.innerTextLayout=function(d,f,h){var c,g,b=yz(f-d);return pE(b)?(g=h>0?"top":"bottom",c="center"):pE(b-gB)?(g=h>0?"bottom":"top",c="center"):(g="middle",c=b>0&&gB>b?h>0?"right":"left":h>0?"left":"right"),{rotation:b,textAlign:c,textVerticalAlign:g}},wk=vq.ifIgnoreOnTick=function(d,h,k,c,j,b){if(0===h&&j||h===c-1&&b){return !1}var g,f=d.scale;return"ordinal"===f.type&&("function"==typeof k?(g=f.getTicks()[h],!k(g,f.getLabel(g))):h%(k+1))},cB=vq.getInterval=function(a,b){var c=a.get("interval");return(null==c||"auto"==c)&&(c=b),c},eB=ZR,dB=YG,hB=aE({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(b,c,d,a){this.axisPointerClass&&bK(b),hB.superApply(this,"render",arguments),R4(this,b,c,d,a,!0)},updateAxisPointer:function(b,c,d,a){R4(this,b,c,d,a,!1)},remove:function(a,b){var c=this._axisPointer;c&&c.remove(b),hB.superApply(this,"remove",arguments)},dispose:function(a,b){Bz(this,b),hB.superApply(this,"dispose",arguments)}}),L4=[];hB.registerAxisPointerClass=function(a,b){L4[a]=b},hB.getAxisPointerClass=function(a){return a&&L4[a]};var S1=vq.ifIgnoreOnTick,BW=vq.getInterval,rq=["axisLine","axisTickLabel","axisName"],sq=["splitArea","splitLine"],lt=hB.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(d,h,k,c){this.group.removeAll();var j=this._axisGroup;if(this._axisGroup=new TH,this.group.add(this._axisGroup),d.get("show")){var b=d.getCoordSysModel(),g=qt(b,d),f=new vq(d,g);ZR(rq,f.add,f),this._axisGroup.add(f.getGroup()),ZR(sq,function(a){d.get(a+".show")&&this["_"+a](d,b,g.labelInterval)},this),xR(j,this._axisGroup,d),lt.superCall(this,"render",d,h,k,c)}},_splitLine:function(x,J,C){var F=x.axis;if(!F.scale.isBlank()){var B=x.getModel("splitLine"),N=B.getModel("lineStyle"),z=N.get("color"),E=BW(B,C);z=YH(z)?z:[z];for(var s=J.coordinateSystem.getRect(),G=F.isHorizontal(),L=0,K=F.getTicksCoords(),I=F.scale.getTicks(),H=x.get("axisLabel.showMinLabel"),A=x.get("axisLabel.showMaxLabel"),D=[],q=[],j=N.getLineStyle(),O=0;O<K.length;O++){if(!S1(F,O,E,K.length,H,A)){var M=F.toGlobalCoord(K[O]);G?(D[0]=M,D[1]=s.y,q[0]=M,q[1]=s.y+s.height):(D[0]=s.x,D[1]=M,q[0]=s.x+s.width,q[1]=M);var k=L++%z.length;this._axisGroup.add(new AN(Bk({anid:"line_"+I[O],shape:{x1:D[0],y1:D[1],x2:q[0],y2:q[1]},style:YW({stroke:z[k]},j),silent:!0})))}}}},_splitArea:function(B,O,F){var J=B.axis;if(!J.scale.isBlank()){var E=B.getModel("splitArea"),T=E.getModel("areaStyle"),C=T.get("color"),H=O.coordinateSystem.getRect(),A=J.getTicksCoords(),K=J.scale.getTicks(),Q=J.toGlobalCoord(A[0]),P=J.toGlobalCoord(A[0]),N=0,L=BW(E,F),D=T.getAreaStyle();C=YH(C)?C:[C];for(var G=B.get("axisLabel.showMinLabel"),z=B.get("axisLabel.showMaxLabel"),q=1;q<A.length;q++){if(!S1(J,q,L,A.length,G,z)){var U,R,x,j,k=J.toGlobalCoord(A[q]);J.isHorizontal()?(U=Q,R=H.y,x=k-U,j=H.height):(U=H.x,R=P,x=H.width,j=k-R);var s=N++%C.length;this._axisGroup.add(new hW({anid:"area_"+K[q],shape:{x:U,y:R,width:x,height:j},style:YW({fill:C[s]},D),silent:!0})),Q=U+x,P=R+j}}}}});lt.extend({type:"xAxis"}),lt.extend({type:"yAxis"}),aE({type:"grid",render:function(a){this.group.removeAll(),a.get("show")&&this.group.add(new hW({shape:a.coordinateSystem.getRect(),style:YW({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0,z2:-1}))}}),TQ(function(a){a.xAxis&&a.yAxis&&!a.grid&&(a.grid={})}),OW(YG(k4,"bar")),FX(function(a){a.eachSeriesByType("bar",function(b){var c=b.getData();c.setVisual("legendSymbol","roundRect")})}),QQ.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(a,b){return F6(a.data,this,b)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});var Jj=WN.prototype;Jj._createSymbol=function(d,f,h,c){this.removeAll();var g=f.getItemVisual(h,"color"),b=xq(d,-1,-1,2,2,g);b.attr({z2:100,culling:!0,scale:HV(c)}),b.drift=NU,this._symbolType=d,this.add(b)},Jj.stopSymbolAnimation=function(a){this.childAt(0).stopAnimation(a)},Jj.getSymbolPath=function(){return this.childAt(0)},Jj.getScale=function(){return this.childAt(0).scale},Jj.highlight=function(){this.childAt(0).trigger("emphasis")},Jj.downplay=function(){this.childAt(0).trigger("normal")},Jj.setZ=function(a,b){var c=this.childAt(0);c.zlevel=a,c.z=b},Jj.setDraggable=function(a){var b=this.childAt(0);b.draggable=a,b.cursor=a?"move":"pointer"},Jj.updateData=function(m,h,d){this.silent=!1;var g=m.getItemVisual(h,"symbol")||"circle",c=m.hostModel,j=kz(m,h),b=g!==this._symbolType;if(b){this._createSymbol(g,m,h,j)}else{var p=this.childAt(0);p.silent=!1,iX(p,{scale:HV(j)},c,h)}if(this._updateCommon(m,h,j,d),b){var p=this.childAt(0),f=d&&d.fadeIn,k={scale:p.scale.slice()};f&&(k.style={opacity:p.style.opacity}),p.scale=[0,0],f&&(p.style.opacity=0),oV(p,k,c,h)}this._seriesModel=c};var X4=["itemStyle","normal"],O9=["itemStyle","emphasis"],T5=["label","normal"],N9=["label","emphasis"];Jj._updateCommon=function(B,M,F,I){var E=this.childAt(0),Q=B.hostModel,C=B.getItemVisual(M,"color");"image"!==E.type&&E.useStyle({strokeNoScale:!0});var H=I&&I.itemStyle,A=I&&I.hoverItemStyle,J=I&&I.symbolRotate,O=I&&I.symbolOffset,N=I&&I.labelModel,L=I&&I.hoverLabelModel,K=I&&I.hoverAnimation,D=I&&I.cursorStyle;if(!I||B.hasItemOption){var G=I&&I.itemModel?I.itemModel:B.getItemModel(M);H=G.getModel(X4).getItemStyle(["color"]),A=G.getModel(O9).getItemStyle(),J=G.getShallow("symbolRotate"),O=G.getShallow("symbolOffset"),N=G.getModel(T5),L=G.getModel(N9),K=G.getShallow("hoverAnimation"),D=G.getShallow("cursor")}else{A=YY({},A)}var z=E.style;E.attr("rotation",(J||0)*Math.PI/180||0),O&&E.attr("position",[E9(O[0],F[0]),E9(O[1],F[1])]),D&&E.attr("cursor",D),E.setColor(C,I&&I.symbolInnerColor),E.setStyle(H);var k=B.getItemVisual(M,"opacity");null!=k&&(z.opacity=k);var q=I&&I.useNameLabel,R=!q&&rt(B);(q||null!=R)&&Yz(z,A,N,L,{labelFetcher:Q,labelDataIndex:M,defaultText:q?B.getName(M):B.get(R,M),isRectText:!0,autoColor:C}),E.off("mouseover").off("mouseout").off("emphasis").off("normal"),E.hoverStyle=A,Z9(E);var P=HV(F);if(K&&Q.isAnimationEnabled()){var r=function(){var a=P[1]/P[0];this.animateTo({scale:[Math.max(1.1*P[0],P[0]+3),Math.max(1.1*P[1],P[1]+3*a)]},400,"elasticOut")},j=function(){this.animateTo({scale:P},400,"elasticOut")};E.on("mouseover",r).on("mouseout",j).on("emphasis",r).on("normal",j)}},Jj.fadeOut=function(a,b){var c=this.childAt(0);this.silent=c.silent=!0,!(b&&b.keepLabel)&&(c.style.text=null),iX(c,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,a)},ZK(WN,TH);var abJ=SQ.prototype;abJ.updateData=function(d,g){var j=this.group,c=d.hostModel,h=this._data,b=this._symbolCtor,f={itemStyle:c.getModel("itemStyle.normal").getItemStyle(["color"]),hoverItemStyle:c.getModel("itemStyle.emphasis").getItemStyle(),symbolRotate:c.get("symbolRotate"),symbolOffset:c.get("symbolOffset"),hoverAnimation:c.get("hoverAnimation"),labelModel:c.getModel("label.normal"),hoverLabelModel:c.getModel("label.emphasis"),cursorStyle:c.get("cursor")};d.diff(h).add(function(a){var k=d.getItemLayout(a);if(MU(d,a,g)){var e=new b(d,a,f);e.attr("position",k),d.setItemGraphicEl(a,e),j.add(e)}}).update(function(k,a){var e=h.getItemGraphicEl(a),i=d.getItemLayout(k);return MU(d,k,g)?(e?(e.updateData(d,k,f),iX(e,{position:i},c)):(e=new b(d,k),e.attr("position",i)),j.add(e),void d.setItemGraphicEl(k,e)):void j.remove(e)}).remove(function(a){var i=h.getItemGraphicEl(a);i&&i.fadeOut(function(){j.remove(i)})}).execute(),this._data=d},abJ.updateLayout=function(){var a=this._data;a&&a.eachItemGraphicEl(function(c,d){var b=a.getItemLayout(d);c.attr("position",b)})},abJ.remove=function(a){var b=this.group,c=this._data;c&&(a?c.eachItemGraphicEl(function(d){d.fadeOut(function(){b.remove(d)})}):b.removeAll())};var K9=function(F,V,L,P,K,Z){for(var H=IV(F,V),G=[],O=[],E=[],Q=[],X=[],W=[],U=[],R=Z.dimensions,J=0;J<H.length;J++){var N=H[J],D=!0;switch(N.cmd){case"=":var z=F.getItemLayout(N.idx),B=V.getItemLayout(N.idx1);(isNaN(z[0])||isNaN(z[1]))&&(z=B.slice()),G.push(z),O.push(B),E.push(L[N.idx]),Q.push(P[N.idx1]),U.push(V.getRawIndex(N.idx1));break;case"+":var aa=N.idx;G.push(K.dataToPoint([V.get(R[0],aa,!0),V.get(R[1],aa,!0)])),O.push(V.getItemLayout(aa).slice()),E.push(JV(K,V,aa)),Q.push(P[aa]),U.push(V.getRawIndex(aa));break;case"-":var aa=N.idx,Y=F.getRawIndex(aa);Y!==aa?(G.push(F.getItemLayout(aa)),O.push(Z.dataToPoint([F.get(R[0],aa,!0),F.get(R[1],aa,!0)])),E.push(L[aa]),Q.push(JV(Z,F,aa)),U.push(Y)):D=!1}D&&(X.push(N),W.push(W.length))}W.sort(function(a,b){return U[a]-U[b]});for(var C=[],k=[],q=[],A=[],j=[],J=0;J<W.length;J++){var aa=W[J];C[J]=G[aa],k[J]=O[aa],q[J]=E[aa],A[J]=Q[aa],j[J]=X[aa]}return{current:C,next:k,stackedOnCurrent:q,stackedOnNext:A,status:j}},Kj=aaJ,Q8=aat,Ij=aaL,U5=aaZ,aaN=[],ZQ=[],W5=[],V5=Cj.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:EJ(Cj.prototype.brush),buildPath:function(d,f){var h=f.points,c=0,g=h.length,b=TN(h,f.smoothConstraint);if(f.connectNulls){for(;g>0&&PU(h[g-1]);g--){}for(;g>c&&PU(h[c]);c++){}}for(;g>c;){c+=GV(d,h,c,g,g,1,b.min,b.max,f.smooth,f.smoothMonotone,f.connectNulls)+1}}}),M9=Cj.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:EJ(Cj.prototype.brush),buildPath:function(m,h){var d=h.points,g=h.stackedOnPoints,c=0,j=d.length,b=h.smoothMonotone,p=TN(d,h.smoothConstraint),f=TN(g,h.smoothConstraint);if(h.connectNulls){for(;j>0&&PU(d[j-1]);j--){}for(;j>c&&PU(d[c]);c++){}}for(;j>c;){var k=GV(m,d,c,j,j,1,p.min,p.max,h.smooth,b,h.connectNulls);GV(m,g,c+k-1,k,j,-1,f.min,f.max,h.stackedOnSmooth,b,h.connectNulls),c+=k+1,m.closePath()}}});k6.extend({type:"line",init:function(){var a=new TH,b=new SQ;this.group.add(b.group),this._symbolDraw=b,this._lineGroup=a},render:function(F,V,L){var P=F.coordinateSystem,K=this.group,Z=F.getData(),G=F.getModel("lineStyle.normal"),O=F.getModel("areaStyle.normal"),E=Z.mapArray(Z.getItemLayout,!0),Q="polar"===P.type,X=this._coordSys,W=this._symbolDraw,U=this._polyline,R=this._polygon,J=this._lineGroup,N=F.get("animation"),D=!O.isEmpty(),s=LU(P,Z),B=F.get("showSymbol"),aa=B&&!Q&&!F.get("showAllSymbol")&&this._getSymbolIgnoreFunc(Z,P),Y=this._data;Y&&Y.eachItemGraphicEl(function(a,b){a.__temp&&(K.remove(a),Y.setItemGraphicEl(b,null))}),B||W.remove(),K.add(J);var C=!Q&&F.get("step");U&&X.type===P.type&&C===this._step?(D&&!R?R=this._newPolygon(E,s,P,N):R&&!D&&(J.remove(R),R=this._polygon=null),J.setClipPath(CW(P,!1,F)),B&&W.updateData(Z,aa),Z.eachItemGraphicEl(function(a){a.stopAnimation(!0)}),YX(this._stackedOnPoints,s)&&YX(this._points,E)||(N?this._updateAnimation(Z,s,P,L,C):(C&&(E=DW(E,P,C),s=DW(s,P,C)),U.setShape({points:E}),R&&R.setShape({points:E,stackedOnPoints:s})))):(B&&W.updateData(Z,aa),C&&(E=DW(E,P,C),s=DW(s,P,C)),U=this._newPolyline(E,P,N),D&&(R=this._newPolygon(E,s,P,N)),J.setClipPath(CW(P,!0,F)));var k=aB(Z,P)||Z.getVisual("color");U.useStyle(YW(G.getLineStyle(),{fill:"none",stroke:k,lineJoin:"bevel"}));var q=F.get("smooth");if(q=XN(F.get("smooth")),U.setShape({smooth:q,smoothMonotone:F.get("smoothMonotone"),connectNulls:F.get("connectNulls")}),R){var z=Z.stackedOn,j=0;if(R.useStyle(YW(O.getAreaStyle(),{fill:k,opacity:0.7,lineJoin:"bevel"})),z){var H=z.hostModel;j=XN(H.get("smooth"))}R.setShape({smooth:q,stackedOnSmooth:j,smoothMonotone:F.get("smoothMonotone"),connectNulls:F.get("connectNulls")})}this._data=Z,this._coordSys=P,this._stackedOnPoints=s,this._points=E,this._step=C},dispose:function(){},highlight:function(d,h,k,c){var j=d.getData(),b=bY(j,c);if(!(b instanceof Array)&&null!=b&&b>=0){var g=j.getItemGraphicEl(b);if(!g){var f=j.getItemLayout(b);if(!f){return}g=new WN(j,b),g.position=f,g.setZ(d.get("zlevel"),d.get("z")),g.ignore=isNaN(f[0])||isNaN(f[1]),g.__temp=!0,j.setItemGraphicEl(b,g),g.stopSymbolAnimation(!0),this.group.add(g)}g.highlight()}else{k6.prototype.highlight.call(this,d,h,k,c)}},downplay:function(d,g,j,c){var h=d.getData(),b=bY(h,c);if(null!=b&&b>=0){var f=h.getItemGraphicEl(b);f&&(f.__temp?(h.setItemGraphicEl(b,null),this.group.remove(f)):f.downplay())}else{k6.prototype.downplay.call(this,d,g,j,c)}},_newPolyline:function(a){var b=this._polyline;return b&&this._lineGroup.remove(b),b=new V5({shape:{points:a},silent:!0,z2:10}),this._lineGroup.add(b),this._polyline=b,b},_newPolygon:function(a,b){var c=this._polygon;return c&&this._lineGroup.remove(c),c=new M9({shape:{points:a,stackedOnPoints:b},silent:!0}),this._lineGroup.add(c),this._polygon=c,c},_getSymbolIgnoreFunc:function(a,b){var c=b.getAxesByScale("ordinal")[0];return c&&c.isLabelIgnored?YN(c.isLabelIgnored,c):void 0},_updateAnimation:function(k,G,z,C,y){var J=this._polyline,w=this._polygon,q=k.hostModel,B=K9(this._data,k,this._stackedOnPoints,G,this._coordSys,z),j=B.current,D=B.stackedOnCurrent,I=B.next,H=B.stackedOnNext;y&&(j=DW(B.current,z,y),D=DW(B.stackedOnCurrent,z,y),I=DW(B.next,z,y),H=DW(B.stackedOnNext,z,y)),J.shape.__points=B.current,J.shape.points=j,iX(J,{shape:{points:I}},q),w&&(w.setShape({points:j,stackedOnPoints:D}),iX(w,{shape:{points:I,stackedOnPoints:H}},q));for(var F=[],E=B.status,x=0;x<E.length;x++){var A=E[x].cmd;if("="===A){var b=k.getItemGraphicEl(E[x].idx1);b&&F.push({el:b,ptIdx:x})}}J.animators&&J.animators.length&&J.animators[0].during(function(){for(var a=0;a<F.length;a++){var c=F[a].el;c.attr("position",J.shape.__points[F[a].ptIdx])}})},remove:function(){var a=this.group,b=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),b&&b.eachItemGraphicEl(function(d,c){d.__temp&&(a.remove(d),b.setItemGraphicEl(c,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var P9=function(b,c,d,a){a.eachRawSeriesByType(b,function(f){var h=f.getData(),e=f.get("symbol")||c,g=f.get("symbolSize");h.setVisual({legendSymbol:d||e,symbol:e,symbolSize:g}),a.isSeriesFiltered(f)||("function"==typeof g&&h.each(function(k){var l=f.getRawValue(k),j=f.getDataParams(k);h.setItemVisual(k,"symbolSize",g(l,j))}),h.each(function(k){var l=h.getItemModel(k),m=l.getShallow("symbol",!0),j=l.getShallow("symbolSize",!0);null!=m&&h.setItemVisual(k,"symbol",m),null!=j&&h.setItemVisual(k,"symbolSize",j)}))})},Hj=function(a,b){b.eachSeriesByType(a,function(f){var g=f.getData(),j=f.coordinateSystem;if(j){for(var d=[],h=j.dimensions,c=0;c<h.length;c++){d.push(f.coordDimToDataDim(j.dimensions[c])[0])}1===d.length?g.each(d[0],function(k,e){g.setItemLayout(e,isNaN(k)?[0/0,0/0]:j.dataToPoint(k))}):2===d.length&&g.each(d,function(k,e,l){g.setItemLayout(l,isNaN(k)||isNaN(e)?[0/0,0/0]:j.dataToPoint([k,e]))},!0)}})},Ek={average:function(b){for(var c=0,d=0,a=0;a<b.length;a++){isNaN(b[a])||(c+=b[a],d++)}return 0===d?0/0:c/d},sum:function(a){for(var b=0,c=0;c<a.length;c++){b+=a[c]||0}return b},max:function(a){for(var b=-1/0,c=0;c<a.length;c++){a[c]>b&&(b=a[c])}return b},min:function(a){for(var b=1/0,c=0;c<a.length;c++){a[c]<b&&(b=a[c])}return b},nearest:function(a){return a[0]}},Fj=function(a){return Math.round(a.length/2)},a6=function(a,b){b.eachSeriesByType(a,function(p){var j=p.getData(),f=p.get("sampling"),h=p.coordinateSystem;if("cartesian2d"===h.type&&f){var d=h.getBaseAxis(),k=h.getOtherAxis(d),c=d.getExtent(),q=c[1]-c[0],g=Math.round(j.count()/q);if(g>1){var m;"string"==typeof f?m=Ek[f]:"function"==typeof f&&(m=f),m&&(j=j.downSample(k.dim,1/g,m,Fj),p.setData(j))}}},this)};FX(YG(P9,"line","circle","line")),OW(YG(Hj,"line")),Y1(j1.PROCESSOR.STATISTIC,YG(a6,"line"));var abq={updateSelectedMap:function(a){this._targetList=a.slice(),this._selectTargetMap=Y3(a||[],function(b,c){return b.set(c.name,c),b},aaz())},select:function(b,c){var d=null!=c?this._targetList[c]:this._selectTargetMap.get(b),a=this.get("selectedMode");"single"===a&&this._selectTargetMap.each(function(e){e.selected=!1}),d&&(d.selected=!0)},unSelect:function(a,b){var c=null!=b?this._targetList[b]:this._selectTargetMap.get(a);c&&(c.selected=!1)},toggleSelected:function(a,b){var c=null!=b?this._targetList[b]:this._selectTargetMap.get(a);return null!=c?(this[c.selected?"unSelect":"select"](a,b),c.selected):void 0},isSelected:function(a,b){var c=null!=b?this._targetList[b]:this._selectTargetMap.get(a);return c&&c.selected}},Gj=aar({type:"series.pie",init:function(a){Gj.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(a.data),this._defaultLabelLine(a)},mergeOption:function(a){Gj.superCall(this,"mergeOption",a),this.updateSelectedMap(this.option.data)},getInitialData:function(a){var b=V1(["value"],a.data),c=new P4(b,this);return c.initData(a.data),c},getDataParams:function(b){var c=this.getData(),d=Gj.superCall(this,"getDataParams",b),a=[];return c.each("value",function(e){a.push(e)}),d.percent=xz(a,b,c.hostModel.get("percentPrecision")),d.$vars.push("percent"),d},_defaultLabelLine:function(a){wR(a.labelLine,["show"]);var b=a.labelLine.normal,c=a.labelLine.emphasis;b.show=b.show&&a.label.normal.show,c.show=c.show&&a.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"60%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderWidth:1},emphasis:{}},animationType:"expansion",animationEasing:"cubicOut",data:[]}});ZZ(Gj,abq);var jG=h4.prototype;jG.updateData=function(B,w,k){function q(){z.stopAnimation(!0),z.animateTo({shape:{r:r.r+m.get("hoverOffset")}},300,"elasticOut")}function j(){z.stopAnimation(!0),z.animateTo({shape:{r:r.r}},300,"elasticOut")}var z=this.childAt(0),m=B.hostModel,A=B.getItemModel(w),r=B.getItemLayout(w),y=YY({},r);if(y.label=null,k){z.setShape(y);var x=m.getShallow("animationType");"scale"===x?(z.shape.r=r.r0,oV(z,{shape:{r:r.r}},m,w)):(z.shape.endAngle=r.startAngle,iX(z,{shape:{endAngle:r.endAngle}},m,w))}else{iX(z,{shape:y},m,w)}var v=A.getModel("itemStyle"),s=B.getItemVisual(w,"color");z.useStyle(YW({lineJoin:"bevel",fill:s},v.getModel("normal").getItemStyle())),z.hoverStyle=v.getModel("emphasis").getItemStyle();var b=A.getShallow("cursor");b&&z.attr("cursor",b),EW(this,B.getItemLayout(w),A.get("selected"),m.get("selectedOffset"),m.get("animation")),z.off("mouseover").off("mouseout").off("emphasis").off("normal"),A.get("hoverAnimation")&&m.isAnimationEnabled()&&z.on("mouseover",q).on("mouseout",j).on("emphasis",q).on("normal",j),this._updateLabel(B,w),Z9(this)},jG._updateLabel=function(A,v){var j=this.childAt(1),m=this.childAt(2),g=A.hostModel,y=A.getItemModel(v),b=A.getItemLayout(v),B=b.label,k=A.getItemVisual(v,"color");iX(j,{shape:{points:B.linePoints||[[B.x,B.y],[B.x,B.y],[B.x,B.y]]}},g,v),iX(m,{style:{x:B.x,y:B.y}},g,v),m.attr({rotation:B.rotation,origin:[B.x,B.y],z2:10});var z=y.getModel("label.normal"),p=y.getModel("label.emphasis"),x=y.getModel("labelLine.normal"),w=y.getModel("labelLine.emphasis"),k=A.getItemVisual(v,"color");Yz(m.style,m.hoverStyle={},z,p,{labelFetcher:A.hostModel,labelDataIndex:v,defaultText:A.getName(v),autoColor:k,useInsideStyle:!!B.inside},{textAlign:B.textAlign,textVerticalAlign:B.verticalAlign,opacity:A.getItemVisual(v,"opacity")}),m.ignore=m.normalIgnore=!z.get("show"),m.hoverIgnore=!p.get("show"),j.ignore=j.normalIgnore=!x.get("show"),j.hoverIgnore=!w.get("show"),j.setStyle({stroke:k,opacity:A.getItemVisual(v,"opacity")}),j.setStyle(x.getModel("lineStyle").getLineStyle()),j.hoverStyle=w.getModel("lineStyle").getLineStyle();var q=x.get("smooth");q&&q===!0&&(q=0.4),j.setShape({smooth:q})},ZK(h4,TH);var pF=(k6.extend({type:"pie",init:function(){var a=new TH;this._sectorGroup=a},render:function(C,x,k,p){if(!p||p.from!==this.uid){var j=C.getData(),A=this._data,b=this.group,D=x.get("animation"),m=!A,B=C.get("animationType"),q=YG(aan,this.uid,C,D,k),z=C.get("selectedMode");if(j.diff(A).add(function(a){var c=new h4(j,a);m&&"scale"!==B&&c.eachChild(function(d){d.stopAnimation(!0)}),z&&c.on("click",q),j.setItemGraphicEl(a,c),b.add(c)}).update(function(a,c){var d=A.getItemGraphicEl(c);d.updateData(j,a),d.off("click"),z&&d.on("click",q),b.add(d),j.setItemGraphicEl(a,d)}).remove(function(a){var c=A.getItemGraphicEl(a);b.remove(c)}).execute(),D&&m&&j.count()>0&&"scale"!==B){var y=j.getItemLayout(0),w=Math.max(k.getWidth(),k.getHeight())/2,v=YN(b.removeClipPath,b);b.setClipPath(this._createClipPath(y.cx,y.cy,w,y.startAngle,y.clockwise,v,C))}this._data=j}},dispose:function(){},_createClipPath:function(d,h,k,c,j,b,g){var f=new aY({shape:{cx:d,cy:h,r0:0,r:k,startAngle:c,endAngle:c,clockwise:j}});return oV(f,{shape:{endAngle:c+(j?1:-1)*Math.PI*2}},g,b),f},containPoint:function(d,g){var j=g.getData(),c=j.getItemLayout(0);if(c){var h=d[0]-c.cx,b=d[1]-c.cy,f=Math.sqrt(h*h+b*b);return f<=c.r&&f>=c.r0}}}),function(a,b){ZR(b,function(c){c.update="updateView",VQ(c,function(f,d){var e={};return d.eachComponent({mainType:"series",subType:a,query:f},function(h){h[c.method]&&h[c.method](f.name,f.dataIndex);var g=h.getData();g.each(function(i){var j=g.getName(i);e[j]=h.isSelected(j)||!1})}),{name:f.name,selected:e}})})}),tE=function(a,b){var c={};b.eachRawSeriesByType(a,function(f){var e=f.getRawData(),g={};if(!b.isSeriesFiltered(f)){var d=f.getData();d.each(function(h){var i=d.getRawIndex(h);g[i]=h}),e.each(function(m){var k=g[m],j=null!=k&&d.getItemVisual(k,"color",!0);if(j){e.setItemVisual(m,"color",j)}else{var h=e.getItemModel(m),i=h.get("itemStyle.normal.color")||f.getColorFromPalette(e.getName(m),c);e.setItemVisual(m,"color",i),null!=k&&d.setItemVisual(k,"color",i)}})}})},iH=function(k,h,d,g){var c,j,b=k.getData(),m=[],f=!1;b.each(function(K){var Q,E,R,X,W=b.getItemLayout(K),V=b.getItemModel(K),U=V.getModel("label.normal"),J=U.get("position")||V.get("label.emphasis.position"),N=V.getModel("labelLine.normal"),B=N.get("length"),r=N.get("length2"),t=(W.startAngle+W.endAngle)/2,Z=Math.cos(t),Y=Math.sin(t);c=W.cx,j=W.cy;var z="inside"===J||"inner"===J;if("center"===J){Q=W.cx,E=W.cy,X="center"}else{var e=(z?(W.r+W.r0)/2*Z:W.r*Z)+c,o=(z?(W.r+W.r0)/2*Y:W.r*Y)+j;if(Q=e+3*Z,E=o+3*Y,!z){var s=e+Z*(B+h-W.r),a=o+Y*(B+h-W.r),H=s+(0>Z?-1:1)*r,F=a;Q=H+(0>Z?-5:5),E=F,R=[[e,o],[s,a],[H,F]]}X=z?"center":Z>0?"left":"right"}var G=U.getFont(),q=U.get("rotate")?0>Z?-t+Math.PI:-t:0,l=k.getFormattedLabel(K,"normal")||b.getName(K),O=VY(l,G,X,"top");f=!!q,W.label={x:Q,y:E,position:J,height:O.height,len:B,len2:r,linePoints:R,textAlign:X,verticalAlign:"middle",rotation:q,inside:z},z||m.push(W.label)}),!f&&k.get("avoidLabelOverlap")&&r1(m,c,j,h,d,g)},AZ=2*Math.PI,yB=Math.PI/180,zz=function(a,b,c){b.eachSeriesByType(a,function(C){var P=C.get("center"),K=C.get("radius");YH(K)||(K=[0,K]),YH(P)||(P=[P,P]);var G=c.getWidth(),V=c.getHeight(),E=Math.min(G,V),D=E9(P[0],G),J=E9(P[1],V),B=E9(K[0],E/2),L=E9(K[1],E/2),R=C.getData(),Q=-C.get("startAngle")*yB,O=C.get("minAngle")*yB,N=0;R.each("value",function(d){!isNaN(d)&&N++});var F=R.getSum("value"),H=Math.PI/(F||N)*2,A=C.get("clockwise"),q=C.get("roseType"),W=C.get("stillShowZeroSum"),U=R.getDataExtent("value");U[0]=0;var z=AZ,k=0,n=Q,x=A?1:-1;if(R.each("value",function(f,g){var h;if(isNaN(f)){return void R.setItemLayout(g,{angle:0/0,startAngle:0/0,endAngle:0/0,clockwise:A,cx:D,cy:J,r0:B,r:q?0/0:L})}h="area"!==q?0===F&&W?H:f*H:AZ/N,O>h?(h=O,z-=O):k+=f;var d=n+x*h;R.setItemLayout(g,{angle:h,startAngle:n,endAngle:d,clockwise:A,cx:D,cy:J,r0:B,r:q?aaM(f,U,[B,L]):L}),n=d},!0),AZ>z&&N){if(0.001>=z){var j=AZ/N;R.each("value",function(d,f){if(!isNaN(d)){var g=R.getItemLayout(f);g.angle=j,g.startAngle=Q+x*f*j,g.endAngle=Q+x*(f+1)*j}})}else{H=z/k,n=Q,R.each("value",function(f,g){if(!isNaN(f)){var h=R.getItemLayout(g),d=h.angle===O?O:f*H;h.startAngle=n,h.endAngle=n+x*d,n+=x*d}})}}iH(C,L,G,V)})},qE=function(a,b){var c=b.findComponents({mainType:"legend"});c&&c.length&&b.eachSeriesByType(a,function(d){var f=d.getData();f.filterSelf(function(g){for(var e=f.getName(g),h=0;h<c.length;h++){if(!c[h].isSelected(e)){return !1}}return !0},this)},this)};pF("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),FX(YG(tE,"pie")),OW(YG(zz,"pie")),Y1(YG(qE,"pie")),QQ.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(a,b){return F6(a.data,this,b)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2000,itemStyle:{normal:{opacity:0.8}}}});var mF=bG({shape:{points:null,sizes:null},symbolProxy:null,buildPath:function(k,h){for(var d=h.points,g=h.sizes,c=this.symbolProxy,j=c.shape,b=0;b<d.length;b++){var m=d[b];if(!isNaN(m[0])&&!isNaN(m[1])){var f=g[b];f[0]<4?k.rect(m[0]-f[0]/2,m[1]-f[1]/2,f[0],f[1]):(j.x=m[0]-f[0]/2,j.y=m[1]-f[1]/2,j.width=f[0],j.height=f[1],c.buildPath(k,j,!0))}}},findDataIndex:function(m,h){for(var d=this.shape,g=d.points,c=d.sizes,j=g.length-1;j>=0;j--){var b=g[j],p=c[j],f=b[0]-p[0]/2,k=b[1]-p[1]/2;if(m>=f&&h>=k&&m<=f+p[0]&&h<=k+p[1]){return j}}return -1}}),R7=g4.prototype;R7.updateData=function(b){this.group.removeAll();var c=this._symbolEl,d=b.hostModel;c.setShape({points:b.mapArray(b.getItemLayout),sizes:b.mapArray(function(f){var g=b.getItemVisual(f,"symbolSize");return g instanceof Array||(g=[g,g]),g})}),c.symbolProxy=xq(b.getVisual("symbol"),0,0,0,0),c.setColor=c.symbolProxy.setColor,c.useStyle(d.getModel("itemStyle.normal").getItemStyle(["color"]));var a=b.getVisual("color");a&&c.setColor(a),c.seriesIndex=d.seriesIndex,c.on("mousemove",function(e){c.dataIndex=null;var f=c.findDataIndex(e.offsetX,e.offsetY);f>=0&&(c.dataIndex=f)}),this.group.add(c)},R7.updateLayout=function(a){var b=a.getData();this._symbolEl.setShape({points:b.mapArray(b.getItemLayout)})},R7.remove=function(){this.group.removeAll()},EY({type:"scatter",init:function(){this._normalSymbolDraw=new SQ,this._largeSymbolDraw=new g4},render:function(d){var f=d.getData(),h=this._largeSymbolDraw,c=this._normalSymbolDraw,g=this.group,b=d.get("large")&&f.count()>d.get("largeThreshold")?h:c;this._symbolDraw=b,b.updateData(f),g.add(b.group),g.remove(b===h?c.group:h.group)},updateLayout:function(a){this._symbolDraw.updateLayout(a)},remove:function(a,b){this._symbolDraw&&this._symbolDraw.remove(b,!0)},dispose:function(){}}),FX(YG(P9,"scatter","circle",null)),OW(YG(Hj,"scatter"));var nF=Cj.extend({type:"whiskerInBox",shape:{},buildPath:function(b,c){for(var d in c){if(c.hasOwnProperty(d)&&0===d.indexOf("ends")){var a=c[d];b.moveTo(a[0][0],a[0][1]),b.lineTo(a[1][0],a[1][1])}}}}),Dk=zZ.prototype;Dk._createContent=function(d,g,j){var c=d.getItemLayout(g),h="horizontal"===c.chartLayout?1:0,b=0;this.add(new oU({shape:{points:j?w0(c.bodyEnds,h,c):c.bodyEnds},style:{strokeNoScale:!0},z2:100})),this.bodyIndex=b++;var f=ZN(c.whiskerEnds,function(a){return j?w0(a,h,c):a});this.add(new nF({shape:x0(f),style:{strokeNoScale:!0},z2:100})),this.whiskerIndex=b++},Dk.updateData=function(d,f,h){var c=this._seriesModel=d.hostModel,g=d.getItemLayout(f),b=uR[h?"initProps":"updateProps"];b(this.childAt(this.bodyIndex),{shape:{points:g.bodyEnds}},c,f),b(this.childAt(this.whiskerIndex),{shape:x0(g.whiskerEnds)},c,f),this.styleUpdater.call(null,this,d,f)},ZK(zZ,TH);var oF=o2.prototype;oF.updateData=function(b){var c=this.group,d=this._data,a=this.styleUpdater;b.diff(d).add(function(f){if(b.hasValue(f)){var e=new zZ(b,f,a,!0);b.setItemGraphicEl(f,e),c.add(e)}}).update(function(g,e){var f=d.getItemGraphicEl(e);return b.hasValue(g)?(f?f.updateData(b,g):f=new zZ(b,g,a),c.add(f),void b.setItemGraphicEl(g,f)):void c.remove(f)}).remove(function(f){var e=d.getItemGraphicEl(f);e&&c.remove(e)}).execute(),this._data=b},oF.remove=function(){var a=this.group,b=this._data;this._data=null,b&&b.eachItemGraphicEl(function(c){c&&a.remove(c)})};var xB={_baseAxisDim:null,getInitialData:function(E,z){var k,w,j=z.getComponent("xAxis",this.get("xAxisIndex")),C=z.getComponent("yAxis",this.get("yAxisIndex")),b=j.get("type"),F=C.get("type");"category"===b?(E.layout="horizontal",k=j.getCategories(),w=!0):"category"===F?(E.layout="vertical",k=C.getCategories(),w=!0):E.layout=E.layout||"horizontal";var v=["x","y"],D="horizontal"===E.layout?0:1,x=this._baseAxisDim=v[D],B=v[1-D],A=E.data;w&&ZR(A,function(a,c){a.value&&YH(a.value)?a.value.unshift(c):YH(a)&&a.unshift(c)});var y=this.defaultValueDimensions,f=[{name:x,otherDims:{tooltip:!1},dimsDef:["base"]},{name:B,dimsDef:y.slice()}];f=V1(f,A,{encodeDef:this.get("encode"),dimsDef:this.get("dimensions"),dimCount:y.length+1});var q=new P4(f,this);return q.initData(A,k?k.slice():null),q},getBaseAxis:function(){var a=this._baseAxisDim;return this.ecModel.getComponent(a+"Axis",this.get(a+"AxisIndex")).axis}},kF={init:function(){var a=this._whiskerBoxDraw=new o2(this.getStyleUpdater());this.group.add(a.group)},render:function(a){this._whiskerBoxDraw.updateData(a.getData())},remove:function(){this._whiskerBoxDraw.remove()}},At=QQ.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{normal:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(b,c,d){var a=c.getItemLayout(b);return d.rect(a.brushRect)}});ZZ(At,xB,!0);var gH=k6.extend({type:"candlestick",getStyleUpdater:function(){return k2},dispose:aaS});ZZ(gH,kF,!0);var vE=["itemStyle","normal"],fH=["itemStyle","emphasis"],uE=function(a){a&&YH(a.series)&&ZR(a.series,function(b){YJ(b)&&"k"===b.type&&(b.type="candlestick")})},wB=["itemStyle","normal","borderColor"],cH=["itemStyle","normal","borderColor0"],eH=["itemStyle","normal","color"],dH=["itemStyle","normal","color0"],hH=function(a){a.eachRawSeriesByType("candlestick",function(b){var c=b.getData();c.setVisual({legendSymbol:"roundRect"}),a.isSeriesFiltered(b)||c.each(function(f){var g=c.getItemModel(f),d=c.getItemLayout(f).sign;c.setItemVisual(f,{color:g.get(d>0?eH:dH),borderColor:g.get(d>0?wB:cH)})})})},L9=aa3,S6=function(a){a.eachSeriesByType("candlestick",function(q){var k,d=q.coordinateSystem,g=q.getData(),c=QU(q,g),m=q.get("layout"),b="horizontal"===m?0:1,v=1-b,f=["x","y"],p=[];if(ZR(g.dimensions,function(e){var i=g.getDimensionInfo(e),h=i.coordDim;h===f[v]?p.push(e):h===f[b]&&(k=e)}),!(null==k||p.length<4)){var j=0;g.each([k].concat(p),function(){function B(l){var w=[];return w[b]=H,w[v]=l,isNaN(H)||isNaN(l)?[0/0,0/0]:d.dataToPoint(w)}function J(w,x){var y=w.slice(),l=w.slice();y[b]=q8(y[b]+c/2,1,!1),l[b]=q8(l[b]-c/2,1,!0),x?h.push(y,l):h.push(l,y)}function F(){var l=B(Math.min(D,E,z,o)),t=B(Math.max(D,E,z,o));return l[b]-=c/2,t[b]-=c/2,{x:l[0],y:l[1],width:v?c:t[0]-l[0],height:v?t[1]-l[1]:c}}function L(e){return e[b]=q8(e[b],1),e}var K=arguments,H=K[0],G=K[p.length+1],D=K[1],E=K[2],z=K[3],o=K[4],s=Math.min(D,E),O=Math.max(D,E),N=B(s),u=B(O),i=B(z),n=B(o),r=[[L(n),L(u)],[L(i),L(N)]],h=[];J(u,0),J(N,1);var C;C=D>E?-1:E>D?1:j>0?g.getItemModel(j-1).get()[2]<=E?1:-1:1,g.setItemLayout(G,{chartLayout:m,sign:C,initBaseline:D>E?u[v]:N[v],bodyEnds:h,whiskerEnds:r,brushRect:F()}),++j},!0)}})};TQ(uE),FX(hH),OW(S6),ZK(l2,q4),B6.prototype.getIndicatorAxes=function(){return this._indicatorAxes},B6.prototype.dataToPoint=function(a,b){var c=this._indicatorAxes[b];return this.coordToPoint(c.dataToCoord(a),b)},B6.prototype.coordToPoint=function(d,f){var h=this._indicatorAxes[f],c=h.angle,g=this.cx+d*Math.cos(c),b=this.cy-d*Math.sin(c);return[g,b]},B6.prototype.pointToData=function(q){var k=q[0]-this.cx,d=q[1]-this.cy,g=Math.sqrt(k*k+d*d);k/=g,d/=g;for(var c,m=Math.atan2(-d,k),b=1/0,v=-1,f=0;f<this._indicatorAxes.length;f++){var p=this._indicatorAxes[f],j=Math.abs(m-p.angle);b>j&&(c=p,v=f,b=j)}return[v,+(c&&c.coodToData(g))]},B6.prototype.resize=function(d,f){var h=d.get("center"),c=f.getWidth(),g=f.getHeight(),b=Math.min(c,g)/2;this.cx=E9(h[0],c),this.cy=E9(h[1],g),this.startAngle=d.get("startAngle")*Math.PI/180,this.r=E9(d.get("radius"),b),ZR(this._indicatorAxes,function(a,i){a.setExtent(0,this.r);var j=this.startAngle+i*Math.PI*2/this._indicatorAxes.length;j=Math.atan2(Math.sin(j),Math.cos(j)),a.angle=j},this)},B6.prototype.update=function(b){function c(g){var h=Math.pow(10,Math.floor(Math.log(g)/Math.LN10)),i=g/h;return 2===i?i=5:i*=2,i*h}var f=this._indicatorAxes,a=this._model;ZR(f,function(e){e.scale.setExtent(1/0,-1/0)}),b.eachSeriesByType("radar",function(g){if("radar"===g.get("coordinateSystem")&&b.getComponent("radar",g.get("radarIndex"))===a){var h=g.getData();ZR(f,function(e){e.scale.unionExtentFromData(h,e.dim)})}},this);var d=a.get("splitNumber");ZR(f,function(x){var g=e6(x.scale,x.model);t3(x.scale,x.model);var k=x.model,v=x.scale,e=k.getMin(),y=k.getMax(),j=v.getInterval();if(null!=e&&null!=y){v.setExtent(+e,+y),v.setInterval((y-e)/d)}else{if(null!=e){var w;do{w=e+j*d,v.setExtent(+e,w),v.setInterval(j),j=c(j)}while(w<g[1]&&isFinite(w)&&isFinite(g[1]))}else{if(null!=y){var m;do{m=y-j*d,v.setExtent(m,+y),v.setInterval(j),j=c(j)}while(m>g[0]&&isFinite(m)&&isFinite(g[0]))}else{var q=v.getTicks().length-1;q>d&&(j=c(j));var p=Math.round((g[0]+g[1])/2/j)*j,o=Math.round(d/2);v.setExtent(iG(p-o*j),iG(p+(d-o)*j)),v.setInterval(j)}}}})},B6.dimensions=[],B6.create=function(a,b){var c=[];return a.eachComponent("radar",function(d){var e=new B6(d,a,b);c.push(e),d.coordinateSystem=e}),a.eachSeriesByType("radar",function(d){"radar"===d.get("coordinateSystem")&&(d.coordinateSystem=c[d.get("radarIndex")||0])}),c},LY.register("radar",B6);var BY=I5.valueAxis,rE=(DY({type:"radar",optionUpdated:function(){var x=this.get("boundaryGap"),q=this.get("splitNumber"),g=this.get("scale"),v=this.get("axisLine"),j=this.get("axisTick"),w=this.get("axisLabel"),k=this.get("name"),s=this.get("name.show"),r=this.get("name.formatter"),o=this.get("nameGap"),b=this.get("triggerEvent"),i=ZN(this.get("indicator")||[],function(d){null!=d.max&&d.max>0&&!d.min?d.min=0:null!=d.min&&d.min<0&&!d.max&&(d.max=0);var a=k;if(null!=d.color&&(a=YW({color:d.color},k)),d=Y5(ZJ(d),{boundaryGap:x,splitNumber:q,scale:g,axisLine:v,axisTick:j,axisLabel:w,name:d.text,nameLocation:"end",nameGap:o,nameTextStyle:a,triggerEvent:b},!1),s||(d.name=""),"string"==typeof r){var c=d.name;d.name=r.replace("{value}",null!=c?c:"")}else{"function"==typeof r&&(d.name=r(d.name,d))}var e=YY(new RG(d,null,this.ecModel),T0);return e.mainType="radar",e.componentIndex=this.componentIndex,e},this);this.getIndicatorModels=function(){return i}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:Y5({lineStyle:{color:"#bbb"}},BY.axisLine),axisLabel:m2(BY.axisLabel,!1),axisTick:m2(BY.axisTick,!1),splitLine:m2(BY.splitLine,!0),splitArea:m2(BY.splitArea,!0),indicator:[]}}),["axisLine","axisTickLabel","axisName"]);aE({type:"radar",render:function(a){var b=this.group;b.removeAll(),this._buildAxes(a),this._buildSplitLineAndArea(a)},_buildAxes:function(b){var c=b.coordinateSystem,d=c.getIndicatorAxes(),a=ZN(d,function(e){var f=new vq(e.model,{position:[c.cx,c.cy],rotation:e.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return f});ZR(a,function(e){ZR(rE,e.add,e),this.group.add(e.getGroup())},this)},_buildSplitLineAndArea:function(E){function V(b,c,d){var a=d%c.length;return b[a]=b[a]||[],a}var O=E.coordinateSystem,R=O.getIndicatorAxes();if(R.length){var N=E.get("shape"),Z=E.getModel("splitLine"),H=E.getModel("splitArea"),Q=Z.getModel("lineStyle"),B=H.getModel("areaStyle"),U=Z.get("show"),X=H.get("show"),W=Q.get("color"),K=B.get("color");W=YH(W)?W:[W],K=YH(K)?K:[K];var P=[],z=[];if("circle"===N){for(var q=R[0].getTicksCoords(),aa=O.cx,Y=O.cy,x=0;x<q.length;x++){if(U){var g=V(P,W,x);P[g].push(new GH({shape:{cx:aa,cy:Y,r:q[x]}}))}if(X&&x<q.length-1){var g=V(z,K,x);z[g].push(new aa2({shape:{cx:aa,cy:Y,r0:q[x],r:q[x+1]}}))}}}else{for(var j,s=ZN(R,function(b,c){var a=b.getTicksCoords();return j=null==j?a.length-1:Math.min(a.length-1,j),ZN(a,function(d){return O.coordToPoint(d,c)})}),f=[],x=0;j>=x;x++){for(var J=[],F=0;F<R.length;F++){J.push(s[F][x])}if(J[0]&&J.push(J[0].slice()),U){var g=V(P,W,x);P[g].push(new sR({shape:{points:J}}))}if(X&&f){var g=V(z,K,x-1);z[g].push(new oU({shape:{points:J.concat(f)}}))}f=J.slice().reverse()}}var G=Q.getLineStyle(),k=B.getAreaStyle();ZR(z,function(a,b){this.group.add(fW(a,{style:YW({stroke:"none",fill:K[b%K.length]},k),silent:!0}))},this),ZR(P,function(a,b){this.group.add(fW(a,{style:YW({fill:"none",stroke:W[b%W.length]},G),silent:!0}))},this)}}});var sE=QQ.extend({type:"series.radar",dependencies:["radar"],init:function(){sE.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(b){var c=b.data||[],d=V1([],c,{extraPrefix:"indicator_",extraFromZero:!0}),a=new P4(d,this);return a.initData(c),a},formatTooltip:function(b){var c=this.getRawValue(b),f=this.coordinateSystem,a=f.getIndicatorAxes(),d=this.getData().getName(b);return fG(""===d?this.name:d)+"<br/>"+ZN(a,function(e,g){return fG(e.name+" : "+c[g])}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{normal:{width:2,type:"solid"}},label:{normal:{position:"top"}},symbol:"emptyCircle",symbolSize:4}});EY({type:"radar",render:function(f){function h(m,p){var r=m.getItemVisual(p,"symbol")||"circle",l=m.getItemVisual(p,"color");if("none"!==r){var q=v1(m.getItemVisual(p,"symbolSize")),k=xq(r,-1,-1,2,2,l);return k.attr({style:{strokeNoScale:!0},z2:100,scale:[q[0]/2,q[1]/2]}),k}}function j(w,p,v,k,t,q){v.removeAll();for(var e=0;e<p.length-1;e++){var m=h(k,t);m&&(m.__dimIdx=e,w[e]?(m.attr("position",w[e]),uR[q?"initProps":"updateProps"](m,{position:p[e]},f,t)):m.attr("position",p[e]),v.add(m))}}function i(a){return ZN(a,function(){return[c.cx,c.cy]})}var c=f.coordinateSystem,g=this.group,b=f.getData(),d=this._data;b.diff(d).add(function(q){var m=b.getItemLayout(q);if(m){var k=new oU,p=new sR,o={shape:{points:m}};k.shape.points=i(m),p.shape.points=i(m),oV(k,o,f,q),oV(p,o,f,q);var l=new TH,n=new TH;l.add(p),l.add(k),l.add(n),j(p.shape.points,m,n,b,q,!0),b.setItemGraphicEl(q,l)}}).update(function(q,l){var t=d.getItemGraphicEl(l),k=t.childAt(0),p=t.childAt(1),n=t.childAt(2),m={shape:{points:b.getItemLayout(q)}};m.shape.points&&(j(k.shape.points,m.shape.points,n,b,q,!1),iX(k,m,f),iX(p,m,f),b.setItemGraphicEl(q,t))}).remove(function(a){g.remove(d.getItemGraphicEl(a))}).execute(),b.eachItemGraphicEl(function(J,A){function q(){s.attr("ignore",r)}function l(){s.attr("ignore",k)}var F=b.getItemModel(A),I=J.childAt(0),s=J.childAt(1),C=J.childAt(2),B=b.getItemVisual(A,"color");g.add(J),I.useStyle(YW(F.getModel("lineStyle.normal").getLineStyle(),{fill:"none",stroke:B})),I.hoverStyle=F.getModel("lineStyle.emphasis").getLineStyle();var z=F.getModel("areaStyle.normal"),w=F.getModel("areaStyle.emphasis"),k=z.isEmpty()&&z.parentModel.isEmpty(),r=w.isEmpty()&&w.parentModel.isEmpty();r=r&&k,s.ignore=k,s.useStyle(YW(z.getAreaStyle(),{fill:B,opacity:0.7})),s.hoverStyle=w.getAreaStyle();var H=F.getModel("itemStyle.normal").getItemStyle(["color"]),D=F.getModel("itemStyle.emphasis").getItemStyle(),E=F.getModel("label.normal"),G=F.getModel("label.emphasis");C.eachChild(function(a){a.setStyle(H),a.hoverStyle=ZJ(D),Yz(a.style,a.hoverStyle,E,G,{labelFetcher:b.hostModel,labelDataIndex:A,labelDimIndex:a.__dimIdx,defaultText:b.get(b.dimensions[a.__dimIdx],A),autoColor:B,isRectText:!0})}),J.off("mouseover").off("mouseout").off("normal").off("emphasis"),J.on("emphasis",q).on("mouseover",q).on("normal",l).on("mouseout",l),Z9(J)}),this._data=b},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});var lF=function(a){a.eachSeriesByType("radar",function(d){function g(i,k){c[k]=c[k]||[],c[k][b]=h.dataToPoint(i,b)}var j=d.getData(),c=[],h=d.coordinateSystem;if(h){for(var b=0;b<h.getIndicatorAxes().length;b++){var f=j.dimensions[b];j.each(f,g)}j.each(function(e){c[e][0]&&c[e].push(c[e][0].slice()),j.setItemLayout(e,c[e])})}})},IW=function(a){var b=a.polar;if(b){YH(b)||(b=[b]);var c=[];ZR(b,function(d){d.indicator?(d.type&&!d.shape&&(d.shape=d.type),a.radar=a.radar||[],YH(a.radar)||(a.radar=[a.radar]),a.radar.push(d)):c.push(d)}),a.polar=c}ZR(a.series,function(d){d&&"radar"===d.type&&d.polarIndex&&(d.radarIndex=d.polarIndex)})};FX(YG(tE,"radar")),FX(YG(P9,"radar","circle",null)),OW(lF),Y1(YG(qE,"radar")),TQ(IW),QQ.extend({type:"series.heatmap",getInitialData:function(a,b){return F6(a.data,this,b)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});var XO=256;i4.prototype={update:function(G,X,O,R,N,ab){var J=this._getBrush(),H=this._getGradient(G,N,"inRange"),Q=this._getGradient(G,N,"outOfRange"),F=this.pointSize+this.blurSize,U=this.canvas,Z=U.getContext("2d"),Y=G.length;U.width=X,U.height=O;for(var W=0;Y>W;++W){var V=G[W],L=V[0],P=V[1],E=V[2],z=R(E);Z.globalAlpha=z,Z.drawImage(J,L-F,P-F)}if(!U.width||!U.height){return U}for(var C=Z.getImageData(0,0,U.width,U.height),ac=C.data,aa=0,D=ac.length,k=this.minOpacity,q=this.maxOpacity,B=q-k;D>aa;){var z=ac[aa+3]/256,j=4*Math.floor(z*(XO-1));if(z>0){var K=ab(z)?H:Q;z>0&&(z=z*B+k),ac[aa++]=K[j],ac[aa++]=K[j+1],ac[aa++]=K[j+2],ac[aa++]=K[j+3]*z*256}else{aa+=4}}return Z.putImageData(C,0,0),U},_getBrush:function(){var b=this._brushCanvas||(this._brushCanvas=nY()),c=this.pointSize+this.blurSize,d=2*c;b.width=d,b.height=d;var a=b.getContext("2d");return a.clearRect(0,0,d,d),a.shadowOffsetX=d,a.shadowBlur=this.blurSize,a.shadowColor="#000",a.beginPath(),a.arc(-c,c,this.pointSize,0,2*Math.PI,!0),a.closePath(),a.fill(),b},_getGradient:function(d,h,k){for(var c=this._gradientPixels,j=c[k]||(c[k]=new Uint8ClampedArray(1024)),b=[0,0,0,0],g=0,f=0;256>f;f++){h[k](f/255,!0,b),j[g++]=b[0],j[g++]=b[1],j[g++]=b[2],j[g++]=b[3]}return j}},EY({type:"heatmap",render:function(b,c,f){var a;c.eachComponent("visualMap",function(g){g.eachTargetSeries(function(e){e===b&&(a=g)})}),this.group.removeAll();var d=b.coordinateSystem;"cartesian2d"===d.type||"calendar"===d.type?this._renderOnCartesianAndCalendar(d,b,f):t1(d)&&this._renderOnGeo(d,b,a,f)},dispose:function(){},_renderOnCartesianAndCalendar:function(q,G){if("cartesian2d"===q.type){var z=q.getAxis("x"),C=q.getAxis("y"),x=z.getBandWidth(),J=C.getBandWidth()}var r=this.group,B=G.getData(),k="itemStyle.normal",D="itemStyle.emphasis",I="label.normal",H="label.emphasis",F=G.getModel(k).getItemStyle(["color"]),E=G.getModel(D).getItemStyle(),w=G.getModel("label.normal"),A=G.getModel("label.emphasis"),j=q.type,b="cartesian2d"===j?[G.coordDimToDataDim("x")[0],G.coordDimToDataDim("y")[0],G.coordDimToDataDim("value")[0]]:[G.coordDimToDataDim("time")[0],G.coordDimToDataDim("value")[0]];B.each(function(g){var f;if("cartesian2d"===j){if(isNaN(B.get(b[2],g))){return}var c=q.dataToPoint([B.get(b[0],g),B.get(b[1],g)]);f=new hW({shape:{x:c[0]-x/2,y:c[1]-J/2,width:x,height:J},style:{fill:B.getItemVisual(g,"color"),opacity:B.getItemVisual(g,"opacity")}})}else{if(isNaN(B.get(b[1],g))){return}f=new hW({z2:1,shape:q.dataToRect([B.get(b[0],g)]).contentShape,style:{fill:B.getItemVisual(g,"color"),opacity:B.getItemVisual(g,"opacity")}})}var e=B.getItemModel(g);B.hasItemOption&&(F=e.getModel(k).getItemStyle(["color"]),E=e.getModel(D).getItemStyle(),w=e.getModel(I),A=e.getModel(H));var a=G.getRawValue(g),d="-";a&&null!=a[2]&&(d=a[2]),Yz(F,E,w,A,{labelFetcher:G,labelDataIndex:g,defaultText:d,isRectText:!0}),f.setStyle(F),Z9(f,B.hasItemOption?E:YY({},E)),r.add(f),B.setItemGraphicEl(g,f)})},_renderOnGeo:function(w,K,D,G){var C=D.targetVisuals.inRange,N=D.targetVisuals.outOfRange,A=K.getData(),z=this._hmLayer||this._hmLayer||new i4;z.blurSize=K.get("blurSize"),z.pointSize=K.get("pointSize"),z.minOpacity=K.get("minOpacity"),z.maxOpacity=K.get("maxOpacity");var F=w.getViewRect().clone(),q=w.getRoamTransform().transform;F.applyTransform(q);var H=Math.max(F.x,0),M=Math.max(F.y,0),L=Math.min(F.width+F.x,G.getWidth()),J=Math.min(F.height+F.y,G.getHeight()),I=L-H,B=J-M,E=A.mapArray(["lng","lat","value"],function(c,f,a){var d=w.dataToPoint([c,f]);return d[0]-=H,d[1]-=M,d.push(a),d}),k=D.getExtent(),b="visualMap.continuous"===D.type?e4(k,D.option.range):y0(k,D.getPieceList(),D.option.selected);z.update(E,I,B,C.color.getNormalizer(),{inRange:C.color.getColorMapper(),outOfRange:N.color.getColorMapper()},b);var j=new R1({style:{width:I,height:B,x:H,y:M,image:z.canvas},silent:!0});this.group.add(j)}});var OV=ZR,TO="\x00__link_datas",NV="\x00__link_mainData",abE=function(a,b){this.name=a||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=b};abE.prototype={constructor:abE,isRemoved:function(){return this.dataIndex<0},eachNode:function(d,g,j){"function"==typeof d&&(j=g,g=d,d=null),d=d||{},Z1(d)&&(d={order:d});var c,h=d.order||"preorder",b=this[d.attr||"children"];"preorder"===h&&(c=g.call(j,this));for(var f=0;!c&&f<b.length;f++){b[f].eachNode(d,g,j)}"postorder"===h&&g.call(j,this)},updateDepthAndHeight:function(b){var c=0;this.depth=b;for(var d=0;d<this.children.length;d++){var a=this.children[d];a.updateDepthAndHeight(b+1),a.height>c&&(c=a.height)}this.height=c+1},getNodeById:function(b){if(this.getId()===b){return this}for(var c=0,f=this.children,a=f.length;a>c;c++){var d=f[c].getNodeById(b);if(d){return d}}},contains:function(b){if(b===this){return !0}for(var c=0,f=this.children,a=f.length;a>c;c++){var d=f[c].contains(b);if(d){return d}}},getAncestors:function(a){for(var b=[],c=a?this:this.parentNode;c;){b.push(c),c=c.parentNode}return b.reverse(),b},getValue:function(a){var b=this.hostTree.data;return b.get(b.getDimension(a||"value"),this.dataIndex)},setLayout:function(a,b){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,a,b)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(b){if(!(this.dataIndex<0)){var c,f=this.hostTree,a=f.data.getItemModel(this.dataIndex),d=this.getLevelModel();return d||0!==this.children.length&&(0===this.children.length||this.isExpand!==!1)||(c=this.getLeavesModel()),a.getModel(b,(d||c||f.hostModel).getModel(b))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(a,b){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,a,b)},getVisual:function(a,b){return this.hostTree.data.getItemVisual(this.dataIndex,a,b)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)}},RR.prototype={constructor:RR,type:"tree",eachNode:function(a,b,c){this.root.eachNode(a,b,c)},getNodeByDataIndex:function(a){var b=this.data.getRawIndex(a);return this._nodes[b]},getNodeByName:function(a){return this.root.getNodeByName(a)},update:function(){for(var b=this.data,c=this._nodes,d=0,a=c.length;a>d;d++){c[d].dataIndex=-1}for(var d=0,a=b.count();a>d;d++){c[b.getRawIndex(d)].dataIndex=d}},clearLayouts:function(){this.data.clearItemLayouts()}},RR.createTree=function(k,h,d){function g(o,q){var r=o.value;b=Math.max(b,YH(r)?r.length:1),j.push(o);var p=new abE(o.name,c);q?A7(p,q):c.root=p,c._nodes.push(p);var a=o.children;if(a){for(var i=0;i<a.length;i++){g(a[i],p)}}}var c=new RR(h,d.levels,d.leaves),j=[],b=1;g(k),c.root.updateDepthAndHeight(0);var m=V1([{name:"value"}],j,{dimCount:b}),f=new P4(m,h);return f.initData(j),d4({mainData:f,struct:c,structAttr:"tree"}),c.update(),c},QQ.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(d){var h={name:d.name,children:d.data},k=d.leaves||{},c={};c.leaves=k;var j=RR.createTree(h,this,c),b=0;j.eachNode("preorder",function(a){a.depth>b&&(b=a.depth)});var g=d.expandAndCollapse,f=g&&d.initialTreeDepth>=0?d.initialTreeDepth:b;return j.root.eachNode("preorder",function(a){var i=a.hostTree.data.getRawDataItem(a.dataIndex);a.isExpand=i&&null!=i.collapsed?!i.collapsed:a.depth<=f}),j.data},formatTooltip:function(d){for(var f=this.getData().tree,h=f.root.children[0],c=f.getNodeByDataIndex(d),g=c.getValue(),b=c.name;c&&c!==h;){b=c.parentNode.name+"."+b,c=c.parentNode}return fG(b+(isNaN(g)||null==g?"":" : "+g))},defaultOption:{zlevel:0,z:2,left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",orient:"horizontal",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{normal:{color:"#ccc",width:1.5,curveness:0.5}},itemStyle:{normal:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5}},label:{normal:{show:!0,color:"#555"}},leaves:{label:{normal:{show:!0}}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1000}}),EY({type:"tree",init:function(){this._oldTree,this._mainGroup=new TH,this.group.add(this._mainGroup)},render:function(k,h,d){var g=k.getData(),c=k.layoutInfo,j=this._mainGroup,b=k.get("layout");"radial"===b?j.attr("position",[c.x+c.width/2,c.y+c.height/2]):j.attr("position",[c.x,c.y]);var m=this._data,f={expandAndCollapse:k.get("expandAndCollapse"),layout:b,orient:k.get("orient"),curvature:k.get("lineStyle.normal.curveness"),symbolRotate:k.get("symbolRotate"),symbolOffset:k.get("symbolOffset"),hoverAnimation:k.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};g.diff(m).add(function(a){T6(g,a)&&X5(g,a,null,j,k,f)}).update(function(a,l){var i=m.getItemGraphicEl(l);return T6(g,a)?void X5(g,a,i,j,k,f):void (i&&V6(g,a,i,j,k,f))}).remove(function(a){var i=m.getItemGraphicEl(a);V6(g,a,i,j,k,f)}).execute(),f.expandAndCollapse===!0&&g.eachItemGraphicEl(function(l,a){l.off("click").on("click",function(){d.dispatchAction({type:"treeExpandAndCollapse",seriesId:k.id,dataIndex:a})})}),this._data=g},dispose:function(){},remove:function(){this._mainGroup.removeAll(),this._data=null}}),VQ({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(a,b){b.eachComponent({mainType:"series",subType:"tree",query:a},function(d){var g=a.dataIndex,c=d.getData().tree,f=c.getNodeByDataIndex(g);f.isExpand=!f.isExpand})});var KW=function(k,G){var z=Oj(k,G);k.layoutInfo=z;var C=k.get("layout"),y=0,J=0,w=null;"radial"===C?(y=2*Math.PI,J=Math.min(z.height,z.width)/2,w=Ik(function(a,c){return(a.parentNode===c.parentNode?1:2)/a.depth})):(y=z.width,J=z.height,w=Ik());var q=k.getData().tree.root,B=q.children[0];p2(q),Mj(B,q1,w),q.hierNode.modifier=-B.hierNode.prelim,Pj(B,j3);var j=B,D=B,I=B;Pj(B,function(a){var c=a.getLayout().x;c<j.getLayout().x&&(j=a),c>D.getLayout().x&&(D=a),a.depth>I.depth&&(I=a)});var H=j===D?1:w(j,D)/2,F=H-j.getLayout().x,E=0,x=0,A=0,b=0;"radial"===C?(E=y/(D.getLayout().x+H+F),x=J/(I.depth-1||1),Pj(B,function(a){A=(a.getLayout().x+F)*E,b=(a.depth-1)*x;var c=W6(A,b);a.setLayout({x:c.x,y:c.y,rawX:A,rawY:b},!0)})):"horizontal"===k.get("orient")?(x=J/(D.getLayout().x+H+F),E=y/(I.depth-1||1),Pj(B,function(a){b=(a.getLayout().x+F)*x,A=(a.depth-1)*E,a.setLayout({x:A,y:b},!0)})):(E=y/(D.getLayout().x+H+F),x=J/(I.depth-1||1),Pj(B,function(a){A=(a.getLayout().x+F)*E,b=(a.depth-1)*x,a.setLayout({x:A,y:b},!0)}))},JW=function(a,b){a.eachSeriesByType("tree",function(c){KW(c,b)})},QV=function(a,b){a.eachSeriesByType("tree",function(c){KW(c,b)})};FX(YG(P9,"tree","circle",null)),OW(JW),OW(QV),QQ.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:0.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:0.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{normal:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}}},label:{normal:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0}},upperLabel:{normal:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},emphasis:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},itemStyle:{normal:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(b,c){var f={name:b.name,children:b.data};aaP(f);var a=b.levels||[];a=b.levels=Fk(a,c);var d={};return d.levels=a,RR.createTree(f,this,d).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(b){var c=this.getData(),f=this.getRawValue(b),a=jF(YH(f)?f[0]:f),d=c.getName(b);return fG(d+": "+a)},getDataParams:function(a){var b=QQ.prototype.getDataParams.apply(this,arguments),c=this.getData().tree.getNodeByDataIndex(a);return b.treePathInfo=aQ(c,this),b},setLayoutInfo:function(a){this.layoutInfo=this.layoutInfo||{},YY(this.layoutInfo,a)},mapIdToIndex:function(a){var b=this._idIndexMap;b||(b=this._idIndexMap=aaz(),this._idIndexMapCount=0);var c=b.get(a);return null==c&&b.set(a,c=this._idIndexMapCount++),c},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(a){a?this._viewRoot=a:a=this._viewRoot;var b=this.getData().tree.root;(!a||a!==b&&!b.contains(a))&&(this._viewRoot=b)}});var HW=8,UO=8,aap=5;iJ.prototype={constructor:iJ,render:function(k,h,d,g){var c=k.getModel("breadcrumb"),j=this.group;if(j.removeAll(),c.get("show")&&d){var b=c.getModel("itemStyle.normal"),m=b.getModel("textStyle"),f={pos:{left:c.get("left"),right:c.get("right"),top:c.get("top"),bottom:c.get("bottom")},box:{width:h.getWidth(),height:h.getHeight()},emptyItemWidth:c.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(d,f,m),this._renderContent(k,f,b,m,g),NY(j,f.pos,f.box)}},_prepare:function(d,g,j){for(var c=d;c;c=c.parentNode){var h=c.getModel().get("name"),b=j.getTextRect(h),f=Math.max(b.width+2*HW,g.emptyItemWidth);g.totalWidth+=f+UO,g.renderList.push({node:c,text:h,width:f})}},_renderContent:function(H,B,q,x,k){for(var E=0,b=B.emptyItemWidth,w=H.get("breadcrumb.height"),G=HZ(B.pos,B.box),y=B.totalWidth,D=B.renderList,C=D.length-1;C>=0;C--){var A=D[C],z=A.node,j=A.width,s=A.text;y>G.width&&(y-=j-b,j=b,s=null);var F=new oU({shape:{points:oG(E,0,j,w,C===D.length-1,0===C)},style:YW(q.getItemStyle(),{lineJoin:"bevel",text:s,textFill:x.getTextColor(),textFont:x.getFont()}),z:10,onclick:YG(k,z)});this.group.add(F),sF(F,H,z),E+=j+UO}},remove:function(){this.group.removeAll()}};var YZ="\x00_ec_interaction_mutex";VQ({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),ZZ(pG,lY);var WO=YN,VO=TH,MV=hW,PV=ZR,GW=3,DX=["label","normal"],EX=["label","emphasis"],a1=["upperLabel","normal"],abc=["upperLabel","emphasis"],FW=10,i5=1,o3=2,s2=UF([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),h5=function(a){var b=s2(a);return b.stroke=b.fill=b.lineWidth=null,b};EY({type:"treemap",init:function(){this._containerGroup,this._storage=fJ(),this._oldTree,this._breadcrumb,this._controller,this._state="ready"},render:function(y,u,j,m){var g=u.findComponents({mainType:"series",subType:"treemap",query:m});if(!(YR(g,y)<0)){this.seriesModel=y,this.api=j,this.ecModel=u;var x=Gk(m,y),b=m&&m.type,z=y.layoutInfo,k=!this._oldTree,p=this._storage,w="treemapRootToNode"===b&&x&&p?{rootNodeGroup:p.nodeGroup[x.node.getRawIndex()],direction:m.direction}:null,v=this._giveContainerGroup(z),q=this._doRender(v,y,w);k||b&&"treemapZoomToNode"!==b&&"treemapRootToNode"!==b?q.renderFinally():this._doAnimation(v,q,y,w),this._resetController(j),this._renderBreadcrumb(y,j,x)}},_giveContainerGroup:function(a){var b=this._containerGroup;return b||(b=this._containerGroup=new VO,this._initEvents(b),this.group.add(b)),b.attr("position",[a.x,a.y]),b},_doRender:function(A,v,j){function m(d,i,u,l,c){function h(a){return a.getId()}function f(t,o){var a=null!=t?d[t]:null,e=null!=o?i[o]:null,n=w(a,e,u,c);n&&m(a&&a.viewChildren||[],e&&e.viewChildren||[],n,l,c+1)}l?(i=d,PV(d,function(a,n){!a.isRemoved()&&f(n,n)})):new I6(i,d,h,h).add(f).update(f).remove(YG(f,null)).execute()}function g(a){var c=fJ();return a&&PV(a,function(e,f){var d=c[f];PV(e,function(h){h&&(d.push(h),h.__tmWillDelete=1)})}),c}function y(){PV(q,function(a){PV(a,function(c){c.parent&&c.parent.remove(c)})}),PV(x,function(a){a.invisible=!0,a.dirty()})}var b=v.getData().tree,B=this._oldTree,k=fJ(),z=fJ(),p=this._storage,x=[],w=YG(uF,v,z,p,j,k,x);m(b.root?[b.root]:[],B&&B.root?[B.root]:[],A,b===B||!B,0);var q=g(p);return this._oldTree=b,this._storage=z,{lastsForAnimation:k,willDeleteEls:q,renderFinally:y}},_doAnimation:function(d,g,j,c){if(j.get("animation")){var h=j.get("animationDurationUpdate"),b=j.get("animationEasing"),f=zB();PV(g.willDeleteEls,function(a,i){PV(a,function(m){if(!m.invisible){var p,o=m.parent;if(c&&"drillDown"===c.direction){p=o===c.rootNodeGroup?{shape:{x:0,y:0,width:o.__tmNodeWidth,height:o.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}}}else{var e=0,k=0;o.__tmWillDelete||(e=o.__tmNodeWidth/2,k=o.__tmNodeHeight/2),p="nodeGroup"===i?{position:[e,k],style:{opacity:0}}:{shape:{x:e,y:k,width:0,height:0},style:{opacity:0}}}p&&f.add(m,p,h,b)}})}),PV(this._storage,function(a,e){PV(a,function(o,n){var k=g.lastsForAnimation[e][n],m={};k&&("nodeGroup"===e?k.old&&(m.position=o.position.slice(),o.attr("position",k.old)):(k.old&&(m.shape=YY({},o.shape),o.setShape(k.old)),k.fadein?(o.setStyle("opacity",0),m.style={opacity:1}):1!==o.style.opacity&&(m.style={opacity:1})),f.add(o,m,h,b))})},this),this._state="animating",f.done(WO(function(){this._state="ready",g.renderFinally()},this)).start()}},_resetController:function(a){var b=this._controller;b||(b=this._controller=new pG(a.getZr()),b.enable(this.seriesModel.get("roam")),b.on("pan",WO(this._onPan,this)),b.on("zoom",WO(this._onZoom,this)));var c=new gO(0,0,a.getWidth(),a.getHeight());b.setPointerChecker(function(f,g,d){return c.contain(g,d)})},_clearController:function(){var a=this._controller;a&&(a.dispose(),a=null)},_onPan:function(b,c){if("animating"!==this._state&&(Math.abs(b)>GW||Math.abs(c)>GW)){var d=this.seriesModel.getData().tree.root;if(!d){return}var a=d.getLayout();if(!a){return}this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x+b,y:a.y+c,width:a.width,height:a.height}})}},_onZoom:function(d,h,k){if("animating"!==this._state){var c=this.seriesModel.getData().tree.root;if(!c){return}var j=c.getLayout();if(!j){return}var b=new gO(j.x,j.y,j.width,j.height),g=this.seriesModel.layoutInfo;h-=g.x,k-=g.y;var f=abu();Hz(f,f,[-h,-k]),Z0(f,f,[d,d]),Hz(f,f,[h,k]),b.applyTransform(f),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:b.x,y:b.y,width:b.width,height:b.height}})}},_initEvents:function(a){a.on("click",function(d){if("ready"===this._state){var g=this.seriesModel.get("nodeClick",!0);if(g){var j=this.findTarget(d.offsetX,d.offsetY);if(j){var c=j.node;if(c.getLayout().isLeafRoot){this._rootToNode(j)}else{if("zoomToNode"===g){this._zoomToNode(j)}else{if("link"===g){var h=c.hostTree.data.getItemModel(c.dataIndex),b=h.get("link",!0),f=h.get("target",!0)||"blank";b&&window.open(b,f)}}}}}}},this)},_renderBreadcrumb:function(b,c,d){function a(f){"animating"!==this._state&&(Eq(b.getViewRoot(),f)?this._rootToNode({node:f}):this._zoomToNode({node:f}))}d||(d=null!=b.get("leafDepth",!0)?{node:b.getViewRoot()}:this.findTarget(c.getWidth()/2,c.getHeight()/2),d||(d={node:b.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new iJ(this.group))).render(b,c,d.node,WO(a,this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=fJ(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(a){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},_rootToNode:function(a){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},findTarget:function(b,c){var d,a=this.seriesModel.getViewRoot();return a.eachNode({attr:"viewChildren",order:"preorder"},function(f){var h=this._storage.background[f.getRawIndex()];if(h){var e=h.transformCoordToLocal(b,c),g=h.shape;if(!(g.x<=e[0]&&e[0]<=g.x+g.width&&g.y<=e[1]&&e[1]<=g.y+g.height)){return !1}d={node:f,offsetX:e[0],offsetY:e[1]}}},this),d}});for(var AU=function(){},x1=["treemapZoomToNode","treemapRender","treemapMove"],y1=0;y1<x1.length;y1++){VQ({type:x1[y1],update:"updateView"},AU)}VQ({type:"treemapRootToNode",update:"updateView"},function(a,b){function c(f){var g=Gk(a,f);if(g){var d=f.getViewRoot();d&&(a.direction=Eq(d,g.node)?"rollUp":"drillDown"),f.resetViewRoot(g.node)}}b.eachComponent({mainType:"series",subType:"treemap",query:a},c)});var p3=ZR,l3=YJ,RU=-1,m3=function(c){var d=c.mappingMethod,g=c.type,f=this.option=ZJ(c);this.type=g,this.mappingMethod=d,this._normalizeData=n3[d];var b=CX[g];this.applyVisual=b.applyVisual,this.getColorMapper=b.getColorMapper,this._doMap=b._doMap[d],"piecewise"===d?(bO(f),tF(f)):"category"===d?f.categories?vF(f):bO(f,!0):(aav("linear"!==d||f.dataExtent),bO(f))};m3.prototype={constructor:m3,mapValueToVisual:function(a){var b=this._normalizeData(a);return this._doMap(b,a)},getNormalizer:function(){return YN(this._normalizeData,this)}};var CX=m3.visualHandlers={color:{applyVisual:gJ("color"),getColorMapper:function(){var a=this.option;return YN("category"===a.mappingMethod?function(b,c){return !c&&(b=this._normalizeData(b)),Lj.call(this,b)}:function(c,f,b){var d=!!b;return !f&&(c=this._normalizeData(c)),b=pK(c,a.parsedVisual,b),d?b:mK(b,"rgba")},this)},_doMap:{linear:function(a){return mK(pK(a,this.option.parsedVisual),"rgba")},category:Lj,piecewise:function(a,b){var c=qF.call(this,b);return null==c&&(c=mK(pK(a,this.option.parsedVisual),"rgba")),c},fixed:R8}},colorHue:dJ(function(a,b){return lK(a,b)}),colorSaturation:dJ(function(a,b){return lK(a,null,b)}),colorLightness:dJ(function(a,b){return lK(a,null,null,b)}),colorAlpha:dJ(function(a,b){return Rq(a,b)}),opacity:{applyVisual:gJ("opacity"),_doMap:BE([0,1])},symbol:{applyVisual:function(b,c,f){var a=this.mapValueToVisual(b);if(Z1(a)){f("symbol",a)}else{if(l3(a)){for(var d in a){a.hasOwnProperty(d)&&f(d,a[d])}}}},_doMap:{linear:cJ,category:Lj,piecewise:function(a,b){var c=qF.call(this,b);return null==c&&(c=cJ.call(this,a)),c},fixed:R8}},symbolSize:{applyVisual:gJ("symbolSize"),_doMap:BE([0,1])}},n3={linear:function(a){return aaM(a,this.option.dataExtent,[0,1],!0)},piecewise:function(a){var b=this.option.pieceList,c=m3.findPieceIndex(a,b,!0);return null!=c?aaM(c,[0,b.length-1],[0,1],!0):void 0},category:function(a){var b=this.option.categories?this.option.categoryMap[a]:a;return null==b?RU:b},fixed:aaS};m3.listVisualTypes=function(){var a=[];return ZR(CX,function(b,c){a.push(c)}),a},m3.addVisualHandler=function(a,b){CX[a]=b},m3.isValidType=function(a){return CX.hasOwnProperty(a)},m3.eachVisual=function(a,b,c){YJ(a)?ZR(a,b,c):b.call(c,a)},m3.mapVisual=function(b,c,f){var a,d=YH(b)?[]:YJ(b)?{}:(a=!0,null);return m3.eachVisual(b,function(g,e){var h=c.call(f,g,e);a?d=h:d[e]=h}),d},m3.retrieveVisuals=function(a){var b,c={};return a&&p3(CX,function(d,e){a.hasOwnProperty(e)&&(c[e]=a[e],b=!0)}),b?c:null},m3.prepareVisualTypes=function(a){if(l3(a)){var b=[];p3(a,function(c,d){b.push(d)}),a=b}else{if(!YH(a)){return[]}a=a.slice()}return a.sort(function(c,d){return"color"===d&&"color"!==c&&0===c.indexOf("color")?1:-1}),a},m3.dependsOn=function(a,b){return"color"===b?!(!a||0!==a.indexOf(b)):a===b},m3.findPieceIndex=function(w,m,f){function j(c,h){var a=Math.abs(c-w);q>a&&(q=a,d=h)}for(var d,q=1/0,b=0,x=m.length;x>b;b++){var g=m[b].value;if(null!=g){if(g===w||"string"==typeof g&&g===w+""){return b}f&&j(g,b)}}for(var b=0,x=m.length;x>b;b++){var v=m[b],k=v.interval,p=v.close;if(k){if(k[0]===-1/0){if(kG(p[1],w,k[1])){return b}}else{if(1/0===k[1]){if(kG(p[0],k[0],w)){return b}}else{if(kG(p[0],k[0],w)&&kG(p[1],w,k[1])){return b}}}f&&j(k[0],b),f&&j(k[1],b)}}return f?1/0===w?m.length-1:w===-1/0?0:d:void 0};var w1=YH,j4="itemStyle.normal",z0=function(b,c,d){var a={mainType:"series",subType:"treemap",query:d};b.eachComponent(a,function(g){var h=g.getData().tree,k=h.root,f=g.getModel(j4);if(!k.isRemoved()){var j=ZN(h.levelModels,function(e){return e?e.get(j4):null});IF(k,{},j,f,g.getViewRoot().getAncestors(),g)}})},f5=Math.max,u2=Math.min,e5=aam,t2=ZR,v2=["itemStyle","normal","borderWidth"],b5=["itemStyle","normal","gapWidth"],d5=["upperLabel","normal","show"],c5=["upperLabel","normal","height"],g5=function(b,c,d){var a={mainType:"series",subType:"treemap",query:d};b.eachComponent(a,function(q){var C=c.getWidth(),z=c.getHeight(),I=q.option,r=WU(q.getBoxLayoutParams(),{width:c.getWidth(),height:c.getHeight()}),B=I.size||[],n=E9(e5(r.width,B[0]),C),D=E9(e5(r.height,B[1]),z),H=d&&d.type,G=Gk(d,q),F="treemapRender"===H||"treemapMove"===H?d.rootRect:null,E=q.getViewRoot(),w=Dq(E);if("treemapMove"!==H){var A="treemapZoomToNode"===H?ME(q,G,E,n,D):F?[F.width,F.height]:[n,D],k=I.sort;k&&"asc"!==k&&"desc"!==k&&(k="desc");var e={squareRatio:I.squareRatio,sort:k,leafDepth:I.leafDepth};E.hostTree.clearLayouts();var j={x:0,y:0,width:A[0],height:A[1],area:A[0]*A[1]};E.setLayout(j),QE(E,e,!1,0);var j=E.getLayout();t2(w,function(f,g){var h=(w[g+1]||E).getValue();f.setLayout(YY({dataExtent:[h,h],borderWidth:0,upperHeight:0},j))})}var J=q.getData().tree.root;J.setLayout(PE(r,F,G),!0),q.setLayoutInfo(r),GF(J,new gO(-r.x,-r.y,C,z),w,E,0)})};FX(z0),OW(g5);var LV=1e-8;aa0.prototype={constructor:aa0,properties:null,getBoundingRect:function(){var k=this._rect;if(k){return k}for(var h=Number.MAX_VALUE,d=[h,h],g=[-h,-h],c=[],j=[],b=this.geometries,m=0;m<b.length;m++){if("polygon"===b[m].type){var f=b[m].exterior;L1(f,c,j),aaJ(d,d,c),aat(g,g,j)}}return 0===m&&(d[0]=d[1]=g[0]=g[1]=0),this._rect=new gO(d[0],d[1],g[0]-d[0],g[1]-d[1])},contain:function(d){var h=this.getBoundingRect(),k=this.geometries;if(!h.contain(d[0],d[1])){return !1}d:for(var c=0,j=k.length;j>c;c++){if("polygon"===k[c].type){var b=k[c].exterior,g=k[c].interiors;if(aX(b,d[0],d[1])){for(var f=0;f<(g?g.length:0);f++){if(aX(g[f])){continue d}}return !0}}}return !1},transformTo:function(A,v,j,m){var g=this.getBoundingRect(),y=g.width/g.height;j?m||(m=j/y):j=y*m;for(var b=new gO(A,v,j,m),B=g.calculateTransform(b),k=this.geometries,z=0;z<k.length;z++){if("polygon"===k[z].type){for(var p=k[z].exterior,x=k[z].interiors,w=0;w<p.length;w++){aaG(p[w],p[w],B)}for(var q=0;q<(x?x.length:0);q++){for(var w=0;w<x[q].length;w++){aaG(x[q][w],x[q][w],B)}}}}g=this._rect,g.copy(b),this.center=[g.x+g.width/2,g.y+g.height/2]}};var SR=function(a){return FF(a),ZN(Y9(a.features,function(b){return b.geometry&&b.properties&&b.geometry.coordinates.length>0}),function(d){var f=d.properties,h=d.geometry,c=h.coordinates,g=[];"Polygon"===h.type&&g.push({type:"polygon",exterior:c[0],interiors:c.slice(1)}),"MultiPolygon"===h.type&&ZR(c,function(e){e[0]&&g.push({type:"polygon",exterior:e[0],interiors:e.slice(1)})});var b=new aa0(f.name,g,f.cp);return b.properties=f,b})},BR=aaG;ZZ(oQ,tX),sO.prototype={constructor:sO,type:"view",dimensions:["x","y"],setBoundingRect:function(b,c,d,a){return this._rect=new gO(b,c,d,a),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(b,c,d,a){this.transformTo(b,c,d,a),this._viewRect=new gO(b,c,d,a)},transformTo:function(d,f,h,c){var g=this.getBoundingRect(),b=this._viewTransform;b.transform=g.calculateTransform(new gO(d,f,h,c)),b.decomposeTransform(),this._updateTransform()},setCenter:function(a){a&&(this._center=a,this._updateCenterAndZoom())},setZoom:function(a){a=a||1;var b=this.zoomLimit;b&&(null!=b.max&&(a=Math.min(b.max,a)),null!=b.min&&(a=Math.max(b.min,a))),this._zoom=a,this._updateCenterAndZoom()},getDefaultCenter:function(){var a=this.getBoundingRect(),b=a.x+a.width/2,c=a.y+a.height/2;return[b,c]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransform},_updateCenterAndZoom:function(){var b=this._viewTransform.getLocalTransform(),c=this._roamTransform,f=this.getDefaultCenter(),a=this.getCenter(),d=this.getZoom();a=aaG([],a,b),f=aaG([],f,b),c.origin=a,c.position=[f[0]-a[0],f[1]-a[1]],c.scale=[d,d],this._updateTransform()},_updateTransform:function(){var a=this._roamTransform,b=this._viewTransform;b.parent=a,a.updateTransform(),b.updateTransform(),b.transform&&Jz(this.transform||(this.transform=[]),b.transform),this.transform?(this.invTransform=this.invTransform||[],X8(this.invTransform,this.transform)):this.invTransform=null,this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var a=this.getBoundingRect().clone();return a.applyTransform(this.transform),a},dataToPoint:function(a){var b=this.transform;return b?BR([],a,b):[a[0],a[1]]},pointToData:function(a){var b=this.invTransform;return b?BR([],a,b):[a[0],a[1]]},convertToPixel:YG(hU,"dataToPoint"),convertFromPixel:YG(hU,"pointToData"),containPoint:function(a){return this.getViewRectAfterRoam().contain(a[0],a[1])}},ZZ(sO,tX);for(var q2=[126,25],r2=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,0.7],[52,0.7],[56,7.7],[59,0.7],[64,0.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],k3=0;k3<r2.length;k3++){for(var JK=0;JK<r2[k3].length;JK++){r2[k3][JK][0]/=10.5,r2[k3][JK][1]/=-14,r2[k3][JK][0]+=q2[0],r2[k3][JK][1]+=q2[1]}}var YB=function(a){"china"===a.map&&a.regions.push(new aa0("南海诸岛",ZN(r2,function(b){return{type:"polygon",exterior:b}}),q2))},PJ={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]},UE=function(a){ZR(a.regions,function(b){var c=PJ[b.name];if(c){var d=b.center;d[0]+=c[0]/10.5,d[1]+=-c[1]/14}})},OJ={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]},abM=function(a){ZR(a.regions,function(b){var c=OJ[b.name];if(c){var d=b.center;d[0]=c[0],d[1]=c[1]}})},LJ=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],KK=function(a){if("china"===a.map){for(var b=0,c=a.regions.length;c>b;++b){"台湾"===a.regions[b].name&&a.regions[b].geometries.push({type:"polygon",exterior:LJ[0]})}}},RH=[YB,UE,abM,KK];AJ.prototype={constructor:AJ,type:"geo",dimensions:["lng","lat"],containCoord:function(a){for(var b=this.regions,c=0;c<b.length;c++){if(b[c].contain(a)){return !0}}return !1},loadGeoJson:function(k,h,d){try{this.regions=k?SR(k):[]}catch(g){throw"Invalid geoJson format\n"+g.message}h=h||{},d=d||{};for(var c=this.regions,j=aaz(),b=0;b<c.length;b++){var m=c[b].name;m=d.hasOwnProperty(m)?d[m]:m,c[b].name=m,j.set(m,c[b]),this.addGeoCoord(m,c[b].center);var f=h[m];f&&c[b].transformTo(f.left,f.top,f.width,f.height)}this._regionsMap=j,this._rect=null,ZR(RH,function(a){a(this)},this)},transformTo:function(d,g,j,c){var h=this.getBoundingRect();h=h.clone(),h.y=-h.y-h.height;var b=this._viewTransform;b.transform=h.calculateTransform(new gO(d,g,j,c)),b.decomposeTransform();var f=b.scale;f[1]=-f[1],b.updateTransform(),this._updateTransform()},getRegion:function(a){return this._regionsMap.get(a)},getRegionByCoord:function(a){for(var b=this.regions,c=0;c<b.length;c++){if(b[c].contain(a)){return b[c]}}},addGeoCoord:function(a,b){this._nameCoordMap.set(a,b)},getGeoCoord:function(a){return this._nameCoordMap.get(a)},getBoundingRect:function(){if(this._rect){return this._rect}for(var b,c=this.regions,d=0;d<c.length;d++){var a=c[d].getBoundingRect();b=b||a.clone(),b.union(a)}return this._rect=b||new gO(0,0,0,0)},dataToPoint:function(a){return"string"==typeof a&&(a=this.getGeoCoord(a)),a?sO.prototype.dataToPoint.call(this,a):void 0},convertToPixel:YG(xN,"dataToPoint"),convertFromPixel:YG(xN,"pointToData")},ZZ(AJ,sO);var IK={dimensions:AJ.prototype.dimensions,create:function(b,c){var d=[];b.eachComponent("geo",function(g,f){var j=g.get("map"),e=r3(j),h=new AJ(j+f,j,e&&e.geoJson,e&&e.specialAreas,g.get("nameMap"));h.zoomLimit=g.get("scaleLimit"),d.push(h),pQ(h,g),g.coordinateSystem=h,h.model=g,h.resize=yN,h.resize(g,c)}),b.eachSeries(function(g){var h=g.get("coordinateSystem");if("geo"===h){var f=g.get("geoIndex")||0;g.coordinateSystem=d[f]}});var a={};return b.eachSeriesByType("map",function(f){if(!f.getHostGeoModel()){var g=f.getMapType();a[g]=a[g]||[],a[g].push(f)}}),ZR(a,function(f,e){var j=r3(e),h=ZN(f,function(i){return i.get("nameMap")}),g=new AJ(e,e,j&&j.geoJson,j&&j.specialAreas,Z4(h));g.zoomLimit=aam.apply(null,ZN(f,function(i){return i.get("scaleLimit")})),d.push(g),g.resize=yN,g.resize(f[0],c),ZR(f,function(i){i.coordinateSystem=g,pQ(g,i)})}),d},getFilledRegions:function(m,h,d){var g=(m||[]).slice();d=d||{};var c=r3(h),j=c&&c.geoJson;if(!j){return m}for(var b=aaz(),p=j.features,f=0;f<g.length;f++){b.set(g[f].name,g[f])}for(var f=0;f<p.length;f++){var k=p[f].properties.name;b.get(k)||(d.hasOwnProperty(k)&&(k=d[k]),g.push({name:k}))}return g}};UQ("geo",IK);var VE=QQ.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],init:function(a){this._fillOption(a,this.getMapType()),VE.superApply(this,"init",arguments),this.updateSelectedMap(a.data)},getInitialData:function(a){var b=V1(["value"],a.data||[]),c=new P4(b,this);return c.initData(a.data),c},mergeOption:function(a){this._fillOption(a,this.getMapType()),VE.superApply(this,"mergeOption",arguments),this.updateSelectedMap(this.option.data)},getHostGeoModel:function(){var a=this.option.geoIndex;return null!=a?this.dependentModels.geo[a]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(a,b){a.data=IK.getFilledRegions(a.data,b,a.nameMap)},getRawValue:function(a){return this.getData().get("value",a)},getRegionModel:function(a){var b=this.getData();return b.getItemModel(b.indexOfName(a))},formatTooltip:function(d){for(var h=this.getData(),k=jF(this.getRawValue(d)),c=h.getName(d),j=this.seriesGroup,b=[],g=0;g<j.length;g++){var f=j[g].originalData.indexOfName(c);isNaN(j[g].originalData.get("value",f))||b.push(fG(j[g].name))}return b.join(", ")+"<br />"+fG(c+" : "+k)},getTooltipPosition:function(b){if(null!=b){var c=this.getData().getName(b),d=this.coordinateSystem,a=d.getRegion(c);return a&&d.dataToPoint(a.center)}},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:0.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,color:"#000"},emphasis:{show:!0,color:"rgb(100,0,0)"}},itemStyle:{normal:{borderWidth:0.5,borderColor:"#444",areaColor:"#eee"},emphasis:{areaColor:"rgba(255,215,0,0.8)"}}}});ZZ(VE,abq);var aa5={axisPointer:1,tooltip:1,brush:1};jR.prototype={constructor:jR,draw:function(E,z,k,w,j){var C="geo"===E.mainType,b=E.getData&&E.getData();C&&z.eachComponent({mainType:"series",subType:"map"},function(a){b||a.getHostGeoModel()!==E||(b=a.getData())});var F=E.coordinateSystem,v=this.group,D=F.scale,x={position:F.position,scale:D};!v.childAt(0)||j?v.attr(x):iX(v,x,E),v.removeAll();var B=["itemStyle","normal"],A=["itemStyle","emphasis"],y=["label","normal"],f=["label","emphasis"],q=aaz();ZR(F.regions,function(Q){var N=q.get(Q.name)||q.set(Q.name,new TH),O=new lU({shape:{paths:[]}});N.add(O);var K,G=E.getRegionModel(Q.name)||E,P=G.getModel(B),t=G.getModel(A),l=CJ(P,D),p=CJ(t,D),U=G.getModel(y),R=G.getModel(f);if(b){K=b.indexOfName(Q.name);var r=b.getItemVisual(K,"color",!0);r&&(l.fill=r)}ZR(Q.geometries,function(h){if("polygon"===h.type){O.shape.paths.push(new oU({shape:{points:h.exterior}}));for(var i=0;i<(h.interiors?h.interiors.length:0);i++){O.shape.paths.push(new oU({shape:{points:h.interiors[i]}}))}}}),O.setStyle(l),O.style.strokeNoScale=!0,O.culling=!0;var c=U.get("show"),d=R.get("show"),m=b&&isNaN(b.get("value",K)),a=b&&b.getItemLayout(K);if(C||m&&(c||d)||a&&a.showLabel){var J,u=C?Q.name:K;(!b||K>=0)&&(J=E);var H=new PG({position:Q.center.slice(),scale:[1/D[0],1/D[1]],z2:10,silent:!0});Yz(H.style,H.hoverStyle={},U,R,{labelFetcher:J,labelDataIndex:u,defaultText:Q.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),N.add(H)}if(b){b.setItemGraphicEl(K,N)}else{var G=E.getRegionModel(Q.name);O.eventData={componentType:"geo",geoIndex:E.componentIndex,name:Q.name,region:G&&G.option||{}}}var g=N.__regions||(N.__regions=[]);g.push(Q),Z9(N,p,{hoverSilentOnTouch:!!E.get("selectedMode")}),v.add(N)}),this._updateController(E,z,k),nQ(this,E,v,k,w),wN(E,v)},remove:function(){this.group.removeAll(),this._controller.dispose(),this._controllerHost={}},_updateController:function(f,h,k){function d(){var a={type:"geoRoam",componentType:b};return a[b+"Id"]=f.id,a}var j=f.coordinateSystem,c=this._controller,g=this._controllerHost;g.zoomLimit=f.get("scaleLimit"),g.zoom=j.getZoom(),c.enable(f.get("roam")||!1);var b=f.mainType;c.off("pan").on("pan",function(a,i){this._mouseDownFlag=!1,lQ(g,a,i),k.dispatchAction(YY(d(),{dx:a,dy:i}))},this),c.off("zoom").on("zoom",function(n,p,q){if(this._mouseDownFlag=!1,RB(g,n,p,q),k.dispatchAction(YY(d(),{zoom:n,originX:p,originY:q})),this._updateGroup){var m=this.group,i=m.scale;m.traverse(function(a){"text"===a.type&&a.attr("scale",[1/i[0],1/i[1]])})}},this),c.setPointerChecker(function(n,m,l){return j.getViewRectAfterRoam().contain(m,l)&&!mQ(n,k,f)})}},EY({type:"map",render:function(d,f,h,c){if(!c||"mapToggleSelect"!==c.type||c.from!==this.uid){var g=this.group;if(g.removeAll(),!d.getHostGeoModel()){if(c&&"geoRoam"===c.type&&"series"===c.componentType&&c.seriesId===d.id){var b=this._mapDraw;b&&g.add(b.group)}else{if(d.needsDrawMap){var b=this._mapDraw||new jR(h,!0);g.add(b.group),b.draw(d,f,h,this,c),this._mapDraw=b}else{this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null}}d.get("showLegendSymbol")&&f.getComponent("legend")&&this._renderSymbols(d,f,h)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(a){var b=a.originalData,c=this.group;b.each("value",function(t,k){if(!isNaN(t)){var F=b.getItemLayout(k);if(F&&F.point){var e=F.point,I=F.offset,q=new GH({style:{fill:a.getData().getVisual("color")},shape:{cx:e[0]+9*I,cy:e[1],r:3},silent:!0,z2:I?8:10});if(!I){var H=a.mainSeries.getData(),w=b.getName(k),C=H.indexOfName(w),B=b.getItemModel(k),A=B.getModel("label.normal"),z=B.getModel("label.emphasis"),j=H.getItemGraphicEl(C),n=aa3(a.getFormattedLabel(k,"normal"),w),G=aa3(a.getFormattedLabel(k,"emphasis"),n),D=function(){var d=WB({},z,{text:z.get("show")?G:null},{isRectText:!0,useInsideStyle:!1},!0);q.style.extendFrom(d),q.__mapOriginalZ2=q.z2,q.z2+=1},E=function(){WB(q.style,A,{text:A.get("show")?n:null,textPosition:A.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),null!=q.__mapOriginalZ2&&(q.z2=q.__mapOriginalZ2,q.__mapOriginalZ2=null)};j.on("mouseover",D).on("mouseout",E).on("emphasis",D).on("normal",E),E()}c.add(q)}}})}}),VQ({type:"geoRoam",event:"geoRoam",update:"updateLayout"},function(a,b){var c=a.componentType||"series";b.eachComponent({mainType:c,query:a},function(f){var d=f.coordinateSystem;if("geo"===d.type){var g=zK(d,a,f.get("scaleLimit"));f.setCenter&&f.setCenter(g.center),f.setZoom&&f.setZoom(g.zoom),"series"===c&&ZR(f.seriesGroup,function(e){e.setCenter(g.center),e.setZoom(g.zoom)})}})});var aaa=function(a){var b={};a.eachSeriesByType("map",function(f){var d=f.getMapType();if(!f.getHostGeoModel()&&!b[d]){var e={};ZR(f.seriesGroup,function(h){var j=h.coordinateSystem,g=h.originalData;h.get("showLegendSymbol")&&a.getComponent("legend")&&g.each("value",function(m,p){var k=g.getName(p),o=j.getRegion(k);if(o&&!isNaN(m)){var n=e[k]||0,i=j.dataToPoint(o.center);e[k]=n+1,g.setItemLayout(p,{point:i,offset:n})}})});var c=f.getData();c.each(function(g){var h=c.getName(g),i=c.getItemLayout(g)||{};i.showLabel=!e[h],c.setItemLayout(g,i)}),b[d]=!0}})},XE=function(a){a.eachSeriesByType("map",function(c){var d=c.get("color"),g=c.getModel("itemStyle.normal"),b=g.get("areaColor"),f=g.get("color")||d[c.seriesIndex%d.length];c.getData().setVisual({areaColor:b,color:f})})},WE=function(a){var b={};a.eachSeriesByType("map",function(d){var e=d.getHostGeoModel(),c=e?"o"+e.id:"i"+d.getMapType();(b[c]=b[c]||[]).push(d)}),ZR(b,function(c){for(var d=fU(ZN(c,function(e){return e.getData()}),c[0].get("mapValueCalculation")),f=0;f<c.length;f++){c[f].originalData=c[f].getData()}for(var f=0;f<c.length;f++){c[f].seriesGroup=c,c[f].needsDrawMap=0===f&&!c[f].getHostGeoModel(),c[f].setData(d.cloneShallow()),c[f].mainSeries=c[0]}})},NJ=function(a){var b=[];ZR(a.series,function(c){c&&"map"===c.type&&(b.push(c),c.map=c.map||c.mapType,YW(c,c.mapLocation))})};OW(aaa),FX(XE),Y1(j1.PROCESSOR.STATISTIC,WE),TQ(NJ),pF("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]);var QJ=QQ.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.normal.color",init:function(a){uO(a),QJ.superApply(this,"init",arguments)},mergeOption:function(a){uO(a),QJ.superApply(this,"mergeOption",arguments)},getInitialData:function(a){var b=new P4(["value"],this);return b.hasItemOption=!1,b.initData(a.data,[],function(e,g,d,f){if(e instanceof Array){return 0/0}b.hasItemOption=!0;var c=e.value;return null!=c?c instanceof Array?c[f]:c:void 0}),b},formatTooltip:function(d){var g=this.getData(),j=g.getItemModel(d),c=j.get("name");if(c){return c}var h=j.get("fromName"),b=j.get("toName"),f=[];return null!=h&&f.push(h),null!=b&&f.push(b),fG(f.join(" > "))},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:0.2},large:!1,largeThreshold:2000,polyline:!1,label:{normal:{show:!1,position:"end"}},lineStyle:{normal:{opacity:0.5}}}}),HK=AN.prototype,EN=yQ.prototype,FK=bG({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(a,b){(eU(b)?HK:EN).buildPath(a,b)},pointAt:function(a){return eU(this.shape)?HK.pointAt.call(this,a):EN.pointAt.call(this,a)},tangentAt:function(a){var b=this.shape,c=eU(b)?[b.x2-b.x1,b.y2-b.y1]:EN.tangentAt.call(this,a);return aak(c,c)}}),a9=["fromSymbol","toSymbol"],abC=gU.prototype;abC.beforeUpdate=cU,abC._createLine=function(d,g,j){var c=d.hostModel,h=d.getItemLayout(g),b=bW(h);b.shape.percent=0,oV(b,{shape:{percent:1}},c,g),this.add(b);var f=new PG({name:"label"});this.add(f),ZR(a9,function(e){var a=vO(e,d,g);this.add(a),this[tO(e)]=d.getItemVisual(g,e)},this),this._updateCommonStl(d,g,j)},abC.updateData=function(d,g,j){var c=d.hostModel,h=this.childOfName("line"),b=d.getItemLayout(g),f={shape:{}};dU(f.shape,b),iX(h,f,c,g),ZR(a9,function(m){var k=d.getItemVisual(g,m),l=tO(m);if(this[l]!==k){this.remove(this.childOfName(m));var e=vO(m,d,g);this.add(e)}this[l]=k},this),this._updateCommonStl(d,g,j)},abC._updateCommonStl=function(z,J,D){var G=z.hostModel,C=this.childOfName("line"),N=D&&D.lineStyle,A=D&&D.hoverLineStyle,F=D&&D.labelModel,s=D&&D.hoverLabelModel;if(!D||z.hasItemOption){var H=z.getItemModel(J);N=H.getModel("lineStyle.normal").getLineStyle(),A=H.getModel("lineStyle.emphasis").getLineStyle(),F=H.getModel("label.normal"),s=H.getModel("label.emphasis")}var L=z.getItemVisual(J,"color"),K=aaU(z.getItemVisual(J,"opacity"),N.opacity,1);C.useStyle(YW({strokeNoScale:!0,fill:"none",stroke:L,opacity:K},N)),C.hoverStyle=A,ZR(a9,function(a){var b=this.childOfName(a);b&&(b.setColor(L),b.setStyle({opacity:K}))},this);var I,B,E,q,f=F.getShallow("show"),j=s.getShallow("show"),O=this.childOfName("label");if(f||j){var M=G.getRawValue(J);B=null==M?B=z.getName(J):isFinite(M)?iG(M):M,I=L||"#000",E=aa3(G.getFormattedLabel(J,"normal",z.dataType),B),q=aa3(G.getFormattedLabel(J,"emphasis",z.dataType),E)}if(f){var k=WB(O.style,F,{text:E},{autoColor:I});O.__textAlign=k.textAlign,O.__verticalAlign=k.textVerticalAlign,O.__position=F.get("position")||"middle"}else{O.setStyle("text",null)}O.hoverStyle=j?{text:q,textFill:s.getTextColor(!0),fontStyle:s.getShallow("fontStyle"),fontWeight:s.getShallow("fontWeight"),fontSize:s.getShallow("fontSize"),fontFamily:s.getShallow("fontFamily")}:{text:null},O.ignore=!f&&!j,Z9(this)},abC.highlight=function(){this.trigger("emphasis")},abC.downplay=function(){this.trigger("normal")},abC.updateLayout=function(a,b){this.setLinePoints(a.getItemLayout(b))},abC.setLinePoints=function(a){var b=this.childOfName("line");dU(b.shape,a),b.dirty()},ZK(gU,TH);var GK=BK.prototype;GK.updateData=function(d){var f=this._lineData,h=this.group,c=this._ctor,g=d.hostModel,b={lineStyle:g.getModel("lineStyle.normal").getLineStyle(),hoverLineStyle:g.getModel("lineStyle.emphasis").getLineStyle(),labelModel:g.getModel("label.normal"),hoverLabelModel:g.getModel("label.emphasis")};d.diff(f).add(function(a){if(Sz(d.getItemLayout(a))){var i=new c(d,a,b);d.setItemGraphicEl(a,i),h.add(i)}}).update(function(i,e){var a=f.getItemGraphicEl(e);return Sz(d.getItemLayout(i))?(a?a.updateData(d,i,b):a=new c(d,i,b),d.setItemGraphicEl(i,a),void h.add(a)):void h.remove(a)}).remove(function(a){h.remove(f.getItemGraphicEl(a))}).execute(),this._lineData=d},GK.updateLayout=function(){var a=this._lineData;a.eachItemGraphicEl(function(b,c){b.updateLayout(a,c)},this)},GK.remove=function(){this.group.removeAll()};var jX=qO.prototype;jX.createLine=function(a,b,c){return new gU(a,b,c)},jX._updateEffectSymbol=function(d,h){var k=d.getItemModel(h),c=k.getModel("effect"),j=c.get("symbolSize"),b=c.get("symbol");YH(j)||(j=[j,j]);var g=c.get("color")||d.getItemVisual(h,"color"),f=this.childAt(1);this._symbolType!==b&&(this.remove(f),f=xq(b,-0.5,-0.5,1,1,g),f.z2=100,f.culling=!0,this.add(f)),f&&(f.setStyle("shadowColor",g),f.setStyle(c.getItemStyle(["color"])),f.attr("scale",j),f.setColor(g),f.attr("scale",j),this._symbolType=b,this._updateEffectAnimation(d,c,h))},jX._updateEffectAnimation=function(y,p,g){var k=this.childAt(1);if(k){var f=this,w=y.getItemLayout(g),b=1000*p.get("period"),z=p.get("loop"),j=p.get("constantSpeed"),x=aam(p.get("delay"),function(a){return a/y.count()*b/3}),m="function"==typeof x;if(k.ignore=!0,this.updateAnimationPoints(k,w),j>0&&(b=this.getLineLength(k)/j*1000),b!==this._period||z!==this._loop){k.stopAnimation();var v=x;m&&(v=x(g)),k.__t>0&&(v=-b*k.__t),k.__t=0;var q=k.animate("",z).when(b,{__t:1}).delay(v).during(function(){f.updateSymbolPosition(k)});z||q.done(function(){f.remove(k)}),q.start()}this._period=b,this._loop=z}},jX.getLineLength=function(a){return oY(a.__p1,a.__cp1)+oY(a.__cp1,a.__p2)},jX.updateAnimationPoints=function(a,b){a.__p1=b[0],a.__p2=b[1],a.__cp1=b[2]||[(b[0][0]+b[1][0])/2,(b[0][1]+b[1][1])/2]},jX.updateData=function(a,b,c){this.childAt(0).updateData(a,b,c),this._updateEffectSymbol(a,b)},jX.updateSymbolPosition=function(m){var h=m.__p1,d=m.__p2,g=m.__cp1,c=m.__t,j=m.position,b=P1,p=G2;j[0]=b(h[0],g[0],d[0],c),j[1]=b(h[1],g[1],d[1],c);var f=p(h[0],g[0],d[0],c),k=p(h[1],g[1],d[1],c);m.rotation=-Math.atan2(k,f)-Math.PI/2,m.ignore=!1},jX.updateLayout=function(a,b){this.childAt(0).updateLayout(a,b);var c=a.getItemModel(b).getModel("effect");this._updateEffectAnimation(a,c,b)},ZK(qO,TH);var pW=rO.prototype;pW._createPolyline=function(b,c,f){var a=b.getItemLayout(c),d=new sR({shape:{points:a}});this.add(d),this._updateCommonStl(b,c,f)},pW.updateData=function(d,f,h){var c=d.hostModel,g=this.childAt(0),b={shape:{points:d.getItemLayout(f)}};iX(g,b,c,f),this._updateCommonStl(d,f,h)},pW._updateCommonStl=function(f,h,k){var d=this.childAt(0),j=f.getItemModel(h),c=f.getItemVisual(h,"color"),g=k&&k.lineStyle,b=k&&k.hoverLineStyle;(!k||f.hasItemOption)&&(g=j.getModel("lineStyle.normal").getLineStyle(),b=j.getModel("lineStyle.emphasis").getLineStyle()),d.useStyle(YW({strokeNoScale:!0,fill:"none",stroke:c},g)),d.hoverStyle=b,Z9(this)},pW.updateLayout=function(a,b){var c=this.childAt(0);c.setShape("points",a.getItemLayout(b))},ZK(rO,TH);var tV=kQ.prototype;tV.createLine=function(a,b,c){return new rO(a,b,c)},tV.updateAnimationPoints=function(d,g){this._points=g;for(var j=[0],c=0,h=1;h<g.length;h++){var b=g[h-1],f=g[h];c+=oY(b,f),j.push(c)}if(0!==c){for(var h=0;h<j.length;h++){j[h]/=c}this._offsets=j,this._length=c}},tV.getLineLength=function(){return this._length},tV.updateSymbolPosition=function(m){var h=m.__t,d=this._points,g=this._offsets,c=d.length;if(g){var j,b=this._lastFrame;if(h<this._lastFramePercent){var p=Math.min(b+1,c-1);for(j=p;j>=0&&!(g[j]<=h);j--){}j=Math.min(j,c-2)}else{for(var j=b;c>j&&!(g[j]>h);j++){}j=Math.min(j-1,c-2)}abv(m.position,d[j],d[j+1],(h-g[j])/(g[j+1]-g[j]));var f=d[j+1][0]-d[j][0],k=d[j+1][1]-d[j][1];m.rotation=-Math.atan2(k,f)-Math.PI/2,this._lastFrame=j,this._lastFramePercent=h,m.ignore=!1}},ZK(kQ,qO);var iY=bG({shape:{polyline:!1,segs:[]},buildPath:function(d,g){for(var j=g.segs,c=g.polyline,h=0;h<j.length;h++){var b=j[h];if(c){d.moveTo(b[0][0],b[0][1]);for(var f=1;f<b.length;f++){d.lineTo(b[f][0],b[f][1])}}else{d.moveTo(b[0][0],b[0][1]),b.length>2?d.quadraticCurveTo(b[2][0],b[2][1],b[1][0],b[1][1]):d.lineTo(b[1][0],b[1][1])}}},findDataIndex:function(k,h){for(var d=this.shape,g=d.segs,c=d.polyline,j=Math.max(this.style.lineWidth,1),b=0;b<g.length;b++){var m=g[b];if(c){for(var f=1;f<m.length;f++){if(aH(m[f-1][0],m[f-1][1],m[f][0],m[f][1],j,k,h)){return b}}}else{if(m.length>2){if(E3(m[0][0],m[0][1],m[2][0],m[2][1],m[1][0],m[1][1],j,k,h)){return b}}else{if(aH(m[0][0],m[0][1],m[1][0],m[1][1],j,k,h)){return b}}}}return -1}}),A2=IB.prototype;A2.updateData=function(b){this.group.removeAll();var c=this._lineEl,d=b.hostModel;c.setShape({segs:b.mapArray(b.getItemLayout),polyline:d.get("polyline")}),c.useStyle(d.getModel("lineStyle.normal").getLineStyle());var a=b.getVisual("color");a&&c.setStyle("stroke",a),c.setStyle("fill"),c.seriesIndex=d.seriesIndex,c.on("mousemove",function(e){c.dataIndex=null;var f=c.findDataIndex(e.offsetX,e.offsetY);f>0&&(c.dataIndex=f)}),this.group.add(c)},A2.updateLayout=function(a){var b=a.getData();this._lineEl.setShape({segs:b.mapArray(b.getItemLayout)})},A2.remove=function(){this.group.removeAll()},EY({type:"lines",init:function(){},render:function(w,m,f){var j=w.getData(),d=this._lineDraw,q=w.get("effect.show"),b=w.get("polyline"),x=w.get("large")&&j.count()>=w.get("largeThreshold");(q!==this._hasEffet||b!==this._isPolyline||x!==this._isLarge)&&(d&&d.remove(),d=this._lineDraw=x?new IB:new BK(b?q?kQ:rO:q?qO:gU),this._hasEffet=q,this._isPolyline=b,this._isLarge=x);var g=w.get("zlevel"),v=w.get("effect.trailLength"),k=f.getZr(),p="svg"===k.painter.getType();p||k.painter.getLayer(g).clear(!0),null==this._lastZlevel||p||k.configLayer(this._lastZlevel,{motionBlur:!1}),q&&v&&(p||k.configLayer(g,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(v/10+0.9,1),0)})),this.group.add(d.group),d.updateData(j),this._lastZlevel=g},updateLayout:function(b,c,f){this._lineDraw.updateLayout(b);var a=f.getZr(),d="svg"===a.painter.getType();d||a.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(b,c){this._lineDraw&&this._lineDraw.remove(c,!0);var d=c.getZr(),a="svg"===d.painter.getType();a||d.painter.getLayer(this._lastZlevel).clear(!0)},dispose:function(){}});var yU=function(a){a.eachSeriesByType("lines",function(b){var c=b.coordinateSystem,d=b.getData();d.each(function(g){var k=d.getItemModel(g),f=k.option instanceof Array?k.option:k.get("coords"),j=[];if(b.get("polyline")){for(var h=0;h<f.length;h++){j.push(c.dataToPoint(f[h]))}}else{j[0]=c.dataToPoint(f[0]),j[1]=c.dataToPoint(f[1]);var e=k.get("lineStyle.normal.curveness");+e&&(j[2]=[(j[0][0]+j[1][0])/2-(j[0][1]-j[1][1])*e,(j[0][1]+j[1][1])/2-(j[1][0]-j[0][0])*e])}d.setItemLayout(g,j)})})},zR=function(a){a.eachSeriesByType("lines",function(c){var d=c.getData(),g=Xj(c.get("symbol")),b=Xj(c.get("symbolSize")),f="lineStyle.normal.opacity".split(".");d.setVisual("fromSymbol",g&&g[0]),d.setVisual("toSymbol",g&&g[1]),d.setVisual("fromSymbolSize",b&&b[0]),d.setVisual("toSymbolSize",b&&b[1]),d.setVisual("opacity",c.get(f)),d.each(function(j){var l=d.getItemModel(j),h=Xj(l.getShallow("symbol",!0)),e=Xj(l.getShallow("symbolSize",!0)),k=l.get(f);h[0]&&d.setItemVisual(j,"fromSymbol",h[0]),h[1]&&d.setItemVisual(j,"toSymbol",h[1]),e[0]&&d.setItemVisual(j,"fromSymbolSize",e[0]),e[1]&&d.setItemVisual(j,"toSymbolSize",e[1]),d.setItemVisual(j,"opacity",k)})})};OW(yU),FX(zR);var qV=function(a){this._directed=a||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},mW=qV.prototype;mW.type="graph",mW.isDirected=function(){return this._directed},mW.addNode=function(b,c){b=b||""+c;var d=this._nodesMap;if(!d[Oz(b)]){var a=new Tj(b,c);return a.hostGraph=this,this.nodes.push(a),d[Oz(b)]=a,a}},mW.getNodeByIndex=function(a){var b=this.data.getRawIndex(a);return this.nodes[b]},mW.getNodeById=function(a){return this._nodesMap[Oz(a)]},mW.addEdge=function(d,g,j){var c=this._nodesMap,h=this._edgesMap;if("number"==typeof d&&(d=this.nodes[d]),"number"==typeof g&&(g=this.nodes[g]),d instanceof Tj||(d=c[Oz(d)]),g instanceof Tj||(g=c[Oz(g)]),d&&g){var b=d.id+"-"+g.id;if(!h[b]){var f=new Nz(d,g,j);return f.hostGraph=this,this._directed&&(d.outEdges.push(f),g.inEdges.push(f)),d.edges.push(f),d!==g&&g.edges.push(f),this.edges.push(f),h[b]=f,f}}},mW.getEdgeByIndex=function(a){var b=this.edgeData.getRawIndex(a);return this.edges[b]},mW.getEdge=function(a,b){a instanceof Tj&&(a=a.id),b instanceof Tj&&(b=b.id);var c=this._edgesMap;return this._directed?c[a+"-"+b]:c[a+"-"+b]||c[b+"-"+a]},mW.eachNode=function(b,c){for(var f=this.nodes,a=f.length,d=0;a>d;d++){f[d].dataIndex>=0&&b.call(c,f[d],d)}},mW.eachEdge=function(b,c){for(var f=this.edges,a=f.length,d=0;a>d;d++){f[d].dataIndex>=0&&f[d].node1.dataIndex>=0&&f[d].node2.dataIndex>=0&&b.call(c,f[d],d)}},mW.breadthFirstTraverse=function(q,k,d,g){if(k instanceof Tj||(k=this._nodesMap[Oz(k)]),k){for(var c="out"===d?"outEdges":"in"===d?"inEdges":"edges",m=0;m<this.nodes.length;m++){this.nodes[m].__visited=!1}if(!q.call(g,k,null)){for(var b=[k];b.length;){for(var v=b.shift(),f=v[c],m=0;m<f.length;m++){var p=f[m],j=p.node1===v?p.node2:p.node1;if(!j.__visited){if(q.call(g,j,v)){return}b.push(j),j.__visited=!0}}}}}},mW.update=function(){for(var d=this.data,f=this.edgeData,h=this.nodes,c=this.edges,g=0,b=h.length;b>g;g++){h[g].dataIndex=-1}for(var g=0,b=d.count();b>g;g++){h[d.getRawIndex(g)].dataIndex=g}f.filterSelf(function(a){var e=c[f.getRawIndex(a)];return e.node1.dataIndex>=0&&e.node2.dataIndex>=0});for(var g=0,b=c.length;b>g;g++){c[g].dataIndex=-1}for(var g=0,b=f.count();b>g;g++){c[f.getRawIndex(g)].dataIndex=g}},mW.clone=function(){for(var b=new qV(this._directed),c=this.nodes,f=this.edges,a=0;a<c.length;a++){b.addNode(c[a].id,c[a].dataIndex)}for(var a=0;a<f.length;a++){var d=f[a];b.addEdge(d.node1.id,d.node2.id,d.dataIndex)}return b},Tj.prototype={constructor:Tj,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(a){if(!(this.dataIndex<0)){var b=this.hostGraph,c=b.data.getItemModel(this.dataIndex);return c.getModel(a)}}},Nz.prototype.getModel=function(a){if(!(this.dataIndex<0)){var b=this.hostGraph,c=b.edgeData.getItemModel(this.dataIndex);return c.getModel(a)}};var SG=function(a,b){return{getValue:function(d){var c=this[a][b];return c.get(c.getDimension(d||"value"),this.dataIndex)},setVisual:function(d,c){this.dataIndex>=0&&this[a][b].setItemVisual(this.dataIndex,d,c)},getVisual:function(d,c){return this[a][b].getItemVisual(this.dataIndex,d,c)},setLayout:function(d,c){this.dataIndex>=0&&this[a][b].setItemLayout(this.dataIndex,d,c)},getLayout:function(){return this[a][b].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[a][b].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[a][b].getRawIndex(this.dataIndex)}}};ZZ(Tj,SG("hostGraph","data")),ZZ(Nz,SG("hostGraph","edgeData")),qV.Node=Tj,qV.Edge=Nz;var nW=function(k,G,z,C,y){for(var J=new qV(C),w=0;w<k.length;w++){J.addNode(aam(k[w].id,k[w].name,w),w)}for(var q=[],B=[],j=0,w=0;w<G.length;w++){var D=G[w],I=D.source,H=D.target;J.addEdge(I,H,j)&&(B.push(D),q.push(aam(D.id,I+" > "+H)),j++)}var F,E=z.get("coordinateSystem");if("cartesian2d"===E||"polar"===E){F=F6(k,z,z.ecModel)}else{var x=LY.get(E),A=V1((x&&"view"!==x.type?x.dimensions||[]:[]).concat(["value"]),k);F=new P4(A,z),F.initData(k)}var b=new P4(["value"],z);return b.initData(B,q),y&&y(F,b),d4({mainData:F,struct:J,structAttr:"graph",datas:{node:F,edge:b},datasAttr:{node:"data",edge:"edgeData"}}),J.update(),J},DN=aar({type:"series.graph",init:function(a){DN.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(a.edges||a.links),this._updateCategoriesData()},mergeOption:function(a){DN.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(a.edges||a.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(a){DN.superApply(this,"mergeDefaultAndTheme",arguments),wR(a.edgeLabel,["show"])},getInitialData:function(d,f){function h(e,l){function a(i){return i=this.parsePath(i),i&&"label"===i[0]?j:this.parentModel}e.wrapMethod("getItemModel",function(o){var p=b._categoriesModels,q=o.getShallow("category"),m=p[q];return m&&(m.parentModel=o.parentModel,o.parentModel=m),o});var k=b.getModel("edgeLabel"),j=new RG({label:k.option},k.parentModel,f);l.wrapMethod("getItemModel",function(i){return i.customizeGetParent(a),i})}var c=d.edges||d.links||[],g=d.data||d.nodes||[],b=this;return g&&c?nW(g,c,this,!0,h).data:void 0},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(k,h,d){if("edge"===d){var g=this.getData(),c=this.getDataParams(k,d),j=g.graph.getEdgeByIndex(k),b=g.getName(j.node1.dataIndex),m=g.getName(j.node2.dataIndex),f=[];return null!=b&&f.push(b),null!=m&&f.push(m),f=fG(f.join(" > ")),c.value&&(f+=" : "+fG(c.value)),f}return DN.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var a=ZN(this.option.categories||[],function(c){return null!=c.value?c:YY({value:0},c)}),b=new P4(["value"],this);b.initData(a),this._categoriesData=b,this._categoriesModels=b.mapArray(function(c){return b.getItemModel(c,!0)})},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a},isAnimationEnabled:function(){return DN.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:0.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{normal:{position:"middle"},emphasis:{}},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:0.6,label:{normal:{show:!1,formatter:"{b}"},emphasis:{show:!0}},itemStyle:{normal:{},emphasis:{}},lineStyle:{normal:{color:"#aaa",width:1,curveness:0,opacity:0.5},emphasis:{}}}}),oW=[],xU=[],kW=[],AQ=P1,gY=kY,vV=Math.abs,fY=function(d,h){function k(a){var i=a.getVisual("symbolSize");return i instanceof Array&&(i=(i[0]+i[1])/2),i}var c=[],j=VX,b=[[],[],[]],g=[[],[]],f=[];h/=2,d.eachEdge(function(i){var a=i.getLayout(),e=i.getVisual("fromSymbol"),m=i.getVisual("toSymbol");a.__original||(a.__original=[aaj(a[0]),aaj(a[1])],a[2]&&a.__original.push(aaj(a[2])));var p=a.__original;if(null!=a[2]){if(aaZ(b[0],p[0]),aaZ(b[1],p[2]),aaZ(b[2],p[1]),e&&"none"!=e){var o=k(i.node1),n=abw(b,p[0],o*h);j(b[0][0],b[1][0],b[2][0],n,c),b[0][0]=c[3],b[1][0]=c[4],j(b[0][1],b[1][1],b[2][1],n,c),b[0][1]=c[3],b[1][1]=c[4]}if(m&&"none"!=m){var o=k(i.node2),n=abw(b,p[1],o*h);j(b[0][0],b[1][0],b[2][0],n,c),b[1][0]=c[1],b[2][0]=c[2],j(b[0][1],b[1][1],b[2][1],n,c),b[1][1]=c[1],b[2][1]=c[2]}aaZ(a[0],b[0]),aaZ(a[1],b[2]),aaZ(a[2],b[1])}else{if(aaZ(g[0],p[0]),aaZ(g[1],p[1]),aaQ(f,g[1],g[0]),aak(f,f),e&&"none"!=e){var o=k(i.node1);aaL(g[0],g[0],f,o*h)}if(m&&"none"!=m){var o=k(i.node2);aaL(g[1],g[1],f,-o*h)}aaZ(a[0],g[0]),aaZ(a[1],g[1])}})},uV=["itemStyle","normal","opacity"],wU=["lineStyle","normal","opacity"];EY({type:"graph",init:function(b,c){var f=new SQ,a=new BK,d=this.group;this._controller=new pG(c.getZr()),this._controllerHost={target:d},d.add(f.group),d.add(a.group),this._symbolDraw=f,this._lineDraw=a,this._firstRender=!0},render:function(C,x,k){var p=C.coordinateSystem;this._model=C,this._nodeScaleRatio=C.get("nodeScaleRatio");var j=this._symbolDraw,A=this._lineDraw,b=this.group;if("view"===p.type){var D={position:p.position,scale:p.scale};this._firstRender?b.attr(D):iX(b,D,C)}fY(C.getGraph(),this._getNodeGlobalScale(C));var m=C.getData();j.updateData(m);var B=C.getEdgeData();A.updateData(B),this._updateNodeAndLinkScale(),this._updateController(C,x,k),clearTimeout(this._layoutTimeout);var q=C.forceLayout,z=C.get("force.layoutAnimation");q&&this._startForceLayoutIteration(q,z),m.eachItemGraphicEl(function(f,d){var g=m.getItemModel(d);f.off("drag").off("dragend");var c=m.getItemModel(d).get("draggable");c&&f.on("drag",function(){q&&(q.warmUp(),!this._layouting&&this._startForceLayoutIteration(q,z),q.setFixed(d),m.setItemLayout(d,f.position))},this).on("dragend",function(){q&&q.setUnfixed(d)},this),f.setDraggable(c&&q),f.off("mouseover",f.__focusNodeAdjacency),f.off("mouseout",f.__unfocusNodeAdjacency),g.get("focusNodeAdjacency")&&(f.on("mouseover",f.__focusNodeAdjacency=function(){k.dispatchAction({type:"focusNodeAdjacency",seriesId:C.id,dataIndex:f.dataIndex})}),f.on("mouseout",f.__unfocusNodeAdjacency=function(){k.dispatchAction({type:"unfocusNodeAdjacency",seriesId:C.id})}))},this),m.graph.eachEdge(function(c){var a=c.getGraphicEl();a.off("mouseover",a.__focusNodeAdjacency),a.off("mouseout",a.__unfocusNodeAdjacency),c.getModel().get("focusNodeAdjacency")&&(a.on("mouseover",a.__focusNodeAdjacency=function(){k.dispatchAction({type:"focusNodeAdjacency",seriesId:C.id,edgeDataIndex:c.dataIndex})}),a.on("mouseout",a.__unfocusNodeAdjacency=function(){k.dispatchAction({type:"unfocusNodeAdjacency",seriesId:C.id})}))});var y="circular"===C.get("layout")&&C.get("circular.rotateLabel"),w=m.getLayout("cx"),v=m.getLayout("cy");m.eachItemGraphicEl(function(f,h){var s=f.getSymbolPath();if(y){var d=m.getItemLayout(h),l=Math.atan2(d[1]-v,d[0]-w);0>l&&(l=2*Math.PI+l);var c=d[0]<w;c&&(l-=Math.PI);var g=c?"left":"right";s.setStyle({textRotation:-l,textPosition:g,textOrigin:"center"}),s.hoverStyle&&(s.hoverStyle.textPosition=g)}else{s.setStyle({textRotation:0})}}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},focusNodeAdjacency:function(m,h,d,g){var c=this._model.getData(),j=c.graph,b=g.dataIndex,p=g.edgeDataIndex,f=j.getNodeByIndex(b),k=j.getEdgeByIndex(p);(f||k)&&(j.eachNode(function(a){JB(a,uV,0.1)}),j.eachEdge(function(a){JB(a,wU,0.1)}),f&&(Qz(f,uV),ZR(f.edges,function(a){a.dataIndex<0||(Qz(a,wU),Qz(a.node1,uV),Qz(a.node2,uV))})),k&&(Qz(k,wU),Qz(k.node1,uV),Qz(k.node2,uV)))},unfocusNodeAdjacency:function(){var a=this._model.getData().graph;a.eachNode(function(b){JB(b,uV)}),a.eachEdge(function(b){JB(b,wU)})},_startForceLayoutIteration:function(b,c){var d=this;!function a(){b.step(function(e){d.updateLayout(d._model),(d._layouting=!e)&&(c?d._layoutTimeout=setTimeout(a,16):a())})}()},_updateController:function(d,f,h){var c=this._controller,g=this._controllerHost,b=this.group;return c.setPointerChecker(function(k,a,l){var j=b.getBoundingRect();return j.applyTransform(b.transform),j.contain(a,l)&&!mQ(k,h,d)}),"view"!==d.coordinateSystem.type?void c.disable():(c.enable(d.get("roam")),g.zoomLimit=d.get("scaleLimit"),g.zoom=d.coordinateSystem.getZoom(),void c.off("pan").off("zoom").on("pan",function(j,a){lQ(g,j,a),h.dispatchAction({seriesId:d.id,type:"graphRoam",dx:j,dy:a})}).on("zoom",function(l,k,j){RB(g,l,k,j),h.dispatchAction({seriesId:d.id,type:"graphRoam",zoom:l,originX:k,originY:j}),this._updateNodeAndLinkScale(),fY(d.getGraph(),this._getNodeGlobalScale(d)),this._lineDraw.updateLayout()},this))},_updateNodeAndLinkScale:function(){var b=this._model,c=b.getData(),d=this._getNodeGlobalScale(b),a=[d,d];c.eachItemGraphicEl(function(e){e.attr("scale",a)})},_getNodeGlobalScale:function(d){var g=d.coordinateSystem;if("view"!==g.type){return 1}var j=this._nodeScaleRatio,c=g.scale,h=c&&c[0]||1,b=g.getZoom(),f=(b-1)*j+1;return f/h},updateLayout:function(a){fY(a.getGraph(),this._getNodeGlobalScale(a)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}});var cY={type:"graphRoam",event:"graphRoam",update:"none"};VQ(cY,function(a,b){b.eachComponent({mainType:"series",query:a},function(d){var f=d.coordinateSystem,c=zK(f,a);d.setCenter&&d.setCenter(c.center),d.setZoom&&d.setZoom(c.zoom)})}),VQ({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series.graph:focusNodeAdjacency"},function(){}),VQ({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series.graph:unfocusNodeAdjacency"},function(){});var eY=function(a){var b=a.findComponents({mainType:"legend"});b&&b.length&&a.eachSeriesByType("graph",function(e){var g=e.getCategoriesData(),d=e.getGraph(),f=d.data,c=g.mapArray(g.getName);f.filterSelf(function(j){var l=f.getItemModel(j),h=l.getShallow("category");if(null!=h){"number"==typeof h&&(h=c[h]);for(var k=0;k<b.length;k++){if(!b[k].isSelected(h)){return !1}}}return !0})},this)},dY=function(a){var b={};a.eachSeriesByType("graph",function(d){var f=d.getCategoriesData(),c=d.getData(),e={};f.each(function(h){var g=f.getName(h);e["ec-"+g]=h;var k=f.getItemModel(h),j=k.get("itemStyle.normal.color")||d.getColorFromPalette(g,b);f.setItemVisual(h,"color",j)}),f.count()&&c.each(function(h){var i=c.getItemModel(h),g=i.getShallow("category");null!=g&&("string"==typeof g&&(g=e["ec-"+g]),c.getItemVisual(h,"color",!0)||c.setItemVisual(h,"color",f.getItemVisual(g,"color")))})})},hY=function(a){a.eachSeriesByType("graph",function(d){var g=d.getGraph(),j=d.getEdgeData(),c=HB(d.get("edgeSymbol")),h=HB(d.get("edgeSymbolSize")),b="lineStyle.normal.color".split("."),f="lineStyle.normal.opacity".split(".");j.setVisual("fromSymbol",c&&c[0]),j.setVisual("toSymbol",c&&c[1]),j.setVisual("fromSymbolSize",h&&h[0]),j.setVisual("toSymbolSize",h&&h[1]),j.setVisual("color",d.get(b)),j.setVisual("opacity",d.get(f)),j.each(function(n){var m=j.getItemModel(n),r=g.getEdgeByIndex(n),q=HB(m.getShallow("symbol",!0)),e=HB(m.getShallow("symbolSize",!0)),k=m.get(b),p=m.get(f);switch(k){case"source":k=r.node1.getVisual("color");break;case"target":k=r.node2.getVisual("color")}q[0]&&r.setVisual("fromSymbol",q[0]),q[1]&&r.setVisual("toSymbol",q[1]),e[0]&&r.setVisual("fromSymbolSize",e[0]),e[1]&&r.setVisual("toSymbolSize",e[1]),r.setVisual("color",k),r.setVisual("opacity",p)})})},MJ=function(a){a.eachSeriesByType("graph",function(c){var d=c.get("layout"),g=c.coordinateSystem;if(g&&"view"!==g.type){var b=c.getData(),f=g.dimensions;b.each(f,function(){for(var i,l=arguments,h=[],k=0;k<f.length;k++){isNaN(l[k])||(i=!0),h.push(l[k])}var j=l[l.length-1];i?b.setItemLayout(j,g.dataToPoint(h)):b.setItemLayout(j,[0/0,0/0])}),Z2(b.graph)}else{d&&"none"!==d||Uj(c)}})},TE=function(a){a.eachSeriesByType("graph",function(b){"circular"===b.get("layout")&&X9(b)})},B1=aaL,rV=function(a){a.eachSeriesByType("graph",function(G){var B=G.coordinateSystem;if(!B||"view"===B.type){if("force"===G.get("layout")){var q=G.preservedPoints||{},x=G.getGraph(),k=x.data,E=x.edgeData,b=G.getModel("force"),H=b.get("initLayout");G.preservedPoints?k.each(function(c){var d=k.getId(c);k.setItemLayout(c,q[d]||[0/0,0/0])}):H&&"none"!==H?"circular"===H&&X9(G):Uj(G);var w=k.getDataExtent("value"),F=E.getDataExtent("value"),y=b.get("repulsion"),D=b.get("edgeLength");YH(y)||(y=[y,y]),YH(D)||(D=[D,D]),D=[D[1],D[0]];var C=k.mapArray("value",function(d,f){var g=k.getItemLayout(f),c=aaM(d,w,y);return isNaN(c)&&(c=(y[0]+y[1])/2),{w:c,rep:c,fixed:k.getItemModel(f).get("fixed"),p:!g||isNaN(g[0])||isNaN(g[1])?null:g}}),A=E.mapArray("value",function(c,d){var g=x.getEdgeByIndex(d),f=aaM(c,F,D);return isNaN(f)&&(f=(D[0]+D[1])/2),{n1:C[g.node1.dataIndex],n2:C[g.node2.dataIndex],d:f,curveness:g.getModel().get("lineStyle.normal.curveness")||0}}),B=G.coordinateSystem,z=B.getBoundingRect(),j=Wj(C,A,{rect:z,gravity:b.get("gravity")}),v=j.step;j.step=function(d){for(var f=0,c=C.length;c>f;f++){C[f].fixed&&aaZ(C[f].p,x.getNodeByIndex(f).getLayout())}v(function(o,I,g){for(var K=0,i=o.length;i>K;K++){o[K].fixed||x.getNodeByIndex(K).setLayout(o[K].p),q[k.getId(K)]=o[K].p}for(var K=0,i=I.length;i>K;K++){var J=I[K],m=x.getEdgeByIndex(K),t=J.n1.p,p=J.n2.p,n=m.getLayout();n=n?n.slice():[],n[0]=n[0]||[],n[1]=n[1]||[],aaZ(n[0],t),aaZ(n[1],p),+J.curveness&&(n[2]=[(t[0]+p[0])/2-(t[1]-p[1])*J.curveness,(t[1]+p[1])/2-(p[0]-t[0])*J.curveness]),m.setLayout(n)}d&&d(g)})},G.forceLayout=j,G.preservedPoints=q,j.step()}else{G.forceLayout=null}}})},sV=function(a,b){var c=[];return a.eachSeriesByType("graph",function(z){var m=z.get("coordinateSystem");if(!m||"view"===m){var j=z.getData(),x=j.mapArray(function(d){var f=j.getItemModel(d);return[+f.get("x"),+f.get("y")]}),e=[],A=[];L1(x,e,A),A[0]-e[0]===0&&(A[0]+=1,e[0]-=1),A[1]-e[1]===0&&(A[1]+=1,e[1]-=1);var k=(A[0]-e[0])/(A[1]-e[1]),y=Vj(z,b,k);isNaN(k)&&(e=[y.x,y.y],A=[y.x+y.width,y.y+y.height]);var n=A[0]-e[0],w=A[1]-e[1],v=y.width,q=y.height,p=z.coordinateSystem=new sO;p.zoomLimit=z.get("scaleLimit"),p.setBoundingRect(e[0],e[1],n,w),p.setViewRect(y.x,y.y,v,q),p.setCenter(z.get("center")),p.setZoom(z.get("zoom")),c.push(p)}}),c};Y1(eY),FX(YG(P9,"graph","circle",null)),FX(dY),FX(hY),OW(MJ),OW(TE),OW(rV),UQ("graphView",{create:sV});var lW=QQ.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{normal:{color:"#fff",borderWidth:1},emphasis:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});ZZ(lW,xB,!0);var JE=k6.extend({type:"boxplot",getStyleUpdater:function(){return Mz},dispose:aaS});ZZ(JE,kF,!0);var Yj=["itemStyle","normal"],PB=["itemStyle","emphasis"],Uk=["itemStyle","normal","borderColor"],OB=function(a){var b=a.get("color");a.eachRawSeriesByType("boxplot",function(e){var c=b[e.seriesIndex%b.length],d=e.getData();d.setVisual({legendSymbol:"roundRect",color:e.get(Uk)||c}),a.isSeriesFiltered(e)||d.each(function(f){var g=d.getItemModel(f);d.setItemVisual(f,{color:g.get(Uk,!0)})})})},abK=ZR,LB=function(a){var b=Pz(a);abK(b,function(c){var d=c.seriesModels;d.length&&(GB(c),abK(d,function(f,g){DE(f,c.boxOffsetList[g],c.boxWidthList[g])}))})};FX(OB),OW(LB);var KE=function(a){EE(a),aW(a)},Rz=function(b,c,f,a,d){q4.call(this,b,c,f),this.type=a||"value",this.axisIndex=d};Rz.prototype={constructor:Rz,model:null,isHorizontal:function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")}},ZK(Rz,q4);var IE=function(q,k,d,g,c,m){k[0]=FB(k[0],d),k[1]=FB(k[1],d),q=q||0;var b=d[1]-d[0];null!=c&&(c=FB(c,[0,b])),null!=m&&(m=Math.max(m,null!=c?c:0)),"all"===g&&(c=m=Math.abs(k[1]-k[0]),g=0);var v=aaX(k,g);k[g]+=q;var f=c||0,p=d.slice();v.sign<0?p[0]+=f:p[1]-=f,k[g]=FB(k[g],p);var j=aaX(k,g);null!=c&&(j.sign!==v.sign||j.span<c)&&(k[1-g]=k[g]+v.sign*c);var j=aaX(k,g);return null!=m&&j.span>m&&(k[1-g]=k[g]+j.sign*m),k},Vk=ZR,aaY=Math.min,Z3=Math.max,Xk=Math.floor,Wk=Math.ceil,NB=iG,QB=Math.PI;iQ.prototype={type:"parallel",constructor:iQ,_init:function(b,c){var d=b.dimensions,a=b.parallelAxisIndex;Vk(d,function(f,j){var i=a[j],e=c.getComponent("parallelAxis",i),h=this._axesMap.set(f,new Rz(f,d6(e),[0,0],e.get("type"),i)),g="category"===h.type;h.onBand=g&&e.get("boundaryGap"),h.inverse=e.get("inverse"),e.axis=h,h.model=e,h.coordinateSystem=e.coordinateSystem=this},this)},update:function(a){this._updateAxesFromSeries(this._model,a)},containPoint:function(d){var g=this._makeLayoutInfo(),j=g.axisBase,c=g.layoutBase,h=g.pixelDimIndex,b=d[1-h],f=d[h];return b>=j&&b<=j+g.axisLength&&f>=c&&f<=c+g.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(a,b){b.eachSeries(function(d){if(a.contains(d,b)){var c=d.getData();Vk(this.dimensions,function(f){var g=this._axesMap.get(f);g.scale.unionExtentFromData(c,f),t3(g.scale,g.model)},this)}},this)},resize:function(a,b){this._rect=WU(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var k,G=this._model,z=this._rect,C=["x","y"],y=["width","height"],J=G.get("layout"),w="horizontal"===J?0:1,q=z[y[w]],B=[0,q],j=this.dimensions.length,D=oN(G.get("axisExpandWidth"),B),I=oN(G.get("axisExpandCount")||0,[0,j]),H=G.get("axisExpandable")&&j>3&&j>I&&I>1&&D>0&&q>0,F=G.get("axisExpandWindow");if(F){k=oN(F[1]-F[0],B),F[1]=F[0]+k}else{k=oN(D*(I-1),B);var E=G.get("axisExpandCenter")||Xk(j/2);F=[D*E-k/2],F[1]=F[0]+k}var x=(q-k)/(j-I);3>x&&(x=0);var A=[Xk(NB(F[0]/D,1))+1,Wk(NB(F[1]/D,1))-1],b=x/D*F[0];return{layout:J,pixelDimIndex:w,layoutBase:z[C[w]],layoutLength:q,axisBase:z[C[1-w]],axisLength:z[y[1-w]],axisExpandable:H,axisExpandWidth:D,axisCollapseWidth:x,axisExpandWindow:F,axisCount:j,winInnerIndices:A,axisExpandWindow0Pos:b}},_layoutAxes:function(){var b=this._rect,c=this._axesMap,f=this.dimensions,a=this._makeLayoutInfo(),d=a.layout;c.each(function(g){var h=[0,a.axisLength],i=g.inverse?1:0;g.setExtent(h[i],h[1-i])}),Vk(f,function(p,g){var m=(a.axisExpandable?hQ:sK)(g,a),k={horizontal:{x:m.position,y:a.axisLength},vertical:{x:0,y:m.position}},e={horizontal:QB/2,vertical:0},i=[k[d].x+b.x,k[d].y+b.y],j=e[d],o=abu();T9(o,o,j),Hz(o,o,i),this._axesLayout[p]={position:i,rotation:j,transform:o,axisNameAvailableWidth:m.axisNameAvailableWidth,axisLabelShow:m.axisLabelShow,nameTruncateMaxWidth:m.nameTruncateMaxWidth,tickDirection:1,labelDirection:1,labelInterval:c.get(p).getLabelInterval()}},this)},getAxis:function(a){return this._axesMap.get(a)},dataToPoint:function(a,b){return this.axisCoordToPoint(this._axesMap.get(b).dataToCoord(a),b)},eachActiveState:function(A,v,j){for(var m=this.dimensions,g=this._axesMap,y=this.hasAxisBrushed(),b=0,B=A.count();B>b;b++){var k,z=A.getValues(m,b);if(y){k="active";for(var p=0,x=m.length;x>p;p++){var w=m[p],q=g.get(w).model.getActiveState(z[p],p);if("inactive"===q){k="inactive";break}}}else{k="normal"}v.call(j,k,b)}},hasAxisBrushed:function(){for(var b=this.dimensions,c=this._axesMap,f=!1,a=0,d=b.length;d>a;a++){"normal"!==c.get(b[a]).model.getActiveState()&&(f=!0)}return f},axisCoordToPoint:function(a,b){var c=this._axesLayout[b];return hX([a,0],c.transform)},getAxisLayout:function(a){return ZJ(this._axesLayout[a])},getSlidedAxisExpandWindow:function(y){var p=this._makeLayoutInfo(),g=p.pixelDimIndex,k=p.axisExpandWindow.slice(),f=k[1]-k[0],w=[0,p.axisExpandWidth*(p.axisCount-1)];if(!this.containPoint(y)){return{behavior:"none",axisExpandWindow:k}}var b,z=y[g]-p.layoutBase-p.axisExpandWindow0Pos,j="slide",x=p.axisCollapseWidth,m=this._model.get("axisExpandSlideTriggerArea"),v=null!=m[0];if(x){v&&x&&z<f*m[0]?(j="jump",b=z-f*m[2]):v&&x&&z>f*(1-m[0])?(j="jump",b=z-f*(1-m[2])):(b=z-f*m[1])>=0&&(b=z-f*(1-m[1]))<=0&&(b=0),b*=p.axisExpandWidth/x,b?IE(b,k,w,"all"):j="none"}else{var f=k[1]-k[0],q=w[1]*z/f;k=[Z3(0,q-f/2)],k[1]=aaY(w[1],k[0]+f),k[0]=k[1]-f}return{axisExpandWindow:k,behavior:j}}},LY.register("parallel",{create:AG});var HE=aa9.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return UF([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(a){var b=this.activeIntervals=ZJ(a);if(b){for(var c=b.length-1;c>=0;c--){oE(b[c])}}},getActiveState:function(b){var c=this.activeIntervals;if(!c.length){return"normal"}if(null==b){return"inactive"}for(var d=0,a=c.length;a>d;d++){if(c[d][0]<=b&&b<=c[d][1]){return"active"}}return"inactive"}}),EF={type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:0.3},realtime:!0,z:10};Y5(HE.prototype,T0),O4("parallel",HE,xJ,EF),aa9.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-0.15,0.05,0.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){aa9.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(a){var b=this.option;a&&Y5(b,a,!0),this._initDimensions()},contains:function(a,b){var c=a.get("parallelIndex");return null!=c&&b.getComponent("parallel",c)===this},setAxisExpand:function(a){ZR(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(b){a.hasOwnProperty(b)&&(this.option[b]=a[b])},this)},_initDimensions:function(){var a=this.dimensions=[],b=this.parallelAxisIndex=[],c=Y9(this.dependentModels.parallelAxis,function(d){return(d.get("parallelIndex")||0)===this.componentIndex},this);ZR(c,function(d){a.push("dim"+d.get("dim")),b.push(d.componentIndex)})}});var FE={type:"axisAreaSelect",event:"axisAreaSelected",update:"updateVisual"};VQ(FE,function(a,b){b.eachComponent({mainType:"parallelAxis",query:a},function(c){c.axis.model.setActiveIntervals(a.intervals)})}),VQ("parallelAxisExpand",function(a,b){b.eachComponent({mainType:"parallel",query:a},function(c){c.setAxisExpand(a)})});var a7=YG,abx=ZR,GE=ZN,jQ=Math.min,pO=Math.max,tN=Math.pow,iR=10000,A0=6,yK=6,zJ="globalPan",qN={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},mO={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},St={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},nO=0;yJ.prototype={constructor:yJ,enableBrush:function(a){return this._brushType&&lN(this),a.brushType&&pN(this,a),this},setPanels:function(a){if(a&&a.length){var b=this._panels={};ZR(a,function(c){b[c.panelId]=ZJ(c)})}else{this._panels=null}return this},mount:function(a){a=a||{},this._enableGlobalPan=a.enableGlobalPan;var b=this.group;return this._zr.add(b),b.attr({position:a.position||[0,0],rotation:a.rotation||0,scale:a.scale||[1,1]}),this._transform=b.getLocalTransform(),this},eachCover:function(a,b){abx(this._covers,a,b)},updateCovers:function(o){function i(a,c){return(null!=a.id?a.id:p+c)+"-"+a.brushType}function d(a,c){return i(a.__brushOption,c)}function k(c,l){var a=o[c];if(null!=l&&f[l]===j){m[c]=f[l]}else{var h=m[c]=null!=l?(f[l].__brushOption=a,f[l]):mN(g,Rt(g,a));wJ(g,h)}}function b(a){f[a]!==j&&g.group.remove(f[a])}o=ZN(o,function(a){return Y5(ZJ(St),a,!0)});var p="\x00-brush-index-",f=this._covers,m=this._covers=[],g=this,j=this._creatingCover;return new I6(f,o,d,i).add(k).update(k).remove(b).execute(),this},unmount:function(){return this.enableBrush(!1),uK(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},ZZ(yJ,lY);var DF={mousedown:function(a){if(this._dragging){Ht.call(this,a)}else{if(!a.target||!a.target.draggable){abt(a);var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY);this._creatingCover=null;var c=this._creatingPanel=zH(this,a,b);c&&(this._dragging=!0,this._track=[b.slice()])}}},mousemove:function(a){var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY);if(Nq(this,a,b),this._dragging){abt(a);var c=Jt(this,a,b,!1);c&&eQ(this,c)}},mouseup:Ht},oO={lineX:T8(0),lineY:T8(1),rect:{createCover:function(a,b){return bV(a7(rK,function(c){return c},function(c){return c}),a,b,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(a){var b=vK(a);return Sq(b[1][0],b[1][1],b[0][0],b[0][1])},updateCoverShape:function(b,c,d,a){dQ(b,c,d,a)},updateCommon:cQ,contain:Kt},polygon:{createCover:function(a,b){var c=new TH;return c.add(new sR({name:"main",style:Lz(b),silent:!0})),c},getCreatingRange:function(a){return a},endCreating:function(a,b){b.remove(b.childAt(0)),b.add(new oU({name:"main",draggable:!0,drift:a7(kN,a,b),ondragend:a7(eQ,a,{isEnd:!0})}))},updateCoverShape:function(a,b,c){b.childAt(0).setShape({points:W8(a,b,c)})},updateCommon:cQ,contain:Kt}},xK=["axisLine","axisTickLabel","axisName"],kO=aE({type:"parallelAxis",init:function(a,b){kO.superApply(this,"init",arguments),(this._brushController=new yJ(b.getZr())).on("brush",YN(this._onBrush,this))},render:function(A,v,j,m){if(!Mq(A,v,m)){this.axisModel=A,this.api=j,this.group.removeAll();var f=this._axisGroup;if(this._axisGroup=new TH,this.group.add(this._axisGroup),A.get("show")){var y=Gt(A,v),B=y.coordinateSystem,k=A.getAreaSelectStyle(),z=k.width,q=A.axis.dim,x=B.getAxisLayout(q),w=YY({strokeContainThreshold:z},x),r=new vq(A,w);ZR(xK,r.add,r),this._axisGroup.add(r.getGroup()),this._refreshBrushController(w,k,A,y,z,j);var b=m&&m.animation===!1?null:A;xR(f,this._axisGroup,b)}}},updateVisual:function(a){this._brushController&&this._brushController.updateCovers(Pq(a))},_refreshBrushController:function(m,h,d,g,c,j){var b=d.axis.getExtent(),p=b[1]-b[0],f=Math.min(30,0.1*Math.abs(p)),k=gO.create({x:b[0],y:-c/2,width:p,height:c});k.x-=f,k.width+=2*f,this._brushController.mount({enableGlobalPan:!0,rotation:m.rotation,position:m.position}).setPanels([{panelId:"pl",clipPath:ZY(k),isTargetByCursor:V8(k,j,g),getLinearBrushOtherExtent:X7(k,0)}]).enableBrush({brushType:"lineX",brushStyle:h,removeOnClick:!0}).updateCovers(Pq(d))},_onBrush:function(b,c){var f=this.axisModel,a=f.axis,d=ZN(b,function(e){return[a.coordToData(e.range[0],!0),a.coordToData(e.range[1],!0)]});(!f.option.realtime===c.isEnd||c.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:f.id,intervals:d})},dispose:function(){this._brushController.dispose()}}),AH=5;aE({type:"parallel",render:function(a,b,c){this._model=a,this._api=c,this._handlers||(this._handlers={},ZR(gR,function(d,f){c.getZr().on(f,this._handlers[f]=YN(d,this))},this)),m6(this,"_throttledDispatchExpand",a.get("axisExpandRate"),"fixRate")},dispose:function(a,b){ZR(this._handlers,function(c,d){b.getZr().off(d,c)}),this._handlers=null},_throttledDispatchExpand:function(a){this._dispatchExpand(a)},_dispatchExpand:function(a){a&&this._api.dispatchAction(YY({type:"parallelAxisExpand"},a))}});var gR={mousedown:function(a){Dz(this,"click")&&(this._mouseDownPoint=[a.offsetX,a.offsetY])},mouseup:function(b){var c=this._mouseDownPoint;if(Dz(this,"click")&&c){var f=[b.offsetX,b.offsetY],a=Math.pow(c[0]-f[0],2)+Math.pow(c[1]-f[1],2);if(a>AH){return}var d=this._model.coordinateSystem.getSlidedAxisExpandWindow([b.offsetX,b.offsetY]);"none"!==d.behavior&&this._dispatchExpand({axisExpandWindow:d.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(b){if(!this._mouseDownPoint&&Dz(this,"mousemove")){var c=this._model,d=c.coordinateSystem.getSlidedAxisExpandWindow([b.offsetX,b.offsetY]),a=d.behavior;"jump"===a&&this._throttledDispatchExpand.debounceNextCall(c.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===a?null:{axisExpandWindow:d.axisExpandWindow,animation:"jump"===a?null:!1})}}};TQ(KE),QQ.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.normal.color",getInitialData:function(k,h){var d=h.getComponent("parallel",this.get("parallelIndex")),g=d.parallelAxisIndex,c=k.data,j=d.dimensions,b=aaT(j,c),m=ZN(b,function(a,l){var i=YR(j,a),e=i>=0&&h.getComponent("parallelAxis",g[i]);return e&&"category"===e.get("type")?(Ez(e,a,c),{name:a,type:"ordinal"}):0>i&&V1.guessOrdinal(c,l)?{name:a,type:"ordinal"}:a}),f=new P4(m,this);return f.initData(c),this.option.progressive&&(this.option.animation=!1),f},getRawIndicesByActiveState:function(b){var c=this.coordinateSystem,d=this.getData(),a=[];return c.eachActiveState(d,function(f,g){b===f&&a.push(d.getRawIndex(g))}),a},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{normal:{show:!1},emphasis:{show:!1}},inactiveOpacity:0.05,activeOpacity:1,lineStyle:{normal:{width:1,opacity:0.45,type:"solid"}},progressive:!1,smooth:!1,animationEasing:"linear"}});var vN=0.3,fR=(k6.extend({type:"parallel",init:function(){this._dataGroup=new TH,this.group.add(this._dataGroup),this._data},render:function(b,c,d,a){this._renderForNormal(b,a)},dispose:function(){},_renderForNormal:function(y,p){function g(a){oJ(b,w,a,x,j,null,v)}function k(r,d){var l=z.getItemGraphicEl(d),c=iN(b,r,x,j);b.setItemGraphicEl(r,l);var e=p&&p.animation===!1?null:y;iX(l,{shape:{points:c}},e,r)}function f(a){var c=z.getItemGraphicEl(a);w.remove(c)}var w=this._dataGroup,b=y.getData(),z=this._data,j=y.coordinateSystem,x=j.dimensions,m=y.option,v=m.smooth?vN:null;if(b.diff(z).add(g).update(k).remove(f).execute(),sH(b,v),!this._data){var q=Ft(j,y,function(){setTimeout(function(){w.removeClipPath()})});w.setClipPath(q)}this._data=b},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}}),["lineStyle","normal","opacity"]),uN=function(a){a.eachSeriesByType("parallel",function(m){var f=m.getModel("itemStyle.normal"),j=m.getModel("lineStyle.normal"),d=a.get("color"),q=j.get("color")||f.get("color")||d[m.seriesIndex%d.length],b=m.get("inactiveOpacity"),v=m.get("activeOpacity"),g=m.getModel("lineStyle.normal").getLineStyle(),t=m.coordinateSystem,k=m.getData(),p={normal:g.opacity,active:v,inactive:b};t.eachActiveState(k,function(h,l){var s=k.getItemModel(l),c=p[h];if("normal"===h){var r=s.get(fR,!0);null!=r&&(c=r)}k.setItemVisual(l,"opacity",c)}),k.setVisual("color",q)})};FX(uN);var wK=(QQ.extend({type:"series.gauge",getInitialData:function(a){var b=new P4(["value"],this),c=a.data||[];return YH(c)||(c=[c]),b.initData(c),b},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[0.2,"#91c7ae"],[0.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{normal:{color:"auto"}},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}}),Cj.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(k,h){var d=Math.cos,g=Math.sin,c=h.r,j=h.width,b=h.angle,m=h.x-d(b)*j*(j>=c/3?1:2),f=h.y-g(b)*j*(j>=c/3?1:2);b=h.angle-Math.PI/2,k.moveTo(m,f),k.lineTo(h.x+d(b)*j,h.y+g(b)*j),k.lineTo(h.x+d(h.angle)*c,h.y+g(h.angle)*c),k.lineTo(h.x-d(b)*j,h.y-g(b)*j),k.lineTo(m,f)}})),cR=2*Math.PI,eR=(k6.extend({type:"gauge",render:function(b,c,f){this.group.removeAll();var a=b.get("axisLine.lineStyle.color"),d=AE(b,f);this._renderMain(b,c,f,a,d)},dispose:function(){},_renderMain:function(q,I,B,E,A){for(var L=this.group,x=q.getModel("axisLine"),w=x.getModel("lineStyle"),D=q.get("clockwise"),k=-q.get("startAngle")/180*Math.PI,F=-q.get("endAngle")/180*Math.PI,K=(F-k)%cR,J=k,H=w.get("width"),G=0;G<E.length;G++){var z=Math.min(Math.max(E[G][0],0),1),F=k+K*z,C=new aY({shape:{startAngle:J,endAngle:F,cx:A.cx,cy:A.cy,clockwise:D,r0:A.r-H,r:A.r},silent:!0});C.setStyle({fill:E[G][1]}),C.setStyle(w.getLineStyle(["color","borderWidth","borderColor"])),L.add(C),J=F}var j=function(a){if(0>=a){return E[0][1]}for(var c=0;c<E.length;c++){if(E[c][0]>=a&&(0===c?0:E[c-1][0])<a){return E[c][1]}}return E[c-1][1]};if(!D){var b=k;k=F,F=b}this._renderTicks(q,I,B,j,A,k,F,D),this._renderPointer(q,I,B,j,A,k,F,D),this._renderTitle(q,I,B,j,A),this._renderDetail(q,I,B,j,A)},_renderTicks:function(R,ak,ab,af,aa,ao,X){for(var V=this.group,ad=aa.cx,Q=aa.cy,ag=aa.r,am=+R.get("min"),al=+R.get("max"),ai=R.getModel("splitLine"),ah=R.getModel("axisTick"),Z=R.getModel("axisLabel"),ac=R.get("splitNumber"),N=ah.get("splitNumber"),G=E9(ai.get("length"),ag),J=E9(ah.get("length"),ag),ap=ao,an=(X-ao)/ac,K=an/N,q=ai.getModel("lineStyle").getLineStyle(),E=ah.getModel("lineStyle").getLineStyle(),H=0;ac>=H;H++){var j=Math.cos(ap),Y=Math.sin(ap);if(ai.get("show")){var U=new AN({shape:{x1:j*ag+ad,y1:Y*ag+Q,x2:j*(ag-G)+ad,y2:Y*(ag-G)+Q},style:q,silent:!0});"auto"===q.stroke&&U.setStyle({stroke:af(H/ac)}),V.add(U)}if(Z.get("show")){var W=xG(iG(H/ac*(al-am)+am),Z.get("formatter")),F=Z.get("distance"),z=af(H/ac);V.add(new PG({style:WB({},Z,{text:W,x:j*(ag-G-F)+ad,y:Y*(ag-G-F)+Q,textVerticalAlign:-0.4>Y?"top":Y>0.4?"bottom":"middle",textAlign:-0.4>j?"left":j>0.4?"right":"center"},{autoColor:z}),silent:!0}))}if(ah.get("show")&&H!==ac){for(var ae=0;N>=ae;ae++){var j=Math.cos(ap),Y=Math.sin(ap),B=new AN({shape:{x1:j*ag+ad,y1:Y*ag+Q,x2:j*(ag-J)+ad,y2:Y*(ag-J)+Q},silent:!0,style:E});"auto"===E.stroke&&B.setStyle({stroke:af((H+ae/N)/ac)}),V.add(B),ap+=K}ap-=K}else{ap+=an}}},_renderPointer:function(w,m,f,j,d,q,b){var x=this.group,g=this._data;if(!w.get("pointer.show")){return void (g&&g.eachItemGraphicEl(function(a){x.remove(a)}))}var v=[+w.get("min"),+w.get("max")],k=[q,b],p=w.getData();p.diff(g).add(function(a){var c=new wK({shape:{angle:q}});oV(c,{shape:{angle:aaM(p.get("value",a),v,k,!0)}},w),x.add(c),p.setItemGraphicEl(a,c)}).update(function(c,h){var a=g.getItemGraphicEl(h);iX(a,{shape:{angle:aaM(p.get("value",c),v,k,!0)}},w),x.add(a),p.setItemGraphicEl(c,a)}).remove(function(a){var c=g.getItemGraphicEl(a);x.remove(c)}).execute(),p.eachItemGraphicEl(function(h,i){var l=p.getItemModel(i),c=l.getModel("pointer");h.setShape({x:d.cx,y:d.cy,width:E9(c.get("width"),d.r),r:E9(c.get("length"),d.r)}),h.useStyle(l.getModel("itemStyle.normal").getItemStyle()),"auto"===h.style.fill&&h.setStyle("fill",j(aaM(p.get("value",i),v,[0,1],!0))),Z9(h,l.getModel("itemStyle.emphasis").getItemStyle())}),this._data=p},_renderTitle:function(y,p,g,k,f){var w=y.getModel("title");if(w.get("show")){var b=w.get("offsetCenter"),z=f.cx+E9(b[0],f.r),j=f.cy+E9(b[1],f.r),x=+y.get("min"),m=+y.get("max"),v=y.getData().get("value",0),q=k(aaM(v,[x,m],[0,1],!0));this.group.add(new PG({silent:!0,style:WB({},w,{x:z,y:j,text:y.getData().getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:q,forceRich:!0})}))}},_renderDetail:function(C,x,k,p,j){var A=C.getModel("detail"),b=+C.get("min"),D=+C.get("max");if(A.get("show")){var m=A.get("offsetCenter"),B=j.cx+E9(m[0],j.r),q=j.cy+E9(m[1],j.r),z=E9(A.get("width"),j.r),y=E9(A.get("height"),j.r),w=C.getData().get("value",0),v=p(aaM(w,[b,D],[0,1],!0));this.group.add(new PG({silent:!0,style:WB({},A,{x:B,y:q,text:xG(w,A.get("formatter")),textWidth:isNaN(z)?null:z,textHeight:isNaN(y)?null:y,textAlign:"center",textVerticalAlign:"middle"},{autoColor:v,forceRich:!0})}))}}}),aar({type:"series.funnel",init:function(a){eR.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this._defaultLabelLine(a)},getInitialData:function(a){var b=V1(["value"],a.data),c=new P4(b,this);return c.initData(a.data),c},_defaultLabelLine:function(a){wR(a.labelLine,["show"]);var b=a.labelLine.normal,c=a.labelLine.emphasis;b.show=b.show&&a.label.normal.show,c.show=c.show&&a.label.emphasis.show},getDataParams:function(b){var c=this.getData(),d=eR.superCall(this,"getDataParams",b),a=c.getSum("value");return d.percent=a?+(c.get("value",b)/a*100).toFixed(2):0,d.$vars.push("percent"),d},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{normal:{show:!0,position:"outer"},emphasis:{show:!0}},labelLine:{normal:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},emphasis:{}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1},emphasis:{}}}})),dR=yG.prototype,hR=["itemStyle","normal","opacity"];dR.updateData=function(q,k,d){var g=this.childAt(0),c=q.hostModel,m=q.getItemModel(k),b=q.getItemLayout(k),f=q.getItemModel(k).get(hR);f=null==f?1:f,g.useStyle({}),d?(g.setShape({points:b.points}),g.setStyle({opacity:0}),oV(g,{style:{opacity:f}},c,k)):iX(g,{style:{opacity:f},shape:{points:b.points}},c,k);var p=m.getModel("itemStyle"),j=q.getItemVisual(k,"color");g.setStyle(YW({lineJoin:"round",fill:j},p.getModel("normal").getItemStyle(["opacity"]))),g.hoverStyle=p.getModel("emphasis").getItemStyle(),this._updateLabel(q,k),Z9(this)},dR._updateLabel=function(y,p){var g=this.childAt(1),k=this.childAt(2),f=y.hostModel,w=y.getItemModel(p),b=y.getItemLayout(p),z=b.label,j=y.getItemVisual(p,"color");iX(g,{shape:{points:z.linePoints||z.linePoints}},f,p),iX(k,{style:{x:z.x,y:z.y}},f,p),k.attr({rotation:z.rotation,origin:[z.x,z.y],z2:10});var x=w.getModel("label.normal"),m=w.getModel("label.emphasis"),v=w.getModel("labelLine.normal"),q=w.getModel("labelLine.emphasis"),j=y.getItemVisual(p,"color");Yz(k.style,k.hoverStyle={},x,m,{labelFetcher:y.hostModel,labelDataIndex:p,defaultText:y.getName(p),autoColor:j,useInsideStyle:!!z.inside},{textAlign:z.textAlign,textVerticalAlign:z.verticalAlign}),k.ignore=k.normalIgnore=!x.get("show"),k.hoverIgnore=!m.get("show"),g.ignore=g.normalIgnore=!v.get("show"),g.hoverIgnore=!q.get("show"),g.setStyle({stroke:j}),g.setStyle(v.getModel("lineStyle").getLineStyle()),g.hoverStyle=q.getModel("lineStyle").getLineStyle()},ZK(yG,TH);var MB=(k6.extend({type:"funnel",render:function(b){var c=b.getData(),d=this._data,a=this.group;c.diff(d).add(function(e){var f=new yG(c,e);c.setItemGraphicEl(e,f),a.add(f)}).update(function(f,g){var e=d.getItemGraphicEl(g);e.updateData(c,f),a.add(e),c.setItemGraphicEl(f,e)}).remove(function(f){var g=d.getItemGraphicEl(f);a.remove(g)}).execute(),this._data=c},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),function(a,b){a.eachSeriesByType("funnel",function(w){var D=w.getData(),G=w.get("sort"),C=pJ(w,b),M=lJ(D,G),A=[E9(w.get("minSize"),C.width),E9(w.get("maxSize"),C.width)],z=D.getDataExtent("value"),F=w.get("min"),q=w.get("max");null==F&&(F=Math.min(z[0],0)),null==q&&(q=z[1]);var H=w.get("funnelAlign"),L=w.get("gap"),K=(C.height-L*(D.count()-1))/D.count(),J=C.y,I=function(f,h){var d,c=D.get("value",f)||0,g=aaM(c,[F,q],A,!0);switch(H){case"left":d=C.x;break;case"center":d=C.x+(C.width-g)/2;break;case"right":d=C.x+C.width-g}return[[d,h],[d+g,h]]};"ascending"===G&&(K=-K,L=-L,J+=C.height,M=M.reverse());for(var B=0;B<M.length;B++){var E=M[B],k=M[B+1],e=I(E,J),j=I(k,J+K);J+=K+L,D.setItemLayout(E,{points:e.concat(j.slice().reverse())})}Rk(D)})});FX(YG(tE,"funnel")),OW(MB),Y1(YG(qE,"funnel"));var Tk=QQ.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(b){var c=b.edges||b.links,d=b.data||b.nodes;if(d&&c){var a=nW(d,c,this,!0);return a.data}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(d,f,h){if("edge"===h){var c=this.getDataParams(d,h),g=c.data,b=g.source+" -- "+g.target;return c.value&&(b+=" : "+c.value),fG(b)}return Tk.superCall(this,"formatTooltip",d,f)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{normal:{show:!0,position:"right",color:"#000",fontSize:12},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:1,borderColor:"#333"}},lineStyle:{normal:{color:"#314656",opacity:0.2,curveness:0.5},emphasis:{opacity:0.6}},animationEasing:"linear",animationDuration:1000}}),BZ=bG({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(a,b){var c=b.extent/2;a.moveTo(b.x1,b.y1-c),a.bezierCurveTo(b.cpx1,b.cpy1-c,b.cpx2,b.cpy2-c,b.x2,b.y2-c),a.lineTo(b.x2,b.y2+c),a.bezierCurveTo(b.cpx2,b.cpy2+c,b.cpx1,b.cpy1+c,b.x1,b.y1+c),a.closePath()}});EY({type:"sankey",_model:null,render:function(d){var f=d.getGraph(),h=this.group,c=d.layoutInfo,g=d.getData(),b=d.getData("edge");this._model=d,h.removeAll(),h.attr("position",[c.x,c.y]),f.eachEdge(function(z){var t=new BZ;t.dataIndex=z.dataIndex,t.seriesIndex=d.seriesIndex,t.dataType="edge";var k=z.getModel("lineStyle.normal"),a=k.get("curveness"),E=z.node1.getLayout(),q=z.node2.getLayout(),D=z.getLayout();t.shape.extent=Math.max(1,D.dy);var w=E.x+E.dx,B=E.y+D.sy+D.dy/2,A=q.x,y=q.y+D.ty+D.dy/2,x=w*(1-a)+A*a,j=B,n=w*a+A*(1-a),C=y;switch(t.setShape({x1:w,y1:B,x2:A,y2:y,cpx1:x,cpy1:j,cpx2:n,cpy2:C}),t.setStyle(k.getItemStyle()),t.style.fill){case"source":t.style.fill=z.node1.getVisual("color");break;case"target":t.style.fill=z.node2.getVisual("color")}Z9(t,z.getModel("lineStyle.emphasis").getItemStyle()),h.add(t),b.setItemGraphicEl(z.dataIndex,t)}),f.eachNode(function(q){var n=q.getLayout(),k=q.getModel(),p=k.getModel("label.normal"),o=k.getModel("label.emphasis"),j=new hW({shape:{x:n.x,y:n.y,width:q.getLayout().dx,height:q.getLayout().dy},style:k.getModel("itemStyle.normal").getItemStyle()}),m=q.getModel("itemStyle.emphasis").getItemStyle();Yz(j.style,m,p,o,{labelFetcher:d,labelDataIndex:q.dataIndex,defaultText:q.id,isRectText:!0}),j.setStyle("fill",q.getVisual("color")),Z9(j,m),h.add(j),g.setItemGraphicEl(q.dataIndex,j),j.dataType="node"}),!this._data&&d.get("animation")&&h.setClipPath(mJ(h.getBoundingRect(),d,function(){h.removeClipPath()})),this._data=d.getData()},dispose:function(){}});var rN=function(a,b){a.eachSeriesByType("sankey",function(v){var f=v.get("nodeWidth"),j=v.get("nodeGap"),e=nJ(v,b);v.layoutInfo=e;var p=e.width,d=e.height,w=v.getGraph(),g=w.nodes,q=w.edges;jK(g);var k=Y9(g,function(c){return 0===c.getLayout().value}),m=0!==k.length?0:v.get("layoutIterations");wG(g,q,f,j,p,d,m)})},sN=function(a){a.eachSeriesByType("sankey",function(c){var d=c.getGraph(),g=d.nodes;g.sort(function(h,i){return h.getLayout().value-i.getLayout().value});var b=g[0].getLayout().value,f=g[g.length-1].getLayout().value;ZR(g,function(k){var l=new m3({type:"color",mappingMethod:"linear",dataExtent:[b,f],visual:c.get("color")}),h=l.mapValueToVisual(k.getLayout().value);k.setVisual("color",h);var j=k.getModel(),i=j.get("itemStyle.normal.color");null!=i&&k.setVisual("color",i)})})};OW(rN),FX(sN);var lO=function(b,c,f,a,d){q4.call(this,b,c,f),this.type=a||"value",this.position=d||"bottom",this.orient=null,this._labelInterval=null};lO.prototype={constructor:lO,model:null,isHorizontal:function(){var a=this.position;return"top"===a||"bottom"===a},pointToData:function(a,b){return this.coordinateSystem.pointToData(a,b)[0]},toGlobalCoord:null,toLocalCoord:null},ZK(lO,q4),Ok.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:Ok,_init:function(b){var c=this.dimension,d=new lO(c,d6(b),[0,0],b.get("type"),b.get("position")),a="category"===d.type;d.onBand=a&&b.get("boundaryGap"),d.inverse=b.get("inverse"),d.orient=b.get("orient"),b.axis=d,d.model=b,d.coordinateSystem=this,this._axis=d},update:function(a){a.eachSeries(function(b){if(b.coordinateSystem===this){var c=b.getData(),d=this.dimension;this._axis.scale.unionExtentFromData(c,b.coordDimToDataDim(d)),t3(this._axis.scale,this._axis.model)}},this)},resize:function(a,b){this._rect=WU({left:a.get("left"),top:a.get("top"),right:a.get("right"),bottom:a.get("bottom"),width:a.get("width"),height:a.get("height")},{width:b.getWidth(),height:b.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var b=this._rect,c=this._axis,f=c.isHorizontal(),a=f?[0,b.width]:[0,b.height],d=c.reverse?1:0;c.setExtent(a[d],a[1-d]),this._updateAxisTransform(c,f?b.x:b.y)},_updateAxisTransform:function(b,c){var f=b.getExtent(),a=f[0]+f[1],d=b.isHorizontal();b.toGlobalCoord=d?function(e){return e+c}:function(e){return a-e+c},b.toLocalCoord=d?function(e){return e-c}:function(e){return a-e+c}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(b){var c=this.getRect(),d=this.getAxis(),a=d.orient;return"horizontal"===a?d.contain(d.toLocalCoord(b[0]))&&b[1]>=c.y&&b[1]<=c.y+c.height:d.contain(d.toLocalCoord(b[1]))&&b[0]>=c.y&&b[0]<=c.y+c.height},pointToData:function(a){var b=this.getAxis();return[b.coordToData(b.toLocalCoord(a["horizontal"===b.orient?0:1]))]},dataToPoint:function(b){var c=this.getAxis(),f=this.getRect(),a=[],d="horizontal"===c.orient?0:1;return b instanceof Array&&(b=b[0]),a[d]=c.toGlobalCoord(c.dataToCoord(+b)),a[1-d]=0===d?f.y+f.height/2:f.x+f.width/2,a}},LY.register("single",{create:S8,dimensions:Ok.prototype.dimensions});var JG=vq.getInterval,Yq=vq.ifIgnoreOnTick,PF=["axisLine","axisTickLabel","axisName"],Ut="splitLine",OF=hB.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(d,g,j,c){var h=this.group;h.removeAll();var b=Nk(d),f=new vq(d,b);ZR(PF,f.add,f),h.add(f.getGroup()),d.get(Ut+".show")&&this["_"+Ut](d,b.labelInterval),OF.superCall(this,"render",d,g,j,c)},_splitLine:function(w,K){var D=w.axis;if(!D.scale.isBlank()){var G=w.getModel("splitLine"),C=G.getModel("lineStyle"),N=C.get("width"),A=C.get("color"),z=JG(G,K);A=A instanceof Array?A:[A];for(var F=w.coordinateSystem.getRect(),q=D.isHorizontal(),H=[],M=0,L=D.getTicksCoords(),J=[],I=[],B=w.get("axisLabel.showMinLabel"),E=w.get("axisLabel.showMaxLabel"),k=0;k<L.length;++k){if(!Yq(D,k,z,L.length,B,E)){var b=D.toGlobalCoord(L[k]);q?(J[0]=b,J[1]=F.y,I[0]=b,I[1]=F.y+F.height):(J[0]=F.x,J[1]=b,I[0]=F.x+F.width,I[1]=b);var j=M++%A.length;H[j]=H[j]||[],H[j].push(new AN(Bk({shape:{x1:J[0],y1:J[1],x2:I[0],y2:I[1]},style:{lineWidth:N},silent:!0})))}}for(var k=0;k<H.length;++k){this.group.add(fW(H[k],{style:{stroke:A[k%A.length],lineDash:C.getLineDash(N),lineWidth:N},silent:!0}))}}}}),abL=aa9.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}}),LF={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:0.2}}};Y5(abL.prototype,T0),O4("single",abL,abs,LF);var KG=function(m,h){var d,g=[],c=m.seriesIndex;if(null==c||!(d=h.getSeriesByIndex(c))){return{point:[]}}var j=d.getData(),b=bY(j,m);if(null==b||YH(b)){return{point:[]}}var p=j.getItemGraphicEl(b),f=d.coordinateSystem;if(d.getTooltipPosition){g=d.getTooltipPosition(b)||[]}else{if(f&&f.dataToPoint){g=f.dataToPoint(j.getValues(ZN(f.dimensions,function(a){return d.coordDimToDataDim(a)[0]}),b,!0))||[]}else{if(p){var k=p.getBoundingRect().clone();k.applyTransform(p.transform),g=[k.x+k.width/2,k.y+k.height/2]}}}return{point:g,el:p}},RE=ZR,IG=YG,Vt=BN(),aa1=function(G,B,q){var x=G.currTrigger,k=[G.x,G.y],E=G,b=G.dispatchAction||YN(q.dispatchAction,q),H=B.getComponent("axisPointer").coordSysAxesInfo;if(H){Mk(k)&&(k=KG({seriesIndex:E.seriesIndex,dataIndex:E.dataIndex},B).point);var w=Mk(k),F=E.axesInfo,y=H.axesInfo,D="leave"===x||Mk(k),C={},A={},z={list:[],map:{}},j={showPointer:IG(Qk,A),showTooltip:IG(Hq,z)};RE(H.coordSysMap,function(a,c){var d=w||a.containPoint(k);RE(H.coordSysAxesInfo[c],function(h){var l=h.axis,g=V7(F,h);if(!D&&d&&(!F||g)){var f=g&&g.value;null!=f||w||(f=l.pointToData(k)),null!=f&&Kq(h,f,j,!1,C)}})});var v={};return RE(y,function(a,c){var d=a.linkGroup;d&&!A[c]&&RE(d.axesInfo,function(h,g){var l=A[g];if(h!==a&&l){var f=l.value;d.mapper&&(f=a.axis.scale.parse(d.mapper(f,U7(h),U7(a)))),v[a.key]=f}})}),RE(v,function(a,c){Kq(y[c],a,j,!0,C)}),T7(A,y,C),ZW(z,k,G,b),X6(y,b,q),C}},Z6=(DY({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),BN()),Xt=ZR,Wt=aE({type:"axisPointer",render:function(b,c,f){var a=c.getComponent("tooltip"),d=b.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";Pk("axisPointer",f,function(g,h,i){"none"!==d&&("leave"===g||d.indexOf(g)>=0)&&i({type:"updateAxisPointer",currTrigger:g,x:h&&h.offsetX,y:h&&h.offsetY})})},remove:function(a,b){Fq(b.getZr(),"axisPointer"),Wt.superApply(this._model,"remove",arguments)},dispose:function(a,b){Fq("axisPointer",b),Wt.superApply(this._model,"dispose",arguments)}}),NF=BN(),QF=ZJ,HG=YN;iK.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(w,m,f,j){var d=m.get("value"),q=m.get("status");if(this._axisModel=w,this._axisPointerModel=m,this._api=f,j||this._lastValue!==d||this._lastStatus!==q){this._lastValue=d,this._lastStatus=q;var b=this._group,x=this._handle;if(!q||"hide"===q){return b&&b.hide(),void (x&&x.hide())}b&&b.show(),x&&x.show();var g={};this.makeElOption(g,d,w,m,f);var v=g.graphicKey;v!==this._lastGraphicKey&&this.clear(f),this._lastGraphicKey=v;var k=this._moveAnimation=this.determineAnimation(w,m);if(b){var p=YG(oH,m,k);this.updatePointerEl(b,g,p,m),this.updateLabelEl(b,g,p,m)}else{b=this._group=new TH,this.createPointerEl(b,g,w,m),this.createLabelEl(b,g,w,m),f.getZr().add(b)}xF(b,m,!0),this._renderHandle(d)}},remove:function(a){this.clear(a)},dispose:function(a){this.clear(a)},determineAnimation:function(k,h){var d=h.get("animation"),g=k.axis,c="category"===g.type,j=h.get("snap");if(!j&&!c){return !1}if("auto"===d||null==d){var b=this.animationThreshold;if(c&&g.getBandWidth()>b){return !0}if(j){var m=dE(k).seriesDataCount,f=g.getExtent();return Math.abs(f[0]-f[1])/m>b}return !1}return d===!0},makeElOption:function(){},createPointerEl:function(b,c){var d=c.pointer;if(d){var a=NF(b).pointerEl=new uR[d.type](QF(c.pointer));b.add(a)}},createLabelEl:function(b,c,f,a){if(c.label){var d=NF(b).labelEl=new hW(QF(c.label));b.add(d),hK(d,a)}},updatePointerEl:function(b,c,d){var a=NF(b).pointerEl;a&&(a.setStyle(c.pointer.style),d(a,{shape:c.pointer.shape}))},updateLabelEl:function(b,c,f,a){var d=NF(b).labelEl;d&&(d.setStyle(c.label.style),f(d,{shape:c.label.shape,position:c.label.position}),hK(d,a))},_renderHandle:function(k){if(!this._dragging&&this.updateHandleTransform){var h=this._axisPointerModel,d=this._api.getZr(),g=this._handle,c=h.getModel("handle"),j=h.get("status");if(!c.get("show")||!j||"hide"===j){return g&&d.remove(g),void (this._handle=null)}var b;this._handle||(b=!0,g=this._handle=lV(c.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(a){e1(a.event)},onmousedown:HG(this._onHandleDragMove,this,0,0),drift:HG(this._onHandleDragMove,this),ondragend:HG(this._onHandleDragEnd,this)}),d.add(g)),xF(g,h,!1);var m=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];g.setStyle(c.getItemStyle(null,m));var f=c.get("size");YH(f)||(f=[f,f]),g.attr("scale",[f[0]/2,f[1]/2]),m6(this,"_doDispatchAxisPointer",c.get("throttle")||0,"fixRate"),this._moveHandleToValue(k,b)}},_moveHandleToValue:function(a,b){oH(this._axisPointerModel,!b&&this._moveAnimation,this._handle,AB(this.getHandleTransform(a,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(b,c){var d=this._handle;if(d){this._dragging=!0;var a=this.updateHandleTransform(AB(d),[b,c],this._axisModel,this._axisPointerModel);this._payloadInfo=a,d.stopAnimation(),d.attr(AB(a)),NF(d).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){var a=this._handle;if(a){var b=this._payloadInfo,c=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:b.cursorPoint[0],y:b.cursorPoint[1],tooltipOption:b.tooltipOption,axesInfo:[{axisDim:c.axis.dim,axisIndex:c.componentIndex}]})}},_onHandleDragEnd:function(){this._dragging=!1;var a=this._handle;if(a){var b=this._axisPointerModel.get("value");this._moveHandleToValue(b),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(b){this._lastValue=null,this._lastStatus=null;var c=b.getZr(),d=this._group,a=this._handle;c&&d&&(this._lastGraphicKey=null,d&&c.remove(d),a&&c.remove(a),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(a,b,c){return c=c||0,{x:a[c],y:a[1-c],width:b[c],height:b[1-c]}}},iK.prototype.constructor=iK,BB(iK);var EH=iK.extend({makeElOption:function(y,p,g,k,f){var w=g.axis,b=w.grid,z=k.get("type"),j=zE(b,w).getOtherAxis(w).getGlobalExtent(),x=w.toGlobalCoord(w.dataToCoord(p,!0));if(z&&"none"!==z){var m=yF(k),v=FG[z](w,x,j,m);v.style=m,y.graphicKey=v.type,y.pointer=v}var q=qt(b.model,g);CE(p,y,q,g,k,f)},getHandleTransform:function(b,c,d){var a=qt(c.axis.grid.model,c,{labelInside:!1});return a.labelMargin=d.get("handle.margin"),{position:mH(c.axis,b,a),rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(w,m,f){var j=f.axis,d=j.grid,q=j.getGlobalExtent(!0),b=zE(d,j).getOtherAxis(j).getGlobalExtent(),x="x"===j.dim?0:1,g=w.position;g[x]+=m[x],g[x]=Math.min(q[1],g[x]),g[x]=Math.max(q[0],g[x]);var v=(b[1]+b[0])/2,k=[v,v];k[x]=g[x];var p=[{verticalAlign:"middle"},{align:"center"}];return{position:g,rotation:w.rotation,cursorPoint:k,tooltipOption:p[x]}}}),FG={line:function(b,c,f,a){var d=nH([c,f[0]],[c,f[1]],fK(b));return Bk({shape:d,style:a}),{type:"Line",shape:d}},shadow:function(b,c,f){var a=b.getBandWidth(),d=f[1]-f[0];return{type:"Rect",shape:wF([c-a/2,f[0]],[a,d],fK(b))}}};hB.registerAxisPointerClass("CartesianAxisPointer",EH),TQ(function(a){if(a){(!a.axisPointer||0===a.axisPointer.length)&&(a.axisPointer={});var b=a.axisPointer.link;b&&!YH(b)&&(a.axisPointer.link=[b])}}),Y1(j1.PROCESSOR.STATISTIC,function(a,b){a.getComponent("axisPointer").coordSysAxesInfo=zk(a,b)}),VQ({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},aa1);var a8=["x","y"],abz=["width","height"],GG=iK.extend({makeElOption:function(y,p,g,k,f){var w=g.axis,b=w.coordinateSystem,z=eK(b,1-uG(w)),j=b.dataToPoint(p)[0],x=k.get("type");if(x&&"none"!==x){var m=yF(k),v=jU[x](w,j,z,m);v.style=m,y.graphicKey=v.type,y.pointer=v}var q=Nk(g);CE(p,y,q,g,k,f)},getHandleTransform:function(b,c,d){var a=Nk(c,{labelInside:!1});return a.labelMargin=d.get("handle.margin"),{position:mH(c.axis,b,a),rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(q,k,d){var g=d.axis,c=g.coordinateSystem,m=uG(g),b=eK(c,m),v=q.position;v[m]+=k[m],v[m]=Math.min(b[1],v[m]),v[m]=Math.max(b[0],v[m]);var f=eK(c,1-m),p=(f[1]+f[0])/2,j=[p,p];return j[m]=v[m],{position:v,rotation:q.rotation,cursorPoint:j,tooltipOption:{verticalAlign:"middle"}}}}),jU={line:function(b,c,f,a){var d=nH([c,f[0]],[c,f[1]],uG(b));return Bk({shape:d,style:a}),{type:"Line",shape:d}},shadow:function(b,c,f){var a=b.getBandWidth(),d=f[1]-f[0];return{type:"Rect",shape:wF([c-a/2,f[0]],[a,d],uG(b))}}};hB.registerAxisPointerClass("SingleAxisPointer",GG),aE({type:"single"});var pR=2,tQ=QQ.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(){tQ.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},fixData:function(G){for(var A=G.length,k=CF().key(function(a){return a[2]}).entries(G),x=ZN(k,function(a){return{name:a.key,dataList:a.values}}),j=x.length,D=-1,b=-1,H=0;j>H;++H){var w=x[H].dataList.length;w>D&&(D=w,b=H)}for(var F=0;j>F;++F){if(F!==b){for(var y=x[F].name,C=0;D>C;++C){for(var B=x[b].dataList[C][0],z=x[F].dataList.length,g=-1,q=0;z>q;++q){var E=x[F].dataList[q][0];if(E===B){g=q;break}}-1===g&&(G[A]=[],G[A][0]=B,G[A][1]=0,G[A][2]=y,A++)}}}return G},getInitialData:function(w,m){var f=[],j=m.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0],d=j.get("type");f=[{name:"time",type:"category"===d?"ordinal":"time"===d?"time":"float"},{name:"value",type:"float"},{name:"name",type:"ordinal"}];for(var q=Y9(w.data,function(a){return void 0!==a[2]}),b=this.fixData(q||[]),x=[],g=this.nameMap=aaz(),v=0,k=0;k<b.length;++k){x.push(b[k][pR]),g.get(b[k][pR])||(g.set(b[k][pR],v),v++)}f=V1(f,b);var p=new P4(f,this);return p.initData(b,x),p},coordDimToDataDim:function(){return["time"]},getLayerSeries:function(){function d(a,e){return h.get("time",a)-h.get("time",e)}for(var h=this.getData(),k=h.count(),c=[],j=0;k>j;++j){c[j]=j}for(var b=CF().key(function(a){return h.get("name",a)}).entries(c),g=ZN(b,function(a){return{name:a.key,indices:a.values}}),f=0;f<g.length;++f){g[f].indices.sort(d)}return g},getAxisTooltipData:function(A,v){YH(A)||(A=A?[A]:[]);for(var j,m=this.getData(),g=this.getLayerSeries(),y=[],b=g.length,B=0;b>B;++B){for(var k=Number.MAX_VALUE,z=-1,p=g[B].indices.length,x=0;p>x;++x){var w=m.get(A[0],g[B].indices[x]),q=Math.abs(w-v);k>=q&&(j=w,k=q,z=g[B].indices[x])}y.push(z)}return{dataIndices:y,nestestValue:j}},formatTooltip:function(b){var c=this.getData(),d=c.get("name",b),a=c.get("value",b);return(isNaN(a)||null==a)&&(a="-"),fG(d+" : "+a)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{normal:{margin:4,textAlign:"right",show:!0,position:"left",color:"#000",fontSize:11},emphasis:{show:!0}}}});EY({type:"themeRiver",init:function(){this._layers=[]},render:function(r){function k(a){return a.name}function d(P,H,E){var K=this._layers;if("remove"===P){return void b.remove(K[H])}for(var D,L=[],Q=[],O=p[H].indices,N=0;N<O.length;N++){var G=g.getItemLayout(O[N]),J=G.x,C=G.y0,o=G.y;L.push([J,C]),Q.push([J,C+o]),D=g.getItemVisual(O[N],"color")}var z,U,R=g.getItemLayout(O[0]),B=g.getItemModel(O[N-1]),c=B.getModel("label.normal"),i=c.get("margin");if("add"===P){var t=m[H]=new TH;z=new M9({shape:{points:L,stackedOnPoints:Q,smooth:0.4,stackedOnSmooth:0.4,smoothConstraint:!1},z2:0}),U=new PG({style:{x:R.x-i,y:R.y0+R.y/2}}),t.add(z),t.add(U),b.add(t),z.setClipPath(tG(z.getBoundingRect(),r,function(){z.removeClipPath()}))}else{var t=K[E];z=t.childAt(0),U=t.childAt(1),b.add(t),m[H]=t,iX(z,{shape:{points:L,stackedOnPoints:Q}},r),iX(U,{style:{x:R.x-i,y:R.y0+R.y/2}},r)}var a=B.getModel("itemStyle.emphasis"),F=B.getModel("itemStyle.normal");WB(U.style,c,{text:c.get("show")?r.getFormattedLabel(O[N-1],"normal")||g.getName(O[N-1]):null,textVerticalAlign:"middle"}),z.setStyle(YY({fill:D},F.getItemStyle(["color"]))),Z9(z,a.getItemStyle())}var g=r.getData(),b=this.group,p=r.getLayerSeries(),v=g.getLayout("layoutInfo"),f=v.rect,q=v.boundaryGap;b.attr("position",[0,f.y+q[0]]);var j=new I6(this._layersSeries||[],p,k,k),m={};j.add(YN(d,this,"add")).update(YN(d,this,"update")).remove(YN(d,this,"remove")).execute(),this._layersSeries=p,this._layers=m},dispose:function(){}});var iV=function(a){a.eachSeriesByType("themeRiver",function(k){var h=k.getData(),d=k.coordinateSystem,g={},c=d.getRect();g.rect=c;var j=k.get("boundaryGap"),b=d.getAxis();if(g.boundaryGap=j,"horizontal"===b.orient){j[0]=E9(j[0],c.height),j[1]=E9(j[1],c.height);var m=c.height-j[0]-j[1];vG(h,k,m)}else{j[0]=E9(j[0],c.width),j[1]=E9(j[1],c.width);var f=c.width-j[0]-j[1];vG(h,k,f)}h.setLayout("layoutInfo",g)})},A1=function(a){a.eachSeriesByType("themeRiver",function(c){var d=c.getData(),g=c.getRawData(),b=c.get("color"),f=aaz();d.each(function(e){f.set(d.getRawIndex(e),e)}),g.each(function(h){var j=g.getName(h),i=b[(c.nameMap.get(j)-1)%b.length];g.setItemVisual(h,"color",i);var e=f.get(h);null!=e&&d.setItemVisual(e,"color",i)})})};OW(iV),FX(A1),Y1(YG(qE,"themeRiver"));var yO=tq.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(a){return a.stack=null,yO.superApply(this,"getInitialData",arguments)}}),zN=["itemStyle","normal","borderWidth"],qQ=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],mR=new GH;EY({type:"pictorialBar",render:function(q,k,d){var g=this.group,c=q.getData(),m=this._data,b=q.coordinateSystem,v=b.getBaseAxis(),f=!!v.isHorizontal(),p=b.grid.getRect(),j={ecSize:{width:d.getWidth(),height:d.getHeight()},seriesModel:q,coordSys:b,coordSysExtent:[[p.x,p.x+p.width],[p.y,p.y+p.height]],isHorizontal:f,valueDim:qQ[+f],categoryDim:qQ[1-f]};return c.diff(m).add(function(i){if(c.hasValue(i)){var l=NZ(c,i),o=dK(c,i,l,j),h=J0(c,j,o);c.setItemGraphicEl(i,h),g.add(h),XV(h,j,o)}}).update(function(h,u){var w=m.getItemGraphicEl(u);if(!c.hasValue(h)){return void g.remove(w)}var o=NZ(c,h),i=dK(c,h,o,j),a=G0(c,i);w&&a!==w.__pictorialShapeStr&&(g.remove(w),c.setItemGraphicEl(h,null),w=null),w?I0(w,j,i):w=J0(c,j,i,!0),c.setItemGraphicEl(h,w),w.__pictorialSymbolMeta=i,g.add(w),XV(w,j,i)}).remove(function(a){var h=m.getItemGraphicEl(a);h&&PZ(m,a,h.__pictorialSymbolMeta.animationModel,h)}).execute(),this._data=c,this.group},dispose:aaS,remove:function(a){var b=this.group,c=this._data;a.get("animation")?c&&c.eachItemGraphicEl(function(d){PZ(c,d.dataIndex,a,d)}):b.removeAll()}});OW(YG(k4,"pictorialBar")),FX(YG(P9,"pictorialBar","roundRect",null)),C1.prototype={constructor:C1,pointToData:function(a,b){return this.polar.pointToData(a,b)["radius"===this.dim?0:1]},dataToRadius:q4.prototype.dataToCoord,radiusToData:q4.prototype.coordToData},ZK(C1,q4),D1.prototype={constructor:D1,pointToData:function(a,b){return this.polar.pointToData(a,b)["radius"===this.dim?0:1]},dataToAngle:q4.prototype.dataToCoord,angleToData:q4.prototype.coordToData},ZK(D1,q4);var SB=function(a){this.name=a||"",this.cx=0,this.cy=0,this._radiusAxis=new C1,this._angleAxis=new D1,this._radiusAxis.polar=this._angleAxis.polar=this};SB.prototype={type:"polar",axisPointerEnabled:!0,constructor:SB,dimensions:["radius","angle"],model:null,containPoint:function(a){var b=this.pointToCoord(a);return this._radiusAxis.contain(b[0])&&this._angleAxis.contain(b[1])},containData:function(a){return this._radiusAxis.containData(a[0])&&this._angleAxis.containData(a[1])},getAxis:function(a){return this["_"+a+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(b){var c=[],d=this._angleAxis,a=this._radiusAxis;return d.scale.type===b&&c.push(d),a.scale.type===b&&c.push(a),c},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(a){var b=this._angleAxis;return a===b?this._radiusAxis:b},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(a){var b=null!=a&&"auto"!==a?this.getAxis(a):this.getBaseAxis();return{baseAxes:[b],otherAxes:[this.getOtherAxis(b)]}},dataToPoint:function(a,b){return this.coordToPoint([this._radiusAxis.dataToRadius(a[0],b),this._angleAxis.dataToAngle(a[1],b)])},pointToData:function(a,b){var c=this.pointToCoord(a);return[this._radiusAxis.radiusToData(c[0],b),this._angleAxis.angleToData(c[1],b)]},pointToCoord:function(m){var h=m[0]-this.cx,d=m[1]-this.cy,g=this.getAngleAxis(),c=g.getExtent(),j=Math.min(c[0],c[1]),b=Math.max(c[0],c[1]);g.inverse?j=b-360:b=j+360;var p=Math.sqrt(h*h+d*d);h/=p,d/=p;for(var f=Math.atan2(-d,h)/Math.PI*180,k=j>f?1:-1;j>f||f>b;){f+=360*k}return[p,f]},coordToPoint:function(b){var c=b[0],f=b[1]/180*Math.PI,a=Math.cos(f)*c+this.cx,d=-Math.sin(f)*c+this.cy;return[a,d]}};var nR=aa9.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});Y5(nR.prototype,T0);var DH={angle:{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{splitNumber:5}};O4("angle",nR,aG,DH.angle),O4("radius",nR,aG,DH.radius),DY({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(a){var b,c=this.ecModel;return c.eachComponent(a,function(d){d.getCoordSysModel()===this&&(b=d)},this),b},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});var oR={dimensions:SB.prototype.dimensions,create:function(a,b){var c=[];return a.eachComponent("polar",function(g,f){var k=new SB(f);k.update=E1;var e=k.getRadiusAxis(),j=k.getAngleAxis(),h=g.findAxisModel("radiusAxis"),d=g.findAxisModel("angleAxis");h9(e,h),h9(j,d),aax(k,g,b),c.push(k),g.coordinateSystem=k,k.model=g}),a.eachSeries(function(d){if("polar"===d.get("coordinateSystem")){var f=a.queryComponents({mainType:"polar",index:d.get("polarIndex"),id:d.get("polarId")})[0];d.coordinateSystem=f.coordinateSystem}}),c}};LY.register("polar",oR);var xO=["axisLine","axisLabel","axisTick","splitLine","splitArea"];hB.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(b){if(this.group.removeAll(),b.get("show")){var c=b.axis,f=c.polar,a=f.getRadiusAxis().getExtent(),d=c.getTicksCoords();"category"!==c.type&&d.pop(),ZR(xO,function(e){!b.get(e+".show")||c.scale.isBlank()&&"axisLine"!==e||this["_"+e](b,f,d,a)},this)}},_axisLine:function(d,f,h,c){var g=d.getModel("axisLine.lineStyle"),b=new GH({shape:{cx:f.cx,cy:f.cy,r:c[r6(f)]},style:g.getLineStyle(),z2:1,silent:!0});b.style.fill=null,this.group.add(b)},_axisTick:function(f,h,k,d){var j=f.getModel("axisTick"),c=(j.get("inside")?-1:1)*j.get("length"),g=d[r6(h)],b=ZN(k,function(a){return new AN({shape:n7(h,[g,g+c],a)})});this.group.add(fW(b,{style:YW(j.getModel("lineStyle").getLineStyle(),{stroke:f.get("axisLine.lineStyle.color")})}))},_axisLabel:function(k,G,z,C){for(var y=k.axis,J=k.get("data"),w=k.getModel("axisLabel"),q=k.getFormattedLabels(),B=w.get("margin"),j=y.getLabelsCoords(),D=0;D<z.length;D++){var I=C[r6(G)],H=G.coordToPoint([I+B,j[D]]),F=G.cx,E=G.cy,x=Math.abs(H[0]-F)/I<0.3?"center":H[0]>F?"left":"right",A=Math.abs(H[1]-E)/I<0.3?"middle":H[1]>E?"top":"bottom";J&&J[D]&&J[D].textStyle&&(w=new RG(J[D].textStyle,w,w.ecModel));var b=new PG({silent:!0});this.group.add(b),WB(b.style,w,{x:H[0],y:H[1],textFill:w.getTextColor()||k.get("axisLine.lineStyle.color"),text:q[D],textAlign:x,textVerticalAlign:A})}},_splitLine:function(v,m,f,j){var d=v.getModel("splitLine"),q=d.getModel("lineStyle"),b=q.get("color"),g=0;b=b instanceof Array?b:[b];for(var s=[],k=0;k<f.length;k++){var p=g++%b.length;s[p]=s[p]||[],s[p].push(new AN({shape:n7(m,j,f[k])}))}for(var k=0;k<s.length;k++){this.group.add(fW(s[k],{style:YW({stroke:b[k%b.length]},q.getLineStyle()),silent:!0,z:v.get("z")}))}},_splitArea:function(F,A,q,w){var k=F.getModel("splitArea"),D=k.getModel("areaStyle"),b=D.get("color"),v=0;b=b instanceof Array?b:[b];for(var E=[],x=Math.PI/180,C=-q[0]*x,B=Math.min(w[0],w[1]),z=Math.max(w[0],w[1]),y=F.get("clockwise"),j=1;j<q.length;j++){var s=v++%b.length;E[s]=E[s]||[],E[s].push(new aY({shape:{cx:A.cx,cy:A.cy,r0:B,r:z,startAngle:C,endAngle:-q[j]*x,clockwise:y},silent:!0})),C=-q[j]*x}for(var j=0;j<E.length;j++){this.group.add(fW(E[j],{style:YW({fill:b[j%b.length]},D.getAreaStyle()),silent:!0}))}}});var kR=["axisLine","axisTickLabel","axisName"],AK=["splitLine","splitArea"];hB.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(k){if(this.group.removeAll(),k.get("show")){var h=k.axis,d=h.polar,g=d.getAngleAxis(),c=h.getTicksCoords(),j=g.getExtent()[0],b=h.getExtent(),m=g9(d,k,j),f=new vq(k,m);ZR(kR,f.add,f),this.group.add(f.getGroup()),ZR(AK,function(a){k.get(a+".show")&&!h.scale.isBlank()&&this["_"+a](k,d,j,b,c)},this)}},_splitLine:function(x,p,g,k,f){var v=x.getModel("splitLine"),b=v.getModel("lineStyle"),j=b.get("color"),w=0;j=j instanceof Array?j:[j];for(var m=[],s=0;s<f.length;s++){var q=w++%j.length;m[q]=m[q]||[],m[q].push(new GH({shape:{cx:p.cx,cy:p.cy,r:f[s]},silent:!0}))}for(var s=0;s<m.length;s++){this.group.add(fW(m[s],{style:YW({stroke:j[s%j.length],fill:null},b.getLineStyle()),silent:!0}))}},_splitArea:function(z,s,j,m,g){var x=z.getModel("splitArea"),b=x.getModel("areaStyle"),k=b.get("color"),y=0;k=k instanceof Array?k:[k];for(var p=[],w=g[0],v=1;v<g.length;v++){var q=y++%k.length;p[q]=p[q]||[],p[q].push(new aY({shape:{cx:s.cx,cy:s.cy,r0:w,r:g[v],startAngle:0,endAngle:2*Math.PI},silent:!0})),w=g[v]}for(var v=0;v<p.length;v++){this.group.add(fW(p[v],{style:YW({fill:k[v%k.length]},b.getAreaStyle()),silent:!0}))}}});var gV=iK.extend({makeElOption:function(C,x,k,p,j){var A=k.axis;"angle"===A.dim&&(this.animationThreshold=Math.PI/18);var b,D=A.polar,m=D.getOtherAxis(A),B=m.getExtent();b=A["dataTo"+bN(A.dim)](x);var q=p.get("type");if(q&&"none"!==q){var z=yF(p),y=vQ[q](A,D,b,B,z);y.style=z,C.graphicKey=y.type,C.pointer=y}var w=p.get("label.margin"),v=z4(x,k,p,D,w);pH(C,k,p,j,v)}}),vQ={line:function(b,c,d,a){return"angle"===b.dim?{type:"Line",shape:nH(c.coordToPoint([a[0],d]),c.coordToPoint([a[1],d]))}:{type:"Circle",shape:{cx:c.cx,cy:c.cy,r:d}}},shadow:function(d,f,h,c){var g=d.getBandWidth(),b=Math.PI/180;return"angle"===d.dim?{type:"Sector",shape:jJ(f.cx,f.cy,c[0],c[1],(-h-g/2)*b,(-h+g/2)*b)}:{type:"Sector",shape:jJ(f.cx,f.cy,h-g/2,h+g/2,0,2*Math.PI)}}};hB.registerAxisPointerClass("PolarAxisPointer",gV),OW(YG(OZ,"bar")),aE({type:"polar"});var fV=aa9.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(a){aa9.prototype.init.apply(this,arguments),wR(a.label,["show"])},optionUpdated:function(){var a=this.option,b=this;a.regions=IK.getFilledRegions(a.regions,a.map,a.nameMap),this._optionModelMap=Y3(a.regions||[],function(c,d){return d.name&&c.set(d.name,new RG(d,b)),c},aaz()),this.updateSelectedMap(a.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:0.75,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,color:"#000"},emphasis:{show:!0,color:"rgb(100,0,0)"}},itemStyle:{normal:{borderWidth:0.5,borderColor:"#444",color:"#eee"},emphasis:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(a){return this._optionModelMap.get(a)||new RG(null,this,this.ecModel)},getFormattedLabel:function(b,c){var f=this.getRegionModel(b),a=f.get("label."+c+".formatter"),d={name:b};return"function"==typeof a?(d.status=c,a(d)):"string"==typeof a?a.replace("{a}",null!=b?b:""):void 0},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a}});ZZ(fV,abq),aE({type:"geo",init:function(a,b){var c=new jR(b,!0);this._mapDraw=c,this.group.add(c.group)},render:function(b,c,f,a){if(!a||"geoToggleSelect"!==a.type||a.from!==this.uid){var d=this._mapDraw;b.get("show")?d.draw(b,c,f,this,a):this._mapDraw.group.removeAll(),this.group.silent=b.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}}),w5("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),w5("select",{type:"geoSelect",event:"geoselected"}),w5("unSelect",{type:"geoUnSelect",event:"geounselected"});var uQ=86400000;x5.prototype={constructor:x5,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"}]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(b){b=lE(b);var c=b.getFullYear(),f=b.getMonth()+1;f=10>f?"0"+f:f;var a=b.getDate();a=10>a?"0"+a:a;var d=b.getDay();return d=Math.abs((d+7-this.getFirstDayOfWeek())%7),{y:c,m:f,d:a,day:d,time:b.getTime(),formatedDate:c+"-"+f+"-"+a,date:b}},getNextNDay:function(a,b){return b=b||0,0===b?this.getDateInfo(a):(a=new Date(this.getDateInfo(a).time),a.setDate(a.getDate()+b),this.getDateInfo(a))},update:function(m,h){function d(a,i){return null!=a[i]&&"auto"!==a[i]}this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle.normal").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var g=this._rangeInfo.weeks||1,c=["width","height"],j=this._model.get("cellSize").slice(),b=this._model.getBoxLayoutParams(),p="horizontal"===this._orient?[g,7]:[7,g];ZR([0,1],function(a){d(j,a)&&(b[c[a]]=j[a]*p[a])});var f={width:h.getWidth(),height:h.getHeight()},k=this._rect=WU(b,f);ZR([0,1],function(a){d(j,a)||(j[a]=k[c[a]]/p[a])}),this._sw=j[0],this._sh=j[1]},dataToPoint:function(d,g){YH(d)&&(d=d[0]),null==g&&(g=!0);var j=this.getDateInfo(d),c=this._rangeInfo,h=j.formatedDate;if(g&&!(j.time>=c.start.time&&j.time<=c.end.time)){return[0/0,0/0]}var b=j.day,f=this._getRangeInfo([c.start.time,h]).nthWeek;return"vertical"===this._orient?[this._rect.x+b*this._sw+this._sw/2,this._rect.y+f*this._sh+this._sh/2]:[this._rect.x+f*this._sw+this._sw/2,this._rect.y+b*this._sh+this._sh/2]},pointToData:function(a){var b=this.pointToDate(a);return b&&b.time},dataToRect:function(a,b){var c=this.dataToPoint(a,b);return{contentShape:{x:c[0]-(this._sw-this._lineWidth)/2,y:c[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:c,tl:[c[0]-this._sw/2,c[1]-this._sh/2],tr:[c[0]+this._sw/2,c[1]-this._sh/2],br:[c[0]+this._sw/2,c[1]+this._sh/2],bl:[c[0]-this._sw/2,c[1]+this._sh/2]}},pointToDate:function(b){var c=Math.floor((b[0]-this._rect.x)/this._sw)+1,d=Math.floor((b[1]-this._rect.y)/this._sh)+1,a=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(d,c-1,a):this._getDateByWeeksAndDay(c,d-1,a)},convertToPixel:YG(o7,"dataToPoint"),convertFromPixel:YG(o7,"pointToData"),_initRangeOption:function(){var d=this._model.get("range"),f=d;if(YH(f)&&1===f.length&&(f=f[0]),/^\d{4}$/.test(f)&&(d=[f+"-01-01",f+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(f)){var h=this.getDateInfo(f),c=h.date;c.setMonth(c.getMonth()+1);var g=this.getNextNDay(c,-1);d=[h.formatedDate,g.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(f)&&(d=[f,f]);var b=this._getRangeInfo(d);return b.start.time>b.end.time&&d.reverse(),d},_getRangeInfo:function(k){k=[this.getDateInfo(k[0]),this.getDateInfo(k[1])];var h;k[0].time>k[1].time&&(h=!0,k.reverse());var d=Math.floor(k[1].time/uQ)-Math.floor(k[0].time/uQ)+1,g=new Date(k[0].time),c=g.getDate(),j=k[1].date.getDate();if(g.setDate(c+d-1),g.getDate()!==j){for(var b=g.getTime()-k[1].time>0?1:-1;g.getDate()!==j&&(g.getTime()-k[1].time)*b>0;){d-=b,g.setDate(c+d-1)}}var m=Math.floor((d+k[0].day+6)/7),f=h?-m+1:m-1;return h&&k.reverse(),{range:[k[0].formatedDate,k[1].formatedDate],start:k[0],end:k[1],allDay:d,weeks:m,nthWeek:f,fweek:k[0].day,lweek:k[1].day}},_getDateByWeeksAndDay:function(d,f,h){var c=this._getRangeInfo(h);if(d>c.weeks||0===d&&f<c.fweek||d===c.weeks&&f>c.lweek){return !1}var g=7*(d-1)-c.fweek+f,b=new Date(c.start.time);return b.setDate(c.start.d+g),this.getDateInfo(b)}},x5.dimensions=x5.prototype.dimensions,x5.getDimensionsInfo=x5.prototype.getDimensionsInfo,x5.create=function(a,b){var c=[];return a.eachComponent("calendar",function(d){var e=new x5(d,a,b);c.push(e),d.coordinateSystem=e}),a.eachSeries(function(d){"calendar"===d.get("coordinateSystem")&&(d.coordinateSystem=c[d.get("calendarIndex")||0])}),c},LY.register("calendar",x5);var wO=aa9.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{normal:{color:"#fff",borderWidth:1,borderColor:"#ccc"}},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(a){var b=abf(a);wO.superApply(this,"init",arguments),k7(a,b)},mergeOption:function(a){wO.superApply(this,"mergeOption",arguments),k7(this.option,a)}}),cV={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},eV={EN:["S","M","T","W","T","F","S"],CN:["日","一","二","三","四","五","六"]};aE({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(b){var c=this.group;c.removeAll();var f=b.coordinateSystem,a=f.getRangeInfo(),d=f.getOrient();this._renderDayRect(b,a,c),this._renderLines(b,a,d,c),this._renderYearText(b,a,d,c),this._renderMonthText(b,d,c),this._renderWeekText(b,a,d,c)},_renderDayRect:function(m,h,d){for(var g=m.coordinateSystem,c=m.getModel("itemStyle.normal").getItemStyle(),j=g.getCellWidth(),b=g.getCellHeight(),p=h.start.time;p<=h.end.time;p=g.getNextNDay(p,1).time){var f=g.dataToRect([p],!1).tl,k=new hW({shape:{x:f[0],y:f[1],width:j,height:b},cursor:"default",style:c});d.add(k)}},_renderLines:function(y,p,g,k){function f(a){w._firstDayOfMonth.push(b.getDateInfo(a)),w._firstDayPoints.push(b.dataToRect([a],!1).tl);var c=w._getLinePointsOfOneWeek(y,a,g);w._tlpoints.push(c[0]),w._blpoints.push(c[c.length-1]),j&&w._drawSplitline(c,z,k)}var w=this,b=y.coordinateSystem,z=y.getModel("splitLine.lineStyle").getLineStyle(),j=y.get("splitLine.show"),x=z.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var m=p.start,v=0;m.time<=p.end.time;v++){f(m.formatedDate),0===v&&(m=b.getDateInfo(p.start.y+"-"+p.start.m));var q=m.date;q.setMonth(q.getMonth()+1),m=b.getDateInfo(q)}f(b.getNextNDay(p.end.time,1).formatedDate),j&&this._drawSplitline(w._getEdgesPoints(w._tlpoints,x,g),z,k),j&&this._drawSplitline(w._getEdgesPoints(w._blpoints,x,g),z,k)},_getEdgesPoints:function(b,c,f){var a=[b[0].slice(),b[b.length-1].slice()],d="horizontal"===f?0:1;return a[0][d]=a[0][d]-c/2,a[1][d]=a[1][d]+c/2,a},_drawSplitline:function(b,c,d){var a=new sR({z2:20,shape:{points:b},style:c});d.add(a)},_getLinePointsOfOneWeek:function(d,h,k){var c=d.coordinateSystem;h=c.getDateInfo(h);for(var j=[],b=0;7>b;b++){var g=c.getNextNDay(h.time,b),f=c.dataToRect([g.time],!1);j[2*g.day]=f.tl,j[2*g.day+1]=f["horizontal"===k?"bl":"tr"]}return j},_formatterLabel:function(a,b){return"string"==typeof a&&a?eG(a,b):"function"==typeof a?a(b):b.nameMap},_yearTextPositionControl:function(d,g,j,c,h){g=g.slice();var b=["center","bottom"];"bottom"===c?(g[1]+=h,b=["center","top"]):"left"===c?g[0]-=h:"right"===c?(g[0]+=h,b=["center","top"]):g[1]-=h;var f=0;return("left"===c||"right"===c)&&(f=Math.PI/2),{rotation:f,position:g,style:{textAlign:b[0],textVerticalAlign:b[1]}}},_renderYearText:function(G,B,q,x){var k=G.getModel("yearLabel");if(k.get("show")){var E=k.get("margin"),b=k.get("position");b||(b="horizontal"!==q?"top":"left");var H=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],w=(H[0][0]+H[1][0])/2,F=(H[0][1]+H[1][1])/2,y="horizontal"===q?0:1,D={top:[w,H[y][1]],bottom:[w,H[1-y][1]],left:[H[1-y][0],F],right:[H[y][0],F]},C=B.start.y;+B.end.y>+B.start.y&&(C=C+"-"+B.end.y);var A=k.get("formatter"),z={start:B.start.y,end:B.end.y,nameMap:C},j=this._formatterLabel(A,z),v=new PG({z2:30});WB(v.style,k,{text:j}),v.attr(this._yearTextPositionControl(v,D[b],q,b,E)),x.add(v)}},_monthTextPositionControl:function(k,h,d,g,c){var j="left",b="top",m=k[0],f=k[1];return"horizontal"===d?(f+=c,h&&(j="center"),"start"===g&&(b="bottom")):(m+=c,h&&(b="middle"),"start"===g&&(j="right")),{x:m,y:f,textAlign:j,textVerticalAlign:b}},_renderMonthText:function(z,K,D){var G=z.getModel("monthLabel");if(G.get("show")){var C=G.get("nameMap"),N=G.get("margin"),A=G.get("position"),F=G.get("align"),r=[this._tlpoints,this._blpoints];Z1(C)&&(C=cV[C.toUpperCase()]||[]);var H="start"===A?0:1,M="horizontal"===K?0:1;N="start"===A?-N:N;for(var L="center"===F,J=0;J<r[H].length-1;J++){var I=r[H][J].slice(),B=this._firstDayOfMonth[J];if(L){var E=this._firstDayPoints[J];I[M]=(E[M]+r[0][J+1][M])/2}var q=G.get("formatter"),b=C[+B.m-1],j={yyyy:B.y,yy:(B.y+"").slice(2),MM:B.m,M:+B.m,nameMap:b},O=this._formatterLabel(q,j),k=new PG({z2:30});YY(WB(k.style,G,{text:O}),this._monthTextPositionControl(I,L,K,A,N)),D.add(k)}}},_weekTextPositionControl:function(m,h,d,g,c){var j="center",b="middle",p=m[0],f=m[1],k="start"===d;return"horizontal"===h?(p=p+g+(k?1:-1)*c[0]/2,j=k?"right":"left"):(f=f+g+(k?1:-1)*c[1]/2,b=k?"bottom":"top"),{x:p,y:f,textAlign:j,textVerticalAlign:b}},_renderWeekText:function(G,A,k,w){var j=G.getModel("dayLabel");if(j.get("show")){var D=G.coordinateSystem,H=j.get("position"),r=j.get("nameMap"),F=j.get("margin"),x=D.getFirstDayOfWeek();Z1(r)&&(r=eV[r.toUpperCase()]||[]);var C=D.getNextNDay(A.end.time,7-A.lweek).time,B=[D.getCellWidth(),D.getCellHeight()];F=E9(F,B["horizontal"===k?0:1]),"start"===H&&(C=D.getNextNDay(A.start.time,-(7+A.fweek)).time,F=-F);for(var z=0;7>z;z++){var y=D.getNextNDay(C,z),b=D.dataToRect([y.time],!1).center,q=z;q=Math.abs((z+x)%7);var E=new PG({z2:30});YY(WB(E.style,j,{text:r[q]}),this._weekTextPositionControl(b,k,H,F,B)),w.add(E)}}}}),DY({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),aE({type:"title",render:function(w,K,D){if(this.group.removeAll(),w.get("show")){var G=this.group,C=w.getModel("textStyle"),N=w.getModel("subtextStyle"),A=w.get("textAlign"),z=w.get("textBaseline"),F=new PG({style:WB({},C,{text:w.get("text"),textFill:C.getTextColor()},{disableBox:!0}),z2:10}),q=F.getBoundingRect(),H=w.get("subtext"),M=new PG({style:WB({},N,{text:H,textFill:N.getTextColor(),y:q.height+w.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),L=w.get("link"),J=w.get("sublink");F.silent=!L,M.silent=!J,L&&F.on("click",function(){window.open(L,"_"+w.get("target"))}),J&&M.on("click",function(){window.open(J,"_"+w.get("subtarget"))}),G.add(F),H&&G.add(M);var I=G.getBoundingRect(),B=w.getBoxLayoutParams();B.width=I.width,B.height=I.height;var E=WU(B,{width:D.getWidth(),height:D.getHeight()},w.get("padding"));A||(A=w.get("left")||w.get("right"),"middle"===A&&(A="center"),"right"===A?E.x+=E.width:"center"===A&&(E.x+=E.width/2)),z||(z=w.get("top")||w.get("bottom"),"center"===z&&(z="middle"),"bottom"===z?E.y+=E.height:"middle"===z&&(E.y+=E.height/2),z=z||"top"),G.attr("position",[E.x,E.y]);var k={textAlign:A,textVerticalAlign:z};F.setStyle(k),M.setStyle(k),I=G.getBoundingRect();var b=E.margin,j=w.getItemStyle(["color","opacity"]);j.fill=w.get("backgroundColor");var O=new hW({shape:{x:I.x-b[3],y:I.y-b[0],width:I.width+b[1]+b[3],height:I.height+b[0]+b[2],r:w.get("borderRadius")},style:j,silent:!0});p9(O),G.add(O)}}});var dV=DY({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(a,b,c){this.mergeDefaultAndTheme(a,c),a.selected=a.selected||{}},mergeOption:function(a){dV.superCall(this,"mergeOption",a)},optionUpdated:function(){this._updateData(this.ecModel);var b=this._data;if(b[0]&&"single"===this.get("selectedMode")){for(var c=!1,d=0;d<b.length;d++){var a=b[d].get("name");if(this.isSelected(a)){this.select(a),c=!0;break}}!c&&this.select(b[0].get("name"))}},_updateData:function(a){var b=ZN(this.get("data")||[],function(d){return("string"==typeof d||"number"==typeof d)&&(d={name:d}),new RG(d,this,this.ecModel)},this);this._data=b;var c=ZN(a.getSeries(),function(d){return d.name});a.eachSeries(function(d){if(d.legendDataProvider){var f=d.legendDataProvider();c=c.concat(f.mapArray(f.getName))}}),this._availableNames=c},getData:function(){return this._data},select:function(b){var c=this.option.selected,d=this.get("selectedMode");if("single"===d){var a=this._data;ZR(a,function(e){c[e.get("name")]=!1})}c[b]=!0},unSelect:function(a){"single"!==this.get("selectedMode")&&(this.option.selected[a]=!1)},toggleSelected:function(a){var b=this.option.selected;b.hasOwnProperty(a)||(b[a]=!0),this[b[a]?"unSelect":"select"](a)},isSelected:function(a){var b=this.option.selected;return !(b.hasOwnProperty(a)&&!b[a])&&YR(this._availableNames,a)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});VQ("legendToggleSelect","legendselectchanged",YG(QZ,"toggleSelected")),VQ("legendSelect","legendselected",YG(QZ,"select")),VQ("legendUnSelect","legendunselected",YG(QZ,"unSelect"));var hV=YG,MF=ZR,Tt=TH,B0=aE({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new Tt),this._backgroundEl},getContentGroup:function(){return this._contentGroup},render:function(q,k,d){if(this.resetInner(),q.get("show",!0)){var g=q.get("align");g&&"auto"!==g||(g="right"===q.get("left")&&"vertical"===q.get("orient")?"right":"left"),this.renderInner(g,q,k,d);var c=q.getBoxLayoutParams(),m={width:d.getWidth(),height:d.getHeight()},b=q.get("padding"),f=WU(c,m,b),p=this.layoutInner(q,g,f),j=WU(YW({width:p.width,height:p.height},c),m,b);this.group.attr("position",[j.x-p.x,j.y-p.y]),this.group.add(this._backgroundEl=B9(p,q))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(d,g,j,c){var h=this.getContentGroup(),b=aaz(),f=g.get("selectedMode");MF(g.getData(),function(r,e){var q=r.get("name");if(!this.newlineDisabled&&(""===q||"\n"===q)){return void h.add(new Tt({newline:!0}))}var i=j.getSeriesByName(q)[0];if(!b.get(q)){if(i){var o=i.getData(),n=o.getVisual("color");"function"==typeof n&&(n=n(i.getDataParams(0)));var m=o.getVisual("legendSymbol")||"roundRect",k=o.getVisual("symbol"),a=this._createItem(q,e,r,g,m,k,d,n,f);a.on("click",hV(m7,q,c)).on("mouseover",hV(v6,i,null,c)).on("mouseout",hV(i9,i,null,c)),b.set(q,!0)}else{j.eachRawSeries(function(v){if(!b.get(q)&&v.legendDataProvider){var t=v.legendDataProvider(),l=t.indexOfName(q);if(0>l){return}var u=t.getItemVisual(l,"color"),s="roundRect",p=this._createItem(q,e,r,g,s,null,d,u,f);p.on("click",hV(m7,q,c)).on("mouseover",hV(v6,v,q,c)).on("mouseout",hV(i9,v,q,c)),b.set(q,!0)}},this)}}},this)},_createItem:function(C,O,G,J,F,T,D,I,B){var K=J.get("itemWidth"),Q=J.get("itemHeight"),P=J.get("inactiveColor"),N=J.isSelected(C),L=new Tt,E=G.getModel("textStyle"),H=G.get("icon"),A=G.getModel("tooltip"),q=A.parentModel;if(F=H||F,L.add(xq(F,0,0,K,Q,N?I:P,!0)),!H&&T&&(T!==F||"none"==T)){var r=0.8*Q;"none"===T&&(T="circle"),L.add(xq(T,(K-r)/2,(Q-r)/2,r,r,N?I:P))}var U="left"===D?K+5:-5,R=D,z=J.get("formatter"),j=C;"string"==typeof z&&z?j=z.replace("{name}",null!=C?C:""):"function"==typeof z&&(j=z(C)),L.add(new PG({style:WB({},E,{text:j,x:U,y:Q/2,textFill:N?E.getTextColor():P,textAlign:R,textVerticalAlign:"middle"})}));var k=new hW({shape:L.getBoundingRect(),invisible:!0,tooltip:A.get("show")?YY({content:C,formatter:q.get("formatter",!0)||function(){return C},formatterParams:{componentType:"legend",legendIndex:J.componentIndex,name:C,$vars:["name"]}},A.option):null});return L.add(k),L.eachChild(function(a){a.silent=!0}),k.silent=!B,this.getContentGroup().add(L),Z9(L),L.__legendDataIndex=O,L},layoutInner:function(b,c,f){var a=this.getContentGroup();NQ(b.get("orient"),a,b.get("itemGap"),f.width,f.height);var d=a.getBoundingRect();return a.attr("position",[-d.x,-d.y]),this.group.getBoundingRect()}}),rQ=function(a){var b=a.findComponents({mainType:"legend"});b&&b.length&&a.filterSeries(function(c){for(var d=0;d<b.length;d++){if(!b[d].isSelected(c.name)){return !1}}return !0})};Y1(rQ),aa9.registerSubTypeDefaulter("legend",function(){return"plain"});var sQ=dV.extend({type:"legend.scroll",setScrollDataIndex:function(a){this.option.scrollDataIndex=a},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(b,c,f,a){var d=abf(b);sQ.superCall(this,"init",b,c,f,a),y5(this,b,d)},mergeOption:function(a,b){sQ.superCall(this,"mergeOption",a,b),y5(this,this.option,a)},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}}),lR=TH,I8=["width","height"],X2=["x","y"],O7=B0.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){O7.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new lR),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new lR),this._showController},resetInner:function(){O7.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(k,h,d,g){function c(e,p){var i=e+"DataIndex",a=lV(h.get("pageIcons",!0)[h.getOrient().name][p],{onclick:YN(j._pageGo,j,i,h,g)},{x:-m[0]/2,y:-m[1]/2,width:m[0],height:m[1]});a.name=e,b.add(a)}var j=this;O7.superCall(this,"renderInner",k,h,d,g);var b=this._controllerGroup,m=h.get("pageIconSize",!0);YH(m)||(m=[m,m]),c("pagePrev",0);var f=h.getModel("pageTextStyle");b.add(new PG({name:"pageText",style:{textFill:f.getTextColor(),font:f.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),c("pageNext",1)},layoutInner:function(w,K,D){var G=this.getContentGroup(),C=this._containerGroup,N=this._controllerGroup,A=w.getOrient().index,z=I8[A],F=I8[1-A],q=X2[1-A];NQ(w.get("orient"),G,w.get("itemGap"),A?D.width:null,A?null:D.height),NQ("horizontal",N,w.get("pageButtonItemGap",!0));var H=G.getBoundingRect(),M=N.getBoundingRect(),L=this._showController=H[z]>D[z],J=[-H.x,-H.y];J[A]=G.position[A];var I=[0,0],B=[-M.x,-M.y],E=aa3(w.get("pageButtonGap",!0),w.get("itemGap",!0));if(L){var k=w.get("pageButtonPosition",!0);"end"===k?B[A]+=D[z]-M[z]:I[A]+=M[z]+E}B[1-A]+=H[F]/2-M[F]/2,G.attr("position",J),C.attr("position",I),N.attr("position",B);var b=this.group.getBoundingRect(),b={x:0,y:0};if(b[z]=L?D[z]:H[z],b[F]=Math.max(H[F],M[F]),b[q]=Math.min(0,M[q]+B[1-A]),C.__rectSize=D[z],L){var j={x:0,y:0};j[z]=Math.max(D[z]-M[z]-E,0),j[F]=b[F],C.setClipPath(new hW({shape:j})),C.__rectSize=j[z]}else{N.eachChild(function(a){a.attr({invisible:!0,silent:!0})})}var O=this._getPageInfo(w);return null!=O.pageIndex&&iX(G,{position:O.contentPosition},L?w:!1),this._updatePageInfoView(w,O),b},_pageGo:function(b,c,d){var a=this._getPageInfo(c)[b];null!=a&&d.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:c.id})},_updatePageInfoView:function(d,h){var k=this._controllerGroup;ZR(["pagePrev","pageNext"],function(l){var m=null!=h[l+"DataIndex"],e=k.childOfName(l);e&&(e.setStyle("fill",m?d.get("pageIconColor",!0):d.get("pageIconInactiveColor",!0)),e.cursor=m?"pointer":"default")});var c=k.childOfName("pageText"),j=d.get("pageFormatter"),b=h.pageIndex,g=null!=b?b+1:0,f=h.pageCount;c&&j&&c.setStyle("text",Z1(j)?j.replace("{current}",g).replace("{total}",f):j({current:g,total:f}))},_getPageInfo:function(B){function N(a){var b=a.getBoundingRect().clone();return b[M]+=a.position[K],b}var G,J,F,R,D=B.get("scrollDataIndex",!0),C=this.getContentGroup(),I=C.getBoundingRect(),A=this._containerGroup.__rectSize,K=B.getOrient().index,P=I8[K],O=I8[1-K],M=X2[K],L=C.position.slice();this._showController?C.eachChild(function(a){a.__legendDataIndex===D&&(R=a)}):R=C.childAt(0);var E=A?Math.ceil(I[P]/A):0;if(R){var H=R.getBoundingRect(),z=R.position[K]+H[M];L[K]=-z-I[M],G=Math.floor(E*(z+H[M]+A/2)/I[P]),G=I[P]&&E?Math.max(0,Math.min(E-1,G)):-1;var j={x:0,y:0};j[P]=A,j[O]=I[O],j[M]=-L[K]-I[M];var k,S=C.children();if(C.eachChild(function(b,c){var a=N(b);a.intersect(j)&&(null==k&&(k=c),F=b.__legendDataIndex),c===S.length-1&&a[M]+a[P]<=j[M]+j[P]&&(F=null)}),null!=k){var Q=S[k],q=N(Q);if(j[M]=q[M]+q[P]-j[P],0>=k&&q[M]>=j[M]){J=null}else{for(;k>0&&N(S[k-1]).intersect(j);){k--}J=S[k].__legendDataIndex}}}return{contentPosition:L,pageIndex:G,pageCount:E,pagePrevDataIndex:J,pageNextDataIndex:F}}});VQ("legendScroll","legendscroll",function(a,b){var c=a.scrollDataIndex;null!=c&&b.eachComponent({mainType:"legend",subType:"scroll",query:a},function(d){d.setScrollDataIndex(c)})}),DY({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",confine:!1,showDelay:0,hideDelay:100,transitionDuration:0.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var T3=ZR,N7=zt,abI=["","-webkit-","-moz-","-o-"],K7="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";s6.prototype={constructor:s6,_enterable:!0,update:function(){var a=this._container,b=a.currentStyle||document.defaultView.getComputedStyle(a),c=a.style;"absolute"!==c.position&&"absolute"!==b.position&&(c.position="relative")},show:function(a){clearTimeout(this._hideTimeout);var c=this.el;var b=document.querySelector("div[data-dojo-type='mui/tabbar/TabBarGroup']");if(b){b.onclick=function(){c.style.display="none"}}c.style.cssText=K7+d9(a)+";left:"+this._x+"px;top:"+this._y+"px;"+(a.get("extraCssText")||""),c.style.display=c.innerHTML?"block":"none",this._show=!0},setContent:function(a){this.el.innerHTML=null==a?"":a},setEnterable:function(a){this._enterable=a},getSize:function(){var a=this.el;return[a.clientWidth,a.clientHeight]},moveTo:function(b,c){var f,a=this._zr;a&&a.painter&&(f=a.painter.getViewportRootOffset())&&(b+=f.offsetLeft,c+=f.offsetTop);var d=this.el.style;d.left=b+"px",d.top=c+"px",this._x=b,this._y=c},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(a){!this._show||this._inContent&&this._enterable||(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=setTimeout(YN(this.hide,this),a)):this.hide())},isShow:function(){return this._show}};var J8=YN,Q6=ZR,H8=E9,U3=new hW({shape:{x:-1,y:-1,width:2,height:2}});aE({type:"tooltip",init:function(a,b){if(!VG.node){var c=new s6(b.getDom(),b);this._tooltipContent=c}},render:function(b,c,d){if(!VG.node){this.group.removeAll(),this._tooltipModel=b,this._ecModel=c,this._api=d,this._lastDataByCoordSys=null,this._alwaysShowContent=b.get("alwaysShowContent");var a=this._tooltipContent;a.update(),a.setEnterable(b.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var a=this._tooltipModel,b=a.get("triggerOn");Pk("itemTooltip",this._api,J8(function(d,e,c){"none"!==b&&(b.indexOf(d)>=0?this._tryShow(e,c):"leave"===d&&this._hide(c))},this))},_keepShow:function(){var b=this._tooltipModel,c=this._ecModel,d=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==b.get("triggerOn")){var a=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){a.manuallyShowTip(b,c,d,{x:a._lastX,y:a._lastY})})}},manuallyShowTip:function(m,h,d,g){if(g.from!==this.uid&&!VG.node){var c=bF(g,d);this._ticket="";var j=g.dataByCoordSys;if(g.tooltip&&null!=g.x&&null!=g.y){var b=U3;b.position=[g.x,g.y],b.update(),b.tooltip=g.tooltip,this._tryShow({offsetX:g.x,offsetY:g.y,target:b},c)}else{if(j){this._tryShow({offsetX:g.x,offsetY:g.y,position:g.position,event:{},dataByCoordSys:g.dataByCoordSys,tooltipOption:g.tooltipOption},c)}else{if(null!=g.seriesIndex){if(this._manuallyAxisShowTip(m,h,d,g)){return}var p=KG(g,h),f=p.point[0],k=p.point[1];null!=f&&null!=k&&this._tryShow({offsetX:f,offsetY:k,position:g.position,target:p.el,event:{}},c)}else{null!=g.x&&null!=g.y&&(d.dispatchAction({type:"updateAxisPointer",x:g.x,y:g.y}),this._tryShow({offsetX:g.x,offsetY:g.y,position:g.position,target:d.getZr().findHover(g.x,g.y).target,event:{}},c))}}}}},manuallyHideTip:function(b,c,f,a){var d=this._tooltipContent;this._alwaysShowContent||d.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,a.from!==this.uid&&this._hide(bF(a,f))},_manuallyAxisShowTip:function(k,h,d,g){var c=g.seriesIndex,j=g.dataIndex,b=h.getComponent("axisPointer").coordSysAxesInfo;if(null!=c&&null!=j&&null!=b){var m=h.getSeriesByIndex(c);if(m){var f=m.getData(),k=u6([f.getItemModel(j),m,(m.coordinateSystem||{}).model,k]);if("axis"===k.get("trigger")){return d.dispatchAction({type:"updateAxisPointer",seriesIndex:c,dataIndex:j,position:g.position}),!0}}}},_tryShow:function(b,c){var f=b.target,a=this._tooltipModel;if(a){this._lastX=b.offsetX,this._lastY=b.offsetY;var d=b.dataByCoordSys;d&&d.length?this._showAxisTooltip(d,b):f&&null!=f.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(b,f,c)):f&&f.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(b,f,c)):(this._lastDataByCoordSys=null,this._hide(c))}},_showOrMove:function(a,b){var c=a.get("showDelay");b=YN(b,this),clearTimeout(this._showTimout),c>0?this._showTimout=setTimeout(b,c):b()},_showAxisTooltip:function(k,h){var d=this._ecModel,g=this._tooltipModel,c=[h.offsetX,h.offsetY],j=[],b=[],m=u6([h.tooltipOption,g]);Q6(k,function(a){Q6(a.dataByAxis,function(q){var u=d.getComponent(q.axisDim+"Axis",q.axisIndex),p=q.value,v=[];if(u&&null!=p){var r=Rj(p,u.axis,d,q.seriesDataIndices,q.valueLabelOpt);ZR(q.seriesDataIndices,function(i){var e=d.getSeriesByIndex(i.seriesIndex),o=i.dataIndexInside,s=e&&e.getDataParams(o);s.axisDim=q.axisDim,s.axisIndex=q.axisIndex,s.axisType=q.axisType,s.axisId=q.axisId,s.axisValue=c6(u.axis,p),s.axisValueLabel=r,s&&(b.push(s),v.push(e.formatTooltip(o,!0)))});var n=r;j.push((n?fG(n)+"<br />":"")+v.join("<br />"))}})},this),j.reverse(),j=j.join("<br /><br />");var f=h.position;this._showOrMove(m,function(){this._updateContentNotChangedOnAxis(k)?this._updatePosition(m,f,c[0],c[1],this._tooltipContent,b):this._showTooltipContent(m,j,b,Math.random(),c[0],c[1],f)})},_showSeriesItemTooltip:function(C,x,k){var p=this._ecModel,j=x.seriesIndex,A=p.getSeriesByIndex(j),b=x.dataModel||A,D=x.dataIndex,m=x.dataType,B=b.getData(),q=u6([B.getItemModel(D),b,A&&(A.coordinateSystem||{}).model,this._tooltipModel]),z=q.get("trigger");if(null==z||"item"===z){var y=b.getDataParams(D,m),w=b.formatTooltip(D,!1,m),v="item_"+b.name+"_"+D;this._showOrMove(q,function(){this._showTooltipContent(q,w,y,v,C.offsetX,C.offsetY,C.position,C.target)}),k({type:"showTip",dataIndexInside:D,dataIndex:B.getRawIndex(D),seriesIndex:j,from:this.uid})}},_showComponentItemTooltip:function(d,h,k){var c=h.tooltip;if("string"==typeof c){var j=c;c={content:j,formatter:j}}var b=new RG(c,this._tooltipModel,this._ecModel),g=b.get("content"),f=Math.random();this._showOrMove(b,function(){this._showTooltipContent(b,g,b.get("formatterParams")||{},f,d.offsetX,d.offsetY,d.position,h)}),k({type:"showTip",from:this.uid})},_showTooltipContent:function(w,m,f,j,d,q,b,x){if(this._ticket="",w.get("showContent")&&w.get("show")){var g=this._tooltipContent,v=w.get("formatter");b=b||w.get("position");var k=m;if(v&&"string"==typeof v){k=uB(v,f,!0)}else{if("function"==typeof v){var p=J8(function(c,a){c===this._ticket&&(g.setContent(a),this._updatePosition(w,b,d,q,g,f,x))},this);this._ticket=j,k=v(f,j,p)}}g.setContent(k),g.show(w),this._updatePosition(w,b,d,q,g,f,x)}},_updatePosition:function(C,x,k,p,j,A,b){var D=this._api.getWidth(),m=this._api.getHeight();x=x||C.get("position");var B=j.getSize(),q=C.get("align"),z=C.get("verticalAlign"),y=b&&b.getBoundingRect().clone();if(b&&y.applyTransform(b.transform),"function"==typeof x&&(x=x([k,p],A,j.el,y,{viewSize:[D,m],contentSize:B.slice()})),YH(x)){k=H8(x[0],D),p=H8(x[1],m)}else{if(YJ(x)){x.width=B[0],x.height=B[1];var w=WU(x,{width:D,height:m});k=w.x,p=w.y,q=null,z=null}else{if("string"==typeof x&&b){var v=K0(x,y,B);k=v[0],p=v[1]}else{var v=c9(k,p,j.el,D,m,q?null:20,z?null:20);k=v[0],p=v[1]}}}if(q&&(k-=RY(q)?B[0]/2:"right"===q?B[0]:0),z&&(p-=RY(z)?B[1]/2:"bottom"===z?B[1]:0),C.get("confine")){var v=b9(k,p,j.el,D,m);k=v[0],p=v[1]}j.moveTo(k,p)},_updateContentNotChangedOnAxis:function(a){var b=this._lastDataByCoordSys,c=!!b&&b.length===a.length;return c&&Q6(b,function(h,f){var j=h.dataByAxis||{},d=a[f]||{},g=d.dataByAxis||[];c&=j.length===g.length,c&&Q6(j,function(m,n){var l=g[n]||{},p=m.seriesDataIndices||[],k=l.seriesDataIndices||[];c&=m.value===l.value&&m.axisType===l.axisType&&m.axisId===l.axisId&&p.length===k.length,c&&Q6(p,function(q,r){var o=k[r];c&=q.seriesIndex===o.seriesIndex&&q.dataIndex===o.dataIndex})})}),this._lastDataByCoordSys=a,!!c},_hide:function(a){this._lastDataByCoordSys=null,a({type:"hideTip",from:this.uid})},dispose:function(a,b){VG.node||(this._tooltipContent.hide(),Fq("itemTooltip",b))}}),VQ({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),VQ({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){});var aaI=jF,ZH=fG,W3=DY({type:"marker",dependencies:["series","grid","polar","geo"],init:function(b,c,d,a){this.mergeDefaultAndTheme(b,d),this.mergeOption(b,d,a.createdBySelf,!0)},isAnimationEnabled:function(){if(VG.node){return !1}var a=this.__hostSeries;return this.getShallow("animation")&&a&&a.isAnimationEnabled()},mergeOption:function(d,f,h,c){var g=this.constructor,b=this.mainType+"Model";h||f.eachSeries(function(a){var i=a.get(this.mainType),e=a[b];return i&&i.data?(e?e.mergeOption(i,f,!0):(c&&Bj(i),ZR(i.data,function(j){j instanceof Array?(Bj(j[0]),Bj(j[1])):Bj(j)}),e=new g(i,this,f),YY(e,{mainType:this.mainType,seriesIndex:a.seriesIndex,name:a.name,createdBySelf:!0}),e.__hostSeries=a),void (a[b]=e)):void (a[b]=null)},this)},formatTooltip:function(d){var f=this.getData(),h=this.getRawValue(d),c=YH(h)?ZN(h,aaI).join(", "):aaI(h),g=f.getName(d),b=ZH(this.name);return(null!=h||g)&&(b+="<br />"),g&&(b+=ZH(g),null!=h&&(b+=" : ")),null!=h&&(b+=ZH(c)),b},getData:function(){return this._data},setData:function(a){this._data=a}});ZZ(W3,SE),W3.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"inside"},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:2}}}});var V3=YR,M7=YG,P7={min:M7(H4,"min"),max:M7(H4,"max"),average:M7(H4,"average")},G8=aE({type:"marker",init:function(){this.markerGroupMap=aaz()},render:function(b,c,f){var a=this.markerGroupMap;a.each(function(e){e.__keep=!1});var d=this.type+"Model";c.eachSeries(function(g){var e=g[d];e&&this.renderSeries(g,e,c,f)},this),a.each(function(e){!e.__keep&&this.group.remove(e.group)},this)},renderSeries:function(){}});G8.extend({type:"markPoint",updateLayout:function(a,b,c){b.eachSeries(function(d){var f=d.markPointModel;f&&(J4(f.getData(),d,c),this.markerGroupMap.get(d.id).updateLayout(f))},this)},renderSeries:function(m,h,d,g){var c=m.coordinateSystem,j=m.id,b=m.getData(),p=this.markerGroupMap,f=p.get(j)||p.set(j,new SQ),k=I4(c,m,h);h.setData(k),J4(h.getData(),m,g),k.each(function(e){var l=k.getItemModel(e),a=l.getShallow("symbolSize");"function"==typeof a&&(a=a(h.getRawValue(e),h.getDataParams(e))),k.setItemVisual(e,{symbolSize:a,color:l.get("itemStyle.normal.color")||b.getVisual("color"),symbol:l.getShallow("symbol")})}),f.updateData(k),this.group.add(f.group),k.eachItemGraphicEl(function(a){a.traverse(function(e){e.dataModel=h})}),f.__keep=!0,f.group.silent=h.get("silent")||m.get("silent")}}),TQ(function(a){a.markPoint=a.markPoint||{}}),W3.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"end"},emphasis:{show:!0}},lineStyle:{normal:{type:"dashed"},emphasis:{width:3}},animationEasing:"linear"}});var D9=function(C,w,i,z){var D=C.getData(),k=z.type;if(!YH(z)&&("min"===k||"max"===k||"average"===k||null!=z.xAxis||null!=z.yAxis)){var B,o,y;if(null!=z.yAxis||null!=z.xAxis){o=null!=z.yAxis?"y":"x",B=w.getAxis(o),y=aam(z.yAxis,z.xAxis)}else{var x=N3(z,D,w,C);o=x.valueDataDim,B=x.valueAxis,y=abk(D,o,k)}var r="x"===o?0:1,q=1-r,b=ZJ(z),j={};b.type=null,b.coord=[],j.coord=[],b.coord[q]=-1/0,j.coord[q]=1/0;var A=i.get("precision");A>=0&&"number"==typeof y&&(y=+y.toFixed(Math.min(A,20))),b.coord[r]=j.coord[r]=y,z=[b,j,{type:k,valueIndex:z.valueIndex,value:y}]}return z=[WZ(C,z[0]),WZ(C,z[1]),YY({},z[2])],z[2].type=z[2].type||"",Y5(z[2],z[0]),Y5(z[2],z[1]),z};G8.extend({type:"markLine",updateLayout:function(a,b,c){b.eachSeries(function(g){var h=g.markLineModel;if(h){var f=h.getData(),j=h.__from,d=h.__to;j.each(function(i){Zz(j,i,!0,g,c),Zz(d,i,!1,g,c)}),f.each(function(e){f.setItemLayout(e,[j.getItemLayout(e),d.getItemLayout(e)])}),this.markerGroupMap.get(g.id).updateLayout()}},this)},renderSeries:function(E,z,m,v){function k(d,g,f){var c=d.getItemModel(g);Zz(d,g,f,E,v),d.setItemVisual(g,{symbolSize:c.get("symbolSize")||j[f?0:1],symbol:c.get("symbol",!0)||x[f?0:1],color:c.get("itemStyle.normal.color")||F.getVisual("color")})}var C=E.coordinateSystem,b=E.id,F=E.getData(),q=this.markerGroupMap,D=q.get(b)||q.set(b,new BK);this.group.add(D.group);var w=XY(C,E,z),B=w.from,A=w.to,y=w.line;z.__from=B,z.__to=A,z.setData(y);var x=z.get("symbol"),j=z.get("symbolSize");YH(x)||(x=[x,x]),"number"==typeof j&&(j=[j,j]),w.from.each(function(a){k(B,a,!0),k(A,a,!1)}),y.each(function(a){var c=y.getItemModel(a).get("lineStyle.normal.color");y.setItemVisual(a,{color:c||B.getItemVisual(a,"color")}),y.setItemLayout(a,[B.getItemLayout(a),A.getItemLayout(a)]),y.setItemVisual(a,{fromSymbolSize:B.getItemVisual(a,"symbolSize"),fromSymbol:B.getItemVisual(a,"symbol"),toSymbolSize:A.getItemVisual(a,"symbolSize"),toSymbol:A.getItemVisual(a,"symbol")})}),D.updateData(y),w.line.eachItemGraphicEl(function(a){a.traverse(function(c){c.dataModel=z})}),D.__keep=!0,D.group.silent=z.get("silent")||E.get("silent")}}),TQ(function(a){a.markLine=a.markLine||{}}),W3.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{normal:{show:!0,position:"top"},emphasis:{show:!0,position:"top"}},itemStyle:{normal:{borderWidth:0}}}});var E8=function(m,j,c,f){var b=WZ(m,f[0]),a=WZ(m,f[1]),p=aam,d=b.coord,k=a.coord;d[0]=p(d[0],-1/0),d[1]=p(d[1],-1/0),k[0]=p(k[0],1/0),k[1]=p(k[1],1/0);var g=Z4([{},b,a]);return g.coord=[b.coord,a.coord],g.x0=b.x,g.y0=b.y,g.x1=a.x,g.y1=a.y,g},a5=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];G8.extend({type:"markArea",updateLayout:function(a,b,c){b.eachSeries(function(f){var g=f.markAreaModel;if(g){var d=g.getData();d.each(function(i){var j=ZN(a5,function(e){return O3(d,i,e,f,c)});d.setItemLayout(i,j);var h=d.getItemGraphicEl(i);h.setShape("points",j)})}},this)},renderSeries:function(q,k,d,g){var c=q.coordinateSystem,m=q.name,b=q.getData(),f=this.markerGroupMap,p=f.get(m)||f.set(m,{group:new TH});this.group.add(p.group),p.__keep=!0;var j=F4(c,q,k);k.setData(j),j.each(function(a){j.setItemLayout(a,ZN(a5,function(e){return O3(j,a,e,q,g)})),j.setItemVisual(a,{color:b.getVisual("color")})}),j.diff(p.__data).add(function(a){var h=new oU({shape:{points:j.getItemLayout(a)}});j.setItemGraphicEl(a,h),p.group.add(h)}).update(function(e,h){var a=p.__data.getItemGraphicEl(h);iX(a,{shape:{points:j.getItemLayout(e)}},k,e),p.group.add(a),j.setItemGraphicEl(e,a)}).remove(function(a){var h=p.__data.getItemGraphicEl(a);p.group.remove(h)}).execute(),j.eachItemGraphicEl(function(l,v){var h=j.getItemModel(v),u=h.getModel("label.normal"),e=h.getModel("label.emphasis"),s=j.getItemVisual(v,"color");l.useStyle(YW(h.getModel("itemStyle.normal").getItemStyle(),{fill:Rq(s,0.4),stroke:s})),l.hoverStyle=h.getModel("itemStyle.emphasis").getItemStyle(),Yz(l.style,l.hoverStyle,u,e,{labelFetcher:k,labelDataIndex:v,defaultText:j.getName(v)||"",isRectText:!0,autoColor:s}),Z9(l,{}),l.dataModel=k}),p.__data=j,p.group.silent=k.get("silent")||q.get("silent")}}),TQ(function(a){a.markArea=a.markArea||{}});var abo=function(a){var b=a&&a.timeline;YH(b)||(b=b?[b]:[]),ZR(b,function(c){c&&C5(c)})};aa9.registerSubTypeDefaulter("timeline",function(){return"slider"}),VQ({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(a,b){var c=b.getComponent("timeline");return c&&null!=a.currentIndex&&(c.setCurrentIndex(a.currentIndex),!c.get("loop",!0)&&c.isIndexMax()&&c.setPlayState(!1)),b.resetOption("timeline"),YW({currentIndex:c.option.currentIndex},a)}),VQ({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(a,b){var c=b.getComponent("timeline");c&&null!=a.playState&&c.setPlayState(a.playState)});var F8=aa9.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2000,currentIndex:0,itemStyle:{normal:{},emphasis:{}},label:{normal:{color:"#000"},emphasis:{}},data:[]},init:function(a,b,c){this._data,this._names,this.mergeDefaultAndTheme(a,c),this._initData()},mergeOption:function(){F8.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(a){null==a&&(a=this.option.currentIndex);var b=this._data.count();this.option.loop?a=(a%b+b)%b:(a>=b&&(a=b-1),0>a&&(a=0)),this.option.currentIndex=a},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(a){this.option.autoPlay=!!a},getPlayState:function(){return !!this.option.autoPlay},_initData:function(){var c=this.option,g=c.data||[],i=c.axisType,h=this._names=[];if("category"===i){var b=[];ZR(g,function(a,k){var l,j=jW(a);YJ(a)?(l=ZJ(a),l.value=k):l=k,b.push(l),Z1(j)||null!=j&&!isNaN(j)||(j=""),h.push(j+"")}),g=b}var f={category:"ordinal",time:"time"}[i]||"number",d=this._data=new P4([{name:"value",type:f}],this);d.initData(g,h)},getData:function(){return this._data},getCategories:function(){return"category"===this.get("axisType")?this._names.slice():void 0}}),jE=F8.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",normal:{show:!0,interval:"auto",rotate:0,color:"#304654"},emphasis:{show:!0,color:"#c23531"}},itemStyle:{normal:{color:"#304654",borderWidth:1},emphasis:{color:"#c23531"}},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",normal:{color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});ZZ(jE,SE);var pB=l0.extend({type:"timeline"}),tz=function(b,c,d,a){q4.call(this,b,c,d),this.type=a||"value",this._autoLabelInterval,this.model=null};tz.prototype={constructor:tz,getLabelInterval:function(){var a=this.model,b=a.getModel("label.normal"),c=b.get("interval");if(null!=c&&"auto"!=c){return c}var c=this._autoLabelInterval;return c||(c=this._autoLabelInterval=u3(ZN(this.scale.getTicks(),this.dataToCoord,this),bB(this,b.get("formatter")),b.getFont(),"horizontal"===a.get("orient")?0:90,b.get("rotate"))),c},isLabelIgnored:function(a){if("category"===this.type){var b=this.getLabelInterval();return"function"==typeof b&&!b(a,this.scale.getLabel(a))||a%(b+1)}}},ZK(tz,q4);var iF=YN,AY=ZR,yt=Math.PI;pB.extend({type:"timeline.slider",init:function(a,b){this.api=b,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(d,g,j){if(this.model=d,this.api=j,this.ecModel=g,this.group.removeAll(),d.get("show",!0)){var c=this._layout(d,j),h=this._createGroup("mainGroup"),b=this._createGroup("labelGroup"),f=this._axis=this._createAxis(c,d);d.formatTooltip=function(a){return fG(f.scale.getLabel(a))},AY(["AxisLine","AxisTick","Control","CurrentPointer"],function(a){this["_render"+a](c,h,f,d)},this),this._renderAxisLabel(c,b,f,d),this._position(c,d)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(D,Q){var I=D.get("label.normal.position"),L=D.get("orient"),H=aaE(D,Q);null==I||"auto"===I?I="horizontal"===L?H.y+H.height/2<Q.getHeight()/2?"-":"+":H.x+H.width/2<Q.getWidth()/2?"+":"-":isNaN(I)&&(I={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[L][I]);var V={horizontal:"center",vertical:I>=0||"+"===I?"left":"right"},F={horizontal:I>=0||"+"===I?"top":"bottom",vertical:"middle"},E={horizontal:0,vertical:yt/2},K="vertical"===L?H.height:H.width,C=D.getModel("controlStyle"),N=C.get("show"),T=N?C.get("itemSize"):0,R=N?C.get("itemGap"):0,P=T+R,O=D.get("label.normal.rotate")||0;O=O*yt/180;var G,J,B,q,z=C.get("position",!0),N=C.get("show",!0),W=N&&C.get("showPlayBtn",!0),U=N&&C.get("showPrevBtn",!0),A=N&&C.get("showNextBtn",!0),j=0,k=K;return"left"===z||"bottom"===z?(W&&(G=[0,0],j+=P),U&&(J=[j,0],j+=P),A&&(B=[k-T,0],k-=P)):(W&&(G=[k-T,0],k-=P),U&&(J=[0,0],j+=P),A&&(B=[k-T,0],k-=P)),q=[j,k],D.get("inverse")&&q.reverse(),{viewRect:H,mainLength:K,orient:L,rotation:E[L],labelRotation:O,labelPosOpt:I,labelAlign:D.get("label.normal.align")||V[L],labelBaseline:D.get("label.normal.verticalAlign")||D.get("label.normal.baseline")||F[L],playPosition:G,prevBtnPosition:J,nextBtnPosition:B,axisExtent:q,controlSize:T,controlGap:R}},_position:function(G){function B(a){var c=a.position;a.origin=[y[0][0]-c[0],y[1][0]-c[1]]}function q(a){return[[a.x,a.x+a.width],[a.y,a.y+a.height]]}function x(c,d,g,a,f){c[a]+=g[a][f]-d[a][f]}var k=this._mainGroup,E=this._labelGroup,b=G.viewRect;if("vertical"===G.orient){var H=abu(),w=b.x,F=b.y+b.height;Hz(H,H,[-w,-F]),T9(H,H,-yt/2),Hz(H,H,[w,F]),b=b.clone(),b.applyTransform(H)}var y=q(b),D=q(k.getBoundingRect()),C=q(E.getBoundingRect()),A=k.position,z=E.position;z[0]=A[0]=y[0][0];var j=G.labelPosOpt;if(isNaN(j)){var v="+"===j?0:1;x(A,D,y,1,v),x(z,C,y,1,1-v)}else{var v=j>=0?0:1;x(A,D,y,1,v),z[1]=A[1]+j}k.attr("position",A),E.attr("position",z),k.rotation=E.rotation=G.rotation,B(k),B(E)},_createAxis:function(d,g){var j=g.getData(),c=g.get("axisType"),h=d6(g,c),b=j.getDataExtent("value");h.setExtent(b[0],b[1]),this._customizeScale(h,j),h.niceTicks();var f=new tz("value",h,d.axisExtent,c);return f.model=g,f},_customizeScale:function(a,b){a.getTicks=function(){return b.mapArray(["value"],function(c){return c})},a.getTicksLabels=function(){return ZN(this.getTicks(),a.getLabel,a)}},_createGroup:function(a){var b=this["_"+a]=new TH;return this.group.add(b),b},_renderAxisLine:function(b,c,f,a){var d=f.getExtent();a.get("lineStyle.show")&&c.add(new AN({shape:{x1:d[0],y1:0,x2:d[1],y2:0},style:YY({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(d,f,h,c){var g=c.getData(),b=h.scale.getTicks();AY(b,function(k,i){var o=h.dataToCoord(k),n=g.getItemModel(i),e=n.getModel("itemStyle.normal"),j=n.getModel("itemStyle.emphasis"),m={position:[o,0],onclick:iF(this._changeTimeline,this,i)},p=iz(n,e,f,m);Z9(p,j.getItemStyle()),n.get("tooltip")?(p.dataIndex=i,p.dataModel=c):p.dataIndex=p.dataModel=null},this)},_renderAxisLabel:function(k,h,d,g){var c=g.getModel("label.normal");if(c.get("show")){var j=g.getData(),b=d.scale.getTicks(),m=bB(d,c.get("formatter")),f=d.getLabelInterval();AY(b,function(e,q){if(!d.isLabelIgnored(q,f)){var n=j.getItemModel(q),a=n.getModel("label.normal"),l=n.getModel("label.emphasis"),s=d.dataToCoord(e),p=new PG({position:[s,0],rotation:k.labelRotation-k.rotation,onclick:iF(this._changeTimeline,this,q),silent:!1});WB(p.style,a,{text:m[q],textAlign:k.labelAlign,textVerticalAlign:k.labelBaseline}),h.add(p),Z9(p,WB({},l))}},this)}},_renderControl:function(w,m,f,j){function d(a,s,l,e){if(a){var r={position:a,origin:[q/2,0],rotation:e?-b:0,rectHover:!0,style:x,onclick:l},i=E5(j,s,v,r);m.add(i),Z9(i,g)}}var q=w.controlSize,b=w.rotation,x=j.getModel("controlStyle.normal").getItemStyle(),g=j.getModel("controlStyle.emphasis").getItemStyle(),v=[0,-q/2,q,q],k=j.getPlayState(),p=j.get("inverse",!0);d(w.nextBtnPosition,"controlStyle.nextIcon",iF(this._changeTimeline,this,p?"-":"+")),d(w.prevBtnPosition,"controlStyle.prevIcon",iF(this._changeTimeline,this,p?"+":"-")),d(w.playPosition,"controlStyle."+(k?"stopIcon":"playIcon"),iF(this._handlePlayClick,this,!k),!0)},_renderCurrentPointer:function(k,h,d,g){var c=g.getData(),j=g.getCurrentIndex(),b=c.getItemModel(j).getModel("checkpointStyle"),m=this,f={onCreate:function(a){a.draggable=!0,a.drift=iF(m._handlePointerDrag,m),a.ondragend=iF(m._handlePointerDragend,m),oq(a,j,d,g,!0)},onUpdate:function(a){oq(a,j,d,g)}};this._currentPointer=iz(b,b,this._mainGroup,{},this._currentPointer,f)},_handlePlayClick:function(a){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:a,from:this.uid})},_handlePointerDrag:function(a,b,c){this._clearTimer(),this._pointerChangeTimeline([c.offsetX,c.offsetY])},_handlePointerDragend:function(a){this._pointerChangeTimeline([a.offsetX,a.offsetY],!0)},_pointerChangeTimeline:function(d,g){var j=this._toAxisCoord(d)[0],c=this._axis,h=oE(c.getExtent().slice());j>h[1]&&(j=h[1]),j<h[0]&&(j=h[0]),this._currentPointer.position[0]=j,this._currentPointer.dirty();var b=this._findNearestTick(j),f=this.model;(g||b!==f.getCurrentIndex()&&f.get("realtime"))&&this._changeTimeline(b)},_doPlayStop:function(){function a(){var b=this.model;this._changeTimeline(b.getCurrentIndex()+(b.get("rewind",!0)?-1:1))}this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(iF(a,this),this.model.get("playInterval")))},_toAxisCoord:function(a){var b=this._mainGroup.getLocalTransform();return hX(a,b,!0)},_findNearestTick:function(b){var c,f=this.model.getData(),a=1/0,d=this._axis;return f.each(["value"],function(i,e){var h=d.dataToCoord(i),g=Math.abs(h-b);a>g&&(a=g,c=e)}),c},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(a){var b=this.model.getCurrentIndex();"+"===a?a=b+1:"-"===a&&(a=b-1),this.api.dispatchAction({type:"timelineChange",currentIndex:a,from:this.uid})}}),TQ(abo),aa9.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var zq=["x","y","z","radius","angle","single"],qz=["cartesian2d","polar","singleAxis"],mB=hz(zq,["axisIndex","axis","index","id"]),R5=ZR,nB=oE,C9=function(b,c,d,a){this._dimName=b,this._axisIndex=c,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=a,this._dataZoomModel=d};C9.prototype={constructor:C9,hostedBy:function(a){return this._dataZoomModel===a},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var a=[],b=this.ecModel;return b.eachSeries(function(e){if(sj(e.get("coordinateSystem"))){var c=this._dimName,d=b.queryComponents({mainType:c+"Axis",index:e.get(c+"AxisIndex"),id:e.get(c+"AxisId")})[0];this._axisIndex===(d&&d.componentIndex)&&a.push(e)}},this),a},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var d,g,j=this._dimName,c=this.ecModel,h=this.getAxisModel(),b="x"===j||"y"===j;b?(g="gridIndex",d="x"===j?"y":"x"):(g="polarIndex",d="angle"===j?"radius":"angle");var f;return c.eachComponent(d+"Axis",function(a){(a.get(g)||0)===(h.get(g)||0)&&(f=a)}),f},getMinMaxSpan:function(){return ZJ(this._minMaxSpan)},calculateDataWindow:function(d){var h=this._dataExtent,k=this.getAxisModel(),c=k.axis.scale,j=this._dataZoomModel.getRangePropMode(),b=[0,100],g=[d.start,d.end],f=[];return R5(["startValue","endValue"],function(a){f.push(null!=d[a]?c.parse(d[a]):null)}),R5([0,1],function(e){var i=f[e],a=g[e];"percent"===j[e]?(null==a&&(a=b[e]),i=c.parse(aaM(a,b,h,!0))):a=aaM(i,h,b,!0),f[e]=i,g[e]=a}),{valueWindow:nB(f),percentWindow:nB(g)}},reset:function(a){if(a===this._dataZoomModel){this._dataExtent=w9(this,this._dimName,this.getTargetSeriesModels());var b=this.calculateDataWindow(a.option);this._valueWindow=b.valueWindow,this._percentWindow=b.percentWindow,lq(this),pq(this)}},restore:function(a){a===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,pq(this,!0))},filterData:function(d){function g(a){return a>=b[0]&&a<=b[1]}if(d===this._dataZoomModel){var j=this._dimName,c=this.getTargetSeriesModels(),h=d.get("filterMode"),b=this._valueWindow;if("none"!==h){var f=this.getOtherAxisModel();d.get("$fromToolbox")&&f&&"category"===f.get("type")&&(h="empty"),R5(c,function(e){var a=e.getData(),k=e.coordDimToDataDim(j);"weakFilter"===h?a&&a.filterSelf(function(x){for(var r,m,i,y=0;y<k.length;y++){var p=a.get(k[y],x),w=!isNaN(p),q=p<b[0],v=p>b[1];if(w&&!q&&!v){return !0}w&&(i=!0),q&&(r=!0),v&&(m=!0)}return i&&r&&m}):a&&R5(k,function(i){"empty"===h?e.setData(a.map(i,function(l){return g(l)?l:0/0})):a.filterSelf(i,g)})})}}}};var oB=ZR,xt=mB,kB=DY({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(b,c,d){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var a=Q3(b);this.mergeDefaultAndTheme(b,d),this.doInit(a)},mergeOption:function(a){var b=Q3(a);Y5(this.option,a,!0),this.doInit(b)},doInit:function(a){var b=this.option;VG.canvasSupported||(b.realtime=!1),this._setDefaultThrottle(a),mq(this,a),oB([["start","startValue"],["end","endValue"]],function(c,d){"value"===this._rangePropMode[d]&&(b[c[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var a=this._axisProxies;this.eachTargetAxis(function(f,h,c,g){var b=this.dependentModels[f.axis][h],d=b.__dzAxisProxy||(b.__dzAxisProxy=new C9(f.name,h,this,g));a[f.name+"_"+h]=d},this)},_resetTarget:function(){var a=this.option,b=this._judgeAutoMode();xt(function(c){var d=c.axisIndex;a[d]=nV(a[d])},this),"axisIndex"===b?this._autoSetAxisIndex():"orient"===b&&this._autoSetOrient()},_judgeAutoMode:function(){var a=this.option,b=!1;xt(function(d){null!=a[d.axisIndex]&&(b=!0)},this);var c=a.orient;return null==c&&b?"orient":b?void 0:(null==c&&(a.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var b=!0,c=this.get("orient",!0),f=this.option,a=this.dependentModels;if(b){var d="vertical"===c?"y":"x";a[d+"Axis"].length?(f[d+"AxisIndex"]=[0],b=!1):oB(a.singleAxis,function(e){b&&e.get("orient",!0)===c&&(f.singleAxisIndex=[e.componentIndex],b=!1)})}b&&xt(function(k){if(b){var h=[],l=this.dependentModels[k.axis];if(l.length&&!h.length){for(var g=0,j=l.length;j>g;g++){"category"===l[g].get("type")&&h.push(g)}}f[k.axisIndex]=h,h.length&&(b=!1)}},this),b&&this.ecModel.eachSeries(function(e){this._isSeriesHasAllAxesTypeOf(e,"value")&&xt(function(k){var h=f[k.axisIndex],l=e.get(k.axisIndex),g=e.get(k.axisId),j=e.ecModel.queryComponents({mainType:k.axis,index:l,id:g})[0];l=j.componentIndex,YR(h,l)<0&&h.push(l)})},this)},_autoSetOrient:function(){var a;this.eachTargetAxis(function(b){!a&&(a=b.name)},this),this.option.orient="y"===a?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(a,b){var c=!0;return xt(function(e){var f=a.get(e.axisIndex),d=this.dependentModels[e.axis][f];d&&d.get("type")===b||(c=!1)},this),c},_setDefaultThrottle:function(a){if(a.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var b=this.ecModel.option;this.option.throttle=b.animation&&b.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var a;return xt(function(b){if(null==a){var c=this.get(b.axisIndex);c.length&&(a=this.dependentModels[b.axis][c[0]])}},this),a},eachTargetAxis:function(a,b){var c=this.ecModel;xt(function(d){oB(this.get(d.axisIndex),function(e){a.call(b,d,e,this,c)},this)},this)},getAxisProxy:function(a,b){return this._axisProxies[a+"_"+b]},getAxisModel:function(a,b){var c=this.getAxisProxy(a,b);return c&&c.getAxisModel()},setRawRange:function(a,b){var c=this.option;oB([["start","startValue"],["end","endValue"]],function(d){(null!=a[d[0]]||null!=a[d[1]])&&(c[d[0]]=a[d[0]],c[d[1]]=a[d[1]])},this),!b&&mq(this,a)},getPercentRange:function(){var a=this.findRepresentativeAxisProxy();return a?a.getDataPercentWindow():void 0},getValueRange:function(a,b){if(null!=a||null!=b){return this.getAxisProxy(a,b).getDataValueWindow()}var c=this.findRepresentativeAxisProxy();return c?c.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(a){if(a){return a.__dzAxisProxy}var b=this._axisProxies;for(var c in b){if(b.hasOwnProperty(c)&&b[c].hostedBy(this)){return b[c]}}for(var c in b){if(b.hasOwnProperty(c)&&!b[c].hostedBy(this)){return b[c]}}},getRangePropMode:function(){return this._rangePropMode.slice()}}),Ak=l0.extend({type:"dataZoom",render:function(a,b,c){this.dataZoomModel=a,this.ecModel=b,this.api=c},getTargetCoordInfo:function(){function b(h,j,l,g){for(var k,f=0;f<l.length;f++){if(l[f].model===h){k=l[f];break}}k||l.push(k={model:h,axisModels:[],coordIndex:g}),k.axisModels.push(j)}var c=this.dataZoomModel,d=this.ecModel,a={};return c.eachTargetAxis(function(h,i){var f=d.getComponent(h.axis,i);if(f){var g=f.getCoordSysModel();g&&b(g,f,a[g.mainType]||(a[g.mainType]=[]),g.componentIndex)}},this),a}}),gF=(kB.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:0.5,opacity:0.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:0.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),hW),vz=aaM,fF=oE,uz=YN,wt=ZR,cF=7,eF=1,dF=30,hF="horizontal",L7="vertical",S4=5,BX=["line","bar","candlestick","scatter"],rz=Ak.extend({type:"dataZoom.slider",init:function(a,b){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=b},render:function(b,c,d,a){return rz.superApply(this,"render",arguments),m6(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=b.get("orient"),this.dataZoomModel.get("show")===!1?void this.group.removeAll():(a&&"dataZoom"===a.type&&a.from===this.uid||this._buildView(),void this._updateView())},remove:function(){rz.superApply(this,"remove",arguments),v5(this,"_dispatchZoomAction")},dispose:function(){rz.superApply(this,"dispose",arguments),v5(this,"_dispatchZoomAction")},_buildView:function(){var a=this.group;a.removeAll(),this._resetLocation(),this._resetInterval();var b=this._displayables.barGroup=new TH;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),a.add(b),this._positionGroup()},_resetLocation:function(){var d=this.dataZoomModel,g=this.api,j=this._findCoordRect(),c={width:g.getWidth(),height:g.getHeight()},h=this._orient===hF?{right:c.width-j.x-j.width,top:c.height-dF-cF,width:j.width,height:dF}:{right:cF,top:j.y,width:dF,height:j.height},b=abf(d.option);ZR(["right","top","width","height"],function(a){"ph"===b[a]&&(b[a]=h[a])});var f=WU(b,c,d.padding);this._location={x:f.x,y:f.y},this._size=[f.width,f.height],this._orient===L7&&this._size.reverse()},_positionGroup:function(){var d=this.group,h=this._location,k=this._orient,c=this.dataZoomModel.getFirstTargetAxisModel(),j=c&&c.get("inverse"),b=this._displayables.barGroup,g=(this._dataShadowInfo||{}).otherAxisInverse;b.attr(k!==hF||j?k===hF&&j?{scale:g?[-1,1]:[-1,-1]}:k!==L7||j?{scale:g?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:g?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:g?[1,1]:[1,-1]});var f=d.getBoundingRect([b]);d.attr("position",[h.x-f.x,h.y-f.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var a=this.dataZoomModel,b=this._size,c=this._displayables.barGroup;c.add(new gF({silent:!0,shape:{x:0,y:0,width:b[0],height:b[1]},style:{fill:a.get("backgroundColor")},z2:-40})),c.add(new gF({shape:{x:0,y:0,width:b[0],height:b[1]},style:{fill:"transparent"},z2:0,onclick:YN(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var F=this._dataShadowInfo=this._prepareDataShadowInfo();if(F){var A=this._size,q=F.series,w=q.getRawData(),k=q.getShadowDim?q.getShadowDim():F.otherDim;if(null!=k){var D=w.getDataExtent(k),b=0.3*(D[1]-D[0]);D=[D[0]-b,D[1]+b];var v,E=[0,A[1]],x=[0,A[0]],C=[[A[0],0],[0,0]],B=[],z=x[1]/(w.count()-1),y=0,j=Math.round(w.count()/A[0]);w.each([k],function(c,d){if(j>0&&d%j){return void (y+=z)}var f=null==c||isNaN(c)||""===c,a=f?0:vz(c,D,E,!0);f&&!v&&d?(C.push([C[C.length-1][0],0]),B.push([B[B.length-1][0],0])):!f&&v&&(C.push([y,0]),B.push([y,0])),C.push([y,a]),B.push([y,a]),y+=z,v=f});var s=this.dataZoomModel;this._displayables.barGroup.add(new oU({shape:{points:C},style:YW({fill:s.get("dataBackgroundColor")},s.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new sR({shape:{points:B},style:s.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var b=this.dataZoomModel,c=b.get("showDataShadow");if(c!==!1){var d,a=this.ecModel;return b.eachTargetAxis(function(g,e){var f=b.getAxisProxy(g.name,e).getTargetSeriesModels();ZR(f,function(j){if(!(d||c!==!0&&YR(BX,j.get("type"))<0)){var n,m=a.getComponent(g.axis,e).axis,i=Cq(g.name),k=j.coordinateSystem;null!=i&&k.getOtherAxis&&(n=k.getOtherAxis(m).inverse),d={thisAxis:m,series:j,thisDim:g.name,otherDim:i,otherAxisInverse:n}}},this)},this),d}},_renderHandle:function(){var d=this._displayables,f=d.handles=[],h=d.handleLabels=[],c=this._displayables.barGroup,g=this._size,b=this.dataZoomModel;c.add(d.filler=new gF({draggable:!0,cursor:nq(this._orient),drift:uz(this._onDragMove,this,"all"),onmousemove:function(a){e1(a.event)},ondragstart:uz(this._showDataInfo,this,!0),ondragend:uz(this._onDragEnd,this),onmouseover:uz(this._showDataInfo,this,!0),onmouseout:uz(this._showDataInfo,this,!1),style:{fill:b.get("fillerColor"),textPosition:"inside"}})),c.add(new gF(p9({silent:!0,shape:{x:0,y:0,width:g[0],height:g[1]},style:{stroke:b.get("dataBackgroundColor")||b.get("borderColor"),lineWidth:eF,fill:"rgba(0,0,0,0)"}}))),wt([0,1],function(e){var k=lV(b.get("handleIcon"),{cursor:nq(this._orient),draggable:!0,drift:uz(this._onDragMove,this,e),onmousemove:function(l){e1(l.event)},ondragend:uz(this._onDragEnd,this),onmouseover:uz(this._showDataInfo,this,!0),onmouseout:uz(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),j=k.getBoundingRect();this._handleHeight=E9(b.get("handleSize"),this._size[1]),this._handleWidth=j.width/j.height*this._handleHeight,k.setStyle(b.getModel("handleStyle").getItemStyle());var i=b.get("handleColor");null!=i&&(k.style.fill=i),c.add(f[e]=k);var a=b.textStyleModel;this.group.add(h[e]=new PG({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:a.getTextColor(),textFont:a.getFont()},z2:10}))},this)},_resetInterval:function(){var a=this._range=this.dataZoomModel.getPercentRange(),b=this._getViewExtent();this._handleEnds=[vz(a[0],[0,100],b,!0),vz(a[1],[0,100],b,!0)]},_updateInterval:function(d,g){var j=this.dataZoomModel,c=this._handleEnds,h=this._getViewExtent(),b=j.findRepresentativeAxisProxy().getMinMaxSpan(),f=[0,100];IE(g,c,h,j.get("zoomLock")?"all":d,null!=b.minSpan?vz(b.minSpan,f,h,!0):null,null!=b.maxSpan?vz(b.maxSpan,f,h,!0):null),this._range=fF([vz(c[0],h,f,!0),vz(c[1],h,f,!0)])},_updateView:function(b){var c=this._displayables,f=this._handleEnds,a=fF(f.slice()),d=this._size;wt([0,1],function(h){var g=c.handles[h],e=this._handleHeight;g.attr({scale:[e/2,e/2],position:[f[h],d[1]/2-e/2]})},this),c.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:d[1]}),this._updateDataInfo(b)},_updateDataInfo:function(w){function m(c){var i=sU(j.handles[c].parent,this.group),o=AO(0===c?"right":"left",i),h=this._handleWidth/2+S4,a=hX([p[c]+(0===c?-h:h),this._size[1]/2],i);d[c].setStyle({x:a[0],y:a[1],textVerticalAlign:q===hF?"middle":o,textAlign:q===hF?o:"center",text:b[c]})}var f=this.dataZoomModel,j=this._displayables,d=j.handleLabels,q=this._orient,b=["",""];if(f.get("showDetail")){var x=f.findRepresentativeAxisProxy();if(x){var g=x.getAxisModel().axis,v=this._range,k=w?x.calculateDataWindow({start:v[0],end:v[1]}).valueWindow:x.getDataValueWindow();b=[this._formatLabel(k[0],g),this._formatLabel(k[1],g)]}}var p=fF(this._handleEnds.slice());m.call(this,0),m.call(this,1)},_formatLabel:function(d,f){var h=this.dataZoomModel,c=h.get("labelFormatter"),g=h.get("labelPrecision");(null==g||"auto"===g)&&(g=f.getPixelPrecision());var b=null==d||isNaN(d)?"":"category"===f.type||"time"===f.type?f.scale.getLabel(Math.round(d)):d.toFixed(Math.min(g,20));return Z8(c)?c(d,b):Z1(c)?c.replace("{value}",b):b},_showDataInfo:function(a){a=this._dragging||a;var b=this._displayables.handleLabels;b[0].attr("invisible",!a),b[1].attr("invisible",!a)},_onDragMove:function(d,f,h){this._dragging=!0;var c=this._displayables.barGroup.getLocalTransform(),g=hX([f,h],c,!0);this._updateInterval(d,g[0]);var b=this.dataZoomModel.get("realtime");this._updateView(!b),b&&b&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),this._dispatchZoomAction()},_onClickPanelClick:function(b){var c=this._size,f=this._displayables.barGroup.transformCoordToLocal(b.offsetX,b.offsetY);if(!(f[0]<0||f[0]>c[0]||f[1]<0||f[1]>c[1])){var a=this._handleEnds,d=(a[0]+a[1])/2;this._updateInterval("all",f[0]-d),this._updateView(),this._dispatchZoomAction()}},_dispatchZoomAction:function(){var a=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:a[0],end:a[1]})},_findCoordRect:function(){var a;if(wt(this.getTargetCoordInfo(),function(d){if(!a&&d.length){var f=d[0].model.coordinateSystem;a=f.getRect&&f.getRect()}}),!a){var b=this.api.getWidth(),c=this.api.getHeight();a={x:0.2*b,y:0.2*c,width:0.6*b,height:0.6*c}}return a}});kB.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}});var sz=YG,lB="\x00_ec_dataZoom_roams",I1=YN,XW=Ak.extend({type:"dataZoom.inside",init:function(){this._range},render:function(b,c,d,a){XW.superApply(this,"render",arguments),y9(a,b.id)&&(this._range=b.getPercentRange()),ZR(this.getTargetCoordInfo(),function(g,f){var h=ZN(g,function(e){return fz(e.model)});ZR(g,function(k){var i=k.model,j=b.option;wj(d,{coordId:fz(i),allCoordIds:h,containsPoint:function(l,m,o){return i.coordinateSystem.containPoint([m,o])},dataZoomId:b.id,throttleRate:b.get("throttle",!0),panGetRange:I1(this._onPan,this,k,f),zoomGetRange:I1(this._onZoom,this,k,f),zoomLock:j.zoomLock,disabled:j.disabled,roamControllerOpt:{zoomOnMouseWheel:j.zoomOnMouseWheel,moveOnMouseMove:j.moveOnMouseMove,preventDefaultMouseMove:j.preventDefaultMouseMove}})},this)},this)},dispose:function(){jt(this.api,this.dataZoomModel.id),XW.superApply(this,"dispose",arguments),this._range=null},_onPan:function(y,p,g,k,f,w,b,z,j){var x=this._range.slice(),m=y.axisModels[0];if(m){var v=O0[p]([w,b],[z,j],m,g,y),q=v.signal*(x[1]-x[0])*v.pixel/v.pixelLength;return IE(q,x,[0,100],"all"),this._range=x}},_onZoom:function(q,k,d,g,c,m){var b=this._range.slice(),v=q.axisModels[0];if(v){var f=O0[k](null,[c,m],v,d,q),p=(f.signal>0?f.pixelStart+f.pixelLength-f.pixel:f.pixel-f.pixelStart)/f.pixelLength*(b[1]-b[0])+b[0];g=Math.max(1/g,0),b[0]=(b[0]-p)*g+p,b[1]=(b[1]-p)*g+p;var j=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return IE(0,b,[0,100],0,j.minSpan,j.maxSpan),this._range=b}}}),O0={grid:function(d,h,k,c,j){var b=k.axis,g={},f=j.model.coordinateSystem.getRect();return d=d||[0,0],"x"===b.dim?(g.pixel=h[0]-d[0],g.pixelLength=f.width,g.pixelStart=f.x,g.signal=b.inverse?1:-1):(g.pixel=h[1]-d[1],g.pixelLength=f.height,g.pixelStart=f.y,g.signal=b.inverse?-1:1),g},polar:function(m,h,d,g,c){var j=d.axis,b={},p=c.model.coordinateSystem,f=p.getRadiusAxis().getExtent(),k=p.getAngleAxis().getExtent();return m=m?p.pointToCoord(m):[0,0],h=p.pointToCoord(h),"radiusAxis"===d.mainType?(b.pixel=h[0]-m[0],b.pixelLength=f[1]-f[0],b.pixelStart=f[0],b.signal=j.inverse?1:-1):(b.pixel=h[1]-m[1],b.pixelLength=k[1]-k[0],b.pixelStart=k[0],b.signal=j.inverse?-1:1),b},singleAxis:function(d,h,k,c,j){var b=k.axis,g=j.model.coordinateSystem.getRect(),f={};return d=d||[0,0],"horizontal"===b.orient?(f.pixel=h[0]-d[0],f.pixelLength=g.width,f.pixelStart=g.x,f.signal=b.inverse?1:-1):(f.pixel=h[1]-d[1],f.pixelLength=g.height,f.pixelStart=g.y,f.signal=b.inverse?-1:1),f}};Y1(function(a){a.eachComponent("dataZoom",function(b){b.eachTargetAxis(K4),b.eachTargetAxis(R2)}),a.eachComponent("dataZoom",function(c){var d=c.findRepresentativeAxisProxy(),f=d.getDataPercentWindow(),b=d.getDataValueWindow();c.setRawRange({start:f[0],end:f[1],startValue:b[0],endValue:b[1]},!0)})}),VQ("dataZoom",function(b,c){var d=z8(YN(c.eachComponent,c,"dataZoom"),mB,function(f,g){return f.get(g.axisIndex)}),a=[];c.eachComponent({mainType:"dataZoom",query:b},function(e){a.push.apply(a,d(e).nodes)}),ZR(a,function(f){f.setRawRange({start:b.start,end:b.end,startValue:b.startValue,endValue:b.endValue})})});var TW=["rect","polygon","keep","clear"],N0=function(d,h){var k=d&&d.brush;if(YH(k)||(k=k?[k]:[]),k.length){var c=[];ZR(k,function(a){var i=a.hasOwnProperty("toolbox")?a.toolbox:[];i instanceof Array&&(c=c.concat(i))});var j=d&&d.toolbox;YH(j)&&(j=j[0]),j||(j={feature:{}},d.toolbox=[j]);var b=j.feature||(j.feature={}),g=b.brush||(b.brush={}),f=g.type||(g.type=[]);f.push.apply(f,c),Bt(f),h&&!f.length&&f.push.apply(f,TW)}},abG=ZR,K1={lineX:WK(0),lineY:WK(1),rect:{point:function(a,b,c){return a&&c.boundingRect.contain(a[0],a[1])},rect:function(a,b,c){return a&&c.boundingRect.intersect(a)}},polygon:{point:function(a,b,c){return a&&c.boundingRect.contain(a[0],a[1])&&aX(c.range,a[0],a[1])},rect:function(k,h,d){var g=d.range;if(!k||g.length<=1){return !1}var c=k.x,j=k.y,b=k.width,m=k.height,f=g[0];return aX(g,c,j)||aX(g,c+b,j)||aX(g,c,j+m)||aX(g,c+b,j+m)||gO.create(k).contain(f[0],f[1])||SO(c,j,c+b,j,g)||SO(c,j,c,j+m,g)||SO(c+b,j,c+b,j+m,g)||SO(c,j+m,c+b,j+m,g)?!0:void 0}}},J1=ZR,Q0=YR,H1=YG,UW=["dataToPoint","pointToData"],aay=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],Y8=IU.prototype;Y8.setOutputRanges=function(a,b){this.matchOutputRanges(a,b,function(d,f,g){if((d.coordRanges||(d.coordRanges=[])).push(f),!d.coordRange){d.coordRange=f;var c=P0[d.brushType](0,g,f);d.__rangeOffset={offset:G1[d.brushType](c.values,d.range,[1,1]),xyMinMax:c.xyMinMax}}})},Y8.matchOutputRanges=function(a,b,c){J1(a,function(e){var d=this.findTargetInfo(e,b);d&&d!==!0&&ZR(d.coordSyses,function(f){var g=P0[e.brushType](1,f,e.range);c(e,g.values,f,b)})},this)},Y8.setInputRanges=function(a,b){J1(a,function(d){var f=this.findTargetInfo(d,b);if(d.range=d.range||[],f&&f!==!0){d.panelId=f.panelId;var c=P0[d.brushType](0,f.coordSys,d.coordRange),e=d.__rangeOffset;d.range=e?G1[d.brushType](c.values,e.offset,XK(c.xyMinMax,e.xyMinMax)):c.values}},this)},Y8.makePanelOpts=function(a,b){return ZN(this._targetInfoList,function(d){var c=d.getPanelRect();return{panelId:d.panelId,defaultBrushType:b&&b(d),clipPath:ZY(c),isTargetByCursor:V8(c,a,d.coordSysModel),getLinearBrushOtherExtent:X7(c)}})},Y8.controlSeries=function(b,c,d){var a=this.findTargetInfo(b,d);return a===!0||a&&Q0(a.coordSyses,c.coordinateSystem)>=0},Y8.findTargetInfo=function(d,g){for(var j=this._targetInfoList,c=GU(g,d),h=0;h<j.length;h++){var b=j[h],f=d.panelId;if(f){if(b.panelId===f){return b}}else{for(var h=0;h<VW.length;h++){if(VW[h](c,b)){return b}}}}return !0};var WW={grid:function(d,h){var k=d.xAxisModels,c=d.yAxisModels,j=d.gridModels,b=aaz(),g={},f={};(k||c||j)&&(J1(k,function(a){var i=a.axis.grid.model;b.set(i.id,i),g[i.id]=!0}),J1(c,function(a){var i=a.axis.grid.model;b.set(i.id,i),f[i.id]=!0}),J1(j,function(a){b.set(a.id,a),g[a.id]=!0,f[a.id]=!0}),b.each(function(i){var l=i.coordinateSystem,e=[];J1(l.getCartesians(),function(a){(Q0(k,a.getAxis("x").model)>=0||Q0(c,a.getAxis("y").model)>=0)&&e.push(a)}),h.push({panelId:"grid--"+i.id,gridModel:i,coordSysModel:i,coordSys:e[0],coordSyses:e,getPanelRect:M0.grid,xAxisDeclared:g[i.id],yAxisDeclared:f[i.id]})}))},geo:function(a,b){J1(a.geoModels,function(c){var d=c.coordinateSystem;b.push({panelId:"geo--"+c.id,geoModel:c,coordSysModel:c,coordSys:d,coordSyses:[d],getPanelRect:M0.geo})})}},VW=[function(b,c){var f=b.xAxisModel,a=b.yAxisModel,d=b.gridModel;return !d&&f&&(d=f.axis.grid.model),!d&&a&&(d=a.axis.grid.model),d&&d===c.gridModel},function(a,b){var c=a.geoModel;return c&&c===b.geoModel}],M0={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var a=this.coordSys,b=a.getBoundingRect().clone();return b.applyTransform(sU(a)),b}},P0={lineX:H1(TK,0),lineY:H1(TK,1),rect:function(d,f,h){var c=f[UW[d]]([h[0][0],h[1][0]]),g=f[UW[d]]([h[0][1],h[1][1]]),b=[PR([c[0],g[0]]),PR([c[1],g[1]])];return{values:b,xyMinMax:b}},polygon:function(b,c,f){var a=[[1/0,-1/0],[1/0,-1/0]],d=ZN(f,function(g){var e=c[UW[b]](g);return a[0][0]=Math.min(a[0][0],e[0]),a[1][0]=Math.min(a[1][0],e[1]),a[0][1]=Math.max(a[0][1],e[0]),a[1][1]=Math.max(a[1][1],e[1]),e});return{values:d,xyMinMax:a}}},G1={lineX:H1(YV,0),lineY:H1(YV,1),rect:function(a,b,c){return[[a[0][0]-c[0]*b[0][0],a[0][1]-c[0]*b[0][1]],[a[1][0]-c[1]*b[1][0],a[1][1]-c[1]*b[1][1]]]},polygon:function(a,b,c){return ZN(a,function(e,d){return[e[0]-c[0]*b[d][0],e[1]-c[1]*b[d][1]]})}},D2=["inBrush","outOfBrush"],E2="__ecBrushSelect",a3="__ecInBrushSelectEvent",abh=j1.VISUAL.BRUSH;OW(abh,function(a,b,c){a.eachComponent({mainType:"brush"},function(f){c&&"takeGlobalCursor"===c.type&&f.setBrushOption("brush"===c.key?c.brushOption:{brushType:!1});var d=f.brushTargetManager=new IU(f.option,a);d.setInputRanges(f.areas,a)})}),FX(abh,function(c,f,h){var g,b,d=[];c.eachComponent({mainType:"brush"},function(r,i){function k(e){return"all"===j||C[e]}function D(e){return !!e.length}function q(l,m){var p=l.coordinateSystem;x|=p.hasAxisBrushed(),k(m)&&p.eachActiveState(l.getData(),function(n,u){"active"===n&&(z[u]=1)})}function t(u,l,p){var e=FU(u);if(e&&!CV(r,l)&&(ZR(A,function(n){e[n.brushType]&&r.brushTargetManager.controlSeries(n,u,c)&&p.push(n),x|=D(p)}),k(l)&&D(p))){var m=u.getData();m.each(function(n){OR(e,p,m,n)&&(z[n]=1)})}}var s={brushId:r.id,brushIndex:i,brushName:r.name,areas:ZJ(r.areas),selected:[]};d.push(s);var a=r.option,j=a.brushLink,C=[],z=[],B=[],x=0;i||(g=a.throttleType,b=a.throttleDelay);var A=ZN(r.areas,function(e){return DV(YW({boundingRect:F1[e.brushType](e)},e))}),o=rj(r.option,D2,function(e){e.mappingMethod="fixed"});YH(j)&&ZR(j,function(e){C[e]=1}),c.eachSeries(function(l,m){var p=B[m]=[];"parallel"===l.subType?q(l,m,p):t(l,m,p)}),c.eachSeries(function(p,v){var y={seriesId:p.id,seriesIndex:v,seriesName:p.name,dataIndex:[]};s.selected.push(y);var m=FU(p),w=B[v],l=p.getData(),u=k(v)?function(e){return z[e]?(y.dataIndex.push(l.getRawIndex(e)),"inBrush"):"outOfBrush"}:function(e){return OR(m,w,l,e)?(y.dataIndex.push(l.getRawIndex(e)),"inBrush"):"outOfBrush"};(k(v)?x:D(w))&&HU(D2,o,l,u)})}),UK(f,g,b,d,h)});var F1={lineX:aaS,lineY:aaS,rect:function(a){return az(a.range)},polygon:function(d){for(var f,h=d.range,c=0,g=h.length;g>c;c++){f=f||[[1/0,-1/0],[1/0,-1/0]];var b=h[c];b[0]<f[0][0]&&(f[0][0]=b[0]),b[0]>f[0][1]&&(f[0][1]=b[0]),b[1]<f[1][0]&&(f[1][0]=b[1]),b[1]>f[1][1]&&(f[1][1]=b[1])}return f&&az(f)}},jj=["#ddd"];DY({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:10000},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(a,b){var c=this.option;!b&&kq(c,a,["inBrush","outOfBrush"]),c.inBrush=c.inBrush||{},c.outOfBrush=c.outOfBrush||{color:jj}},setAreas:function(a){a&&(this.areas=ZN(a,function(b){return aal(this.option,b)},this))},setBrushOption:function(a){this.brushOption=aal(this.option,a),this.brushType=this.brushOption.brushType}});aE({type:"brush",init:function(a,b){this.ecModel=a,this.api=b,this.model,(this._brushController=new yJ(b.getZr())).on("brush",YN(this._onBrush,this)).mount()},render:function(a){return this.model=a,EV.apply(this,arguments)},updateView:EV,updateLayout:EV,updateVisual:EV,dispose:function(){this._brushController.dispose()},_onBrush:function(a,b){var c=this.model.id;this.model.brushTargetManager.setOutputRanges(a,this.ecModel),(!b.isEnd||b.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:c,areas:ZJ(a),$from:c})}}),VQ({type:"brush",event:"brush",update:"updateView"},function(a,b){b.eachComponent({mainType:"brush",query:a},function(c){c.setAreas(a.areas)})}),VQ({type:"brushSelect",event:"brushSelected",update:"none"},function(){});var o8={},s7={toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}}},ij=s7.toolbox.brush;r0.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:ZJ(ij.title)};var AW=r0.prototype;AW.render=AW.updateView=AW.updateLayout=function(b,c){var f,a,d;c.eachComponent({mainType:"brush"},function(e){f=e.brushType,a=e.brushOption.brushMode||"single",d|=e.areas.length}),this._brushType=f,this._brushMode=a,ZR(b.get("type",!0),function(g){b.setIconStatus(g,("keep"===g?"multiple"===a:"clear"===g?d:g===f)?"emphasis":"normal")})},AW.getIcons=function(){var a=this.model,b=a.get("icon",!0),c={};return ZR(a.get("type",!0),function(d){b[d]&&(c[d]=b[d])}),c},AW.onclick=function(b,c,f){var a=this._brushType,d=this._brushMode;"clear"===f?(c.dispatchAction({type:"axisAreaSelect",intervals:[]}),c.dispatchAction({type:"brush",command:"clear",areas:[]})):c.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===f?a:a===f?!1:f,brushMode:"keep"===f?"multiple"===d?"single":"multiple":d}})},h3("brush",r0),TQ(N0);var x6=ZR,y6=function(a){var b=a&&a.visualMap;YH(b)||(b=b?[b]:[]),x6(b,function(c){if(c){g3(c,"splitList")&&!g3(c,"pieces")&&(c.pieces=c.splitList,delete c.splitList);var d=c.pieces;d&&YH(d)&&x6(d,function(e){YJ(e)&&(g3(e,"start")&&!g3(e,"min")&&(e.min=e.start),g3(e,"end")&&!g3(e,"max")&&(e.max=e.end))})}})};aa9.registerSubTypeDefaulter("visualMap",function(a){return a.categories||(a.pieces?a.pieces.length>0:a.splitNumber>0)&&!a.calculable?"piecewise":"continuous"}),FX(j1.VISUAL.COMPONENT,function(a){a.eachComponent("visualMap",function(b){zY(b,a)}),wZ(a)});var p8={get:function(a,b,d){var c=ZJ((l8[a]||{})[b]);return d&&YH(c)?c[c.length-1]:c}},l8={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[0.3,1],inactive:[0,0]},colorLightness:{active:[0.9,0.5],inactive:[0,0]},colorAlpha:{active:[0.3,1],inactive:[0,0]},opacity:{active:[0.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},RZ=m3.mapVisual,m8=m3.eachVisual,C2=YH,n8=ZR,w6=oE,j9=aaM,z5=aaS,gj=["#f6efa6","#d88273","#bf444c"],u7=DY({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(a,b,c){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(a,c)},optionUpdated:function(a,b){var c=this.option;VG.canvasSupported||(c.realtime=!1),!b&&kq(c,a,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(a){var b=this.stateList;a=YN(a,this),this.controllerVisuals=rj(this.option.controller,b,a),this.targetVisuals=rj(this.option.target,b,a)},getTargetSeriesIndices:function(){var a=this.option.seriesIndex,b=[];return null==a||"all"===a?this.ecModel.eachSeries(function(c,d){b.push(d)}):b=nV(a),b},eachTargetSeries:function(a,b){ZR(this.getTargetSeriesIndices(),function(c){a.call(b,this.ecModel.getSeriesByIndex(c))},this)},isTargetSeries:function(a){var b=!1;return this.eachTargetSeries(function(c){c===a&&(b=!0)}),b},formatValueText:function(m,h,d){function g(a){return a===f[0]?"min":a===f[1]?"max":(+a).toFixed(Math.min(p,20))}var c,j,b=this.option,p=b.precision,f=this.dataBound,k=b.formatter;return d=d||["<",">"],YH(m)&&(m=m.slice(),c=!0),j=h?m:c?[g(m[0]),g(m[1])]:g(m),Z1(k)?k.replace("{value}",c?j[0]:j).replace("{value2}",c?j[1]:j):Z8(k)?c?k(m[0],m[1]):k(m):c?m[0]===f[0]?d[0]+" "+j[1]:m[1]===f[1]?d[1]+" "+j[0]:j[0]+" - "+j[1]:j},resetExtent:function(){var a=this.option,b=w6([a.min,a.max]);this._dataExtent=b},getDataDimension:function(a){var b=this.option.dimension;return null!=b?b:a.dimensions.length-1},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function f(a){C2(c.color)&&!a.inRange&&(a.inRange={color:c.color.slice().reverse()}),a.inRange=a.inRange||{color:gj},n8(this.stateList,function(l){var m=a[l];if(Z1(m)){var k=p8.get(m,"active",d);k?(a[l]={},a[l][m]=k):delete a[l]}},this)}function i(k,l,p){var a=k[l],m=k[p];a&&!m&&(m=k[p]={},n8(a,function(o,q){if(m3.isValidType(q)){var r=p8.get(q,"inactive",d);null!=r&&(m[q]=r,"color"!==q||m.hasOwnProperty("opacity")||m.hasOwnProperty("colorAlpha")||(m.opacity=[0,0]))}}))}function j(a){var k=(a.inRange||{}).symbol||(a.outOfRange||{}).symbol,m=(a.inRange||{}).symbolSize||(a.outOfRange||{}).symbolSize,l=this.get("inactiveColor");n8(this.stateList,function(n){var q=this.itemSize,p=a[n];p||(p=a[n]={color:d?l:[l]}),null==p.symbol&&(p.symbol=k&&ZJ(k)||(d?"roundRect":["roundRect"])),null==p.symbolSize&&(p.symbolSize=m&&ZJ(m)||(d?q[0]:[q[0],q[0]])),p.symbol=RZ(p.symbol,function(r){return"none"===r||"square"===r?"roundRect":r});var e=p.symbolSize;if(null!=e){var o=-1/0;m8(e,function(r){r>o&&(o=r)}),p.symbolSize=RZ(e,function(r){return j9(r,[0,o],[0,q[0]],!0)})}},this)}var c=this.option,h={inRange:c.inRange,outOfRange:c.outOfRange},g=c.target||(c.target={}),b=c.controller||(c.controller={});Y5(g,h),Y5(b,h);var d=this.isCategory();f.call(this,g),f.call(this,b),i.call(this,g,"inRange","outOfRange"),j.call(this,b)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return !!this.option.categories},setSelected:z5,getValueState:z5,getVisualMeta:z5}),fj=[20,140],t7=u7.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(){t7.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(a){a.mappingMethod="linear",a.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){t7.superApply(this,"resetItemSize",arguments);var a=this.itemSize;"horizontal"===this._orient&&a.reverse(),(null==a[0]||isNaN(a[0]))&&(a[0]=fj[0]),(null==a[1]||isNaN(a[1]))&&(a[1]=fj[1])},_resetRange:function(){var a=this.getExtent(),b=this.option.range;!b||b.auto?(a.auto=1,this.option.range=a):YH(b)&&(b[0]>b[1]&&b.reverse(),b[0]=Math.max(b[0],a[0]),b[1]=Math.min(b[1],a[1]))},completeVisualOption:function(){u7.prototype.completeVisualOption.apply(this,arguments),ZR(this.stateList,function(a){var b=this.option.controller[a].symbolSize;b&&b[0]!==b[1]&&(b[0]=0)},this)},setSelected:function(a){this.option.range=a.slice(),this._resetRange()},getSelected:function(){var a=this.getExtent(),b=oE((this.get("range")||[]).slice());return b[0]>a[1]&&(b[0]=a[1]),b[1]>a[1]&&(b[1]=a[1]),b[0]<a[0]&&(b[0]=a[0]),b[1]<a[0]&&(b[1]=a[0]),b},getValueState:function(a){var b=this.option.range,c=this.getExtent();return(b[0]<=c[0]||b[0]<=a)&&(b[1]>=c[1]||a<=b[1])?"inRange":"outOfRange"},findTargetDataIndices:function(a){var b=[];return this.eachTargetSeries(function(e){var c=[],d=e.getData();d.each(this.getDataDimension(d),function(f,g){a[0]<=f&&f<=a[1]&&c.push(g)},!0,this),b.push({seriesId:e.id,dataIndex:c})},this),b},getVisualMeta:function(q){function k(a,h){c.push({value:a,color:q(a,h)})}for(var d=o1(this,"outOfRange",this.getExtent()),g=o1(this,"inRange",this.option.range.slice()),c=[],m=0,b=0,v=g.length,f=d.length;f>b&&(!g.length||d[b]<=g[0]);b++){d[b]<g[m]&&k(d[b],"outOfRange")}for(var p=1;v>m;m++,p=0){p&&c.length&&k(g[m],"outOfRange"),k(g[m],"inRange")}for(var p=1;f>b;b++){(!g.length||g[g.length-1]<d[b])&&(p&&(c.length&&k(c[c.length-1].value,"outOfRange"),p=0),k(d[b],"outOfRange"))}var j=c.length;return{stops:c,outerColors:[j?c[0].color:"transparent",j?c[j-1].color:"transparent"]}}}),v7=aE({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(a,b){this.ecModel=a,this.api=b,this.visualMapModel},render:function(a){return this.visualMapModel=a,a.get("show")===!1?void this.group.removeAll():void this.doRender.apply(this,arguments)},renderBackground:function(b){var c=this.visualMapModel,d=OK(c.get("padding")||0),a=b.getBoundingRect();b.add(new hW({z2:-1,silent:!0,shape:{x:a.x-d[3],y:a.y-d[0],width:a.width+d[3]+d[1],height:a.height+d[0]+d[2]},style:{fill:c.get("backgroundColor"),stroke:c.get("borderColor"),lineWidth:c.get("borderWidth")}}))},getControllerVisual:function(q,k,d){function g(a){return v[a]}function c(a,h){v[a]=h}d=d||{};var m=d.forceState,b=this.visualMapModel,v={};if("symbol"===k&&(v.symbol=b.get("itemSymbol")),"color"===k){var f=b.get("contentColor");v.color=f}var p=b.controllerVisuals[m||b.getValueState(q)],j=m3.prepareVisualTypes(p);return ZR(j,function(e){var h=p[e];d.convertOpacityToAlpha&&"opacity"===e&&(e="colorAlpha",h=p.__alphaForOpacity),m3.dependsOn(e,k)&&h&&h.applyVisual(q,g,c)}),v[k]},positionGroup:function(a){var b=this.visualMapModel,c=this.api;NY(a,b.getBoxLayoutParams(),{width:c.getWidth(),height:c.getHeight()})},doRender:aaS}),cj=aaM,ej=ZR,dj=Math.min,hj=Math.max,L0=12,SY=6,BV=v7.extend({type:"visualMap.continuous",init:function(){BV.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(b,c,d,a){a&&"selectDataRange"===a.type&&a.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var a=this.visualMapModel,b=this.group;this._orient=a.get("orient"),this._useHandle=a.get("calculable"),this._resetInterval(),this._renderBar(b);var c=a.get("text");this._renderEndsText(b,c,0),this._renderEndsText(b,c,1),this._updateView(!0),this.renderBackground(b),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(b)},_renderEndsText:function(w,m,f){if(m){var j=m[1-f];j=null!=j?j+"":"";var d=this.visualMapModel,q=d.get("textGap"),b=d.itemSize,x=this._shapes.barGroup,g=this._applyTransform([b[0]/2,0===f?-q:b[1]+q],x),v=this._applyTransform(0===f?"bottom":"top",x),k=this._orient,p=this.visualMapModel.textStyleModel;this.group.add(new PG({style:{x:g[0],y:g[1],textVerticalAlign:"horizontal"===k?"middle":v,textAlign:"horizontal"===k?v:"center",text:j,textFont:p.getFont(),textFill:p.getTextColor()}}))}},_renderBar:function(m){var h=this.visualMapModel,d=this._shapes,g=h.itemSize,c=this._orient,j=this._useHandle,b=k1(h,this.api,g),p=d.barGroup=this._createBarGroup(b);p.add(d.outOfRange=l1()),p.add(d.inRange=l1(null,j?yZ(this._orient):null,YN(this._dragHandle,this,"all",!1),YN(this._dragHandle,this,"all",!0)));var f=h.textStyleModel.getTextRect("国"),k=hj(f.width,f.height);j&&(d.handleThumbs=[],d.handleLabels=[],d.handleLabelPoints=[],this._createHandle(p,0,g,k,c,b),this._createHandle(p,1,g,k,c,b)),this._createIndicator(p,g,k,c),m.add(p)},_createHandle:function(w,m,f,j,d){var q=YN(this._dragHandle,this,m,!1),b=YN(this._dragHandle,this,m,!0),x=l1(B5(m,j),yZ(this._orient),q,b);x.position[0]=f[0],w.add(x);var g=this.visualMapModel.textStyleModel,v=new PG({draggable:!0,drift:q,onmousemove:function(a){e1(a.event)},ondragend:b,style:{x:0,y:0,text:"",textFont:g.getFont(),textFill:g.getTextColor()}});this.group.add(v);var k=["horizontal"===d?j/2:1.5*j,"horizontal"===d?0===m?-(1.5*j):1.5*j:0===m?-j/2:j/2],p=this._shapes;p.handleThumbs[m]=x,p.handleLabelPoints[m]=k,p.handleLabels[m]=v},_createIndicator:function(k,h,d,g){var c=l1([[0,0]],"move");c.position[0]=h[0],c.attr({invisible:!0,silent:!0}),k.add(c);var j=this.visualMapModel.textStyleModel,b=new PG({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:j.getFont(),textFill:j.getTextColor()}});this.group.add(b);var m=["horizontal"===g?d/2:SY+3,0],f=this._shapes;f.indicator=c,f.indicatorLabel=b,f.indicatorLabelPoint=m},_dragHandle:function(b,c,f,a){if(this._useHandle){if(this._dragging=!c,!c){var d=this._applyTransform([f,a],this._shapes.barGroup,!0);this._updateInterval(b,d[1]),this._updateView()}c===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),c?!this._hovering&&this._clearHoverLinkToSeries():i3(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[b],!1)}},_resetInterval:function(){var b=this.visualMapModel,c=this._dataInterval=b.getSelected(),d=b.getExtent(),a=[0,b.itemSize[1]];this._handleEnds=[cj(c[0],d,a,!0),cj(c[1],d,a,!0)]},_updateInterval:function(d,f){f=f||0;var h=this.visualMapModel,c=this._handleEnds,g=[0,h.itemSize[1]];IE(f,c,g,d,0);var b=h.getExtent();this._dataInterval=[cj(c[0],g,b,!0),cj(c[1],g,b,!0)]},_updateView:function(d){var h=this.visualMapModel,k=h.getExtent(),c=this._shapes,j=[0,h.itemSize[1]],b=d?j:this._handleEnds,g=this._createBarVisual(this._dataInterval,k,b,"inRange"),f=this._createBarVisual(k,k,j,"outOfRange");c.inRange.setStyle({fill:g.barColor,opacity:g.opacity}).setShape("points",g.barPoints),c.outOfRange.setStyle({fill:f.barColor,opacity:f.opacity}).setShape("points",f.barPoints),this._updateHandle(b,g)},_createBarVisual:function(d,h,k,c){var j={forceState:c,convertOpacityToAlpha:!0},b=this._makeColorGradient(d,j),g=[this.getControllerVisual(d[0],"symbolSize",j),this.getControllerVisual(d[1],"symbolSize",j)],f=this._createBarPoints(k,g);return{barColor:new mU(0,0,0,1,b),barPoints:f,handlesColor:[b[0].color,b[b.length-1].color]}},_makeColorGradient:function(d,g){var j=100,c=[],h=(d[1]-d[0])/j;c.push({color:this.getControllerVisual(d[0],"color",g),offset:0});for(var b=1;j>b;b++){var f=d[0]+h*b;if(f>d[1]){break}c.push({color:this.getControllerVisual(f,"color",g),offset:b/j})}return c.push({color:this.getControllerVisual(d[1],"color",g),offset:1}),c},_createBarPoints:function(a,b){var c=this.visualMapModel.itemSize;return[[c[0]-b[0],a[0]],[c[0],a[0]],[c[0],a[1]],[c[0]-b[1],a[1]]]},_createBarGroup:function(a){var b=this._orient,c=this.visualMapModel.get("inverse");return new TH("horizontal"!==b||c?"horizontal"===b&&c?{scale:"bottom"===a?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==b||c?{scale:"left"===a?[1,1]:[-1,1]}:{scale:"left"===a?[1,-1]:[-1,-1]}:{scale:"bottom"===a?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(d,f){if(this._useHandle){var h=this._shapes,c=this.visualMapModel,g=h.handleThumbs,b=h.handleLabels;ej([0,1],function(i){var e=g[i];e.setStyle("fill",f.handlesColor[i]),e.position[1]=d[i];var a=hX(h.handleLabelPoints[i],sU(e,this.group));b[i].setStyle({x:a[0],y:a[1],text:c.formatValueText(this._dataInterval[i]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===i?"bottom":"top":"left",h.barGroup)})},this)}},_showIndicator:function(G,B,q,x){var k=this.visualMapModel,E=k.getExtent(),b=k.itemSize,H=[0,b[1]],w=cj(G,E,H,!0),F=this._shapes,y=F.indicator;if(y){y.position[1]=w,y.attr("invisible",!1),y.setShape("points",m1(!!q,x,w,b[1]));var D={convertOpacityToAlpha:!0},C=this.getControllerVisual(G,"color",D);y.setStyle("fill",C);var A=hX(F.indicatorLabelPoint,sU(y,this.group)),z=F.indicatorLabel;z.attr("invisible",!1);var j=this._applyTransform("left",F.barGroup),v=this._orient;z.setStyle({text:(q?q:"")+k.formatValueText(B),textVerticalAlign:"horizontal"===v?j:"middle",textAlign:"horizontal"===v?"center":j,x:A[0],y:A[1]})}},_enableHoverLinkToSeries:function(){var a=this;this._shapes.barGroup.on("mousemove",function(c){if(a._hovering=!0,!a._dragging){var d=a.visualMapModel.itemSize,b=a._applyTransform([c.offsetX,c.offsetY],a._shapes.barGroup,!0,!0);b[1]=dj(hj(0,b[1]),d[1]),a._doHoverLinkToSeries(b[1],0<=b[0]&&b[0]<=d[0])}}).on("mouseout",function(){a._hovering=!1,!a._dragging&&a._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var a=this.api.getZr();this.visualMapModel.option.hoverLink?(a.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),a.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(y,p){var g=this.visualMapModel,k=g.itemSize;if(g.option.hoverLink){var f=[0,k[1]],w=g.getExtent();y=dj(hj(f[0],y),f[1]);var b=v0(g,w,f),z=[y-b,y+b],j=cj(y,f,w,!0),x=[cj(z[0],f,w,!0),cj(z[1],f,w,!0)];z[0]<f[0]&&(x[0]=-1/0),z[1]>f[1]&&(x[1]=1/0),p&&(x[0]===-1/0?this._showIndicator(j,x[1],"< ",b):1/0===x[1]?this._showIndicator(j,x[0],"> ",b):this._showIndicator(j,j,"≈ ",b));var m=this._hoverLinkDataIndices,v=[];(p||i3(g))&&(v=this._hoverLinkDataIndices=g.findTargetDataIndices(x));var q=vU(m,v);this._dispatchHighDown("downplay",QR(q[0])),this._dispatchHighDown("highlight",QR(q[1]))}},_hoverLinkFromSeriesMouseOver:function(d){var g=d.target,j=this.visualMapModel;if(g&&null!=g.dataIndex){var c=this.ecModel.getSeriesByIndex(g.seriesIndex);if(j.isTargetSeries(c)){var h=c.getData(g.dataType),b=h.getDimension(j.getDataDimension(h)),f=h.get(b,g.dataIndex,!0);isNaN(f)||this._showIndicator(f,f)}}},_hideIndicator:function(){var a=this._shapes;a.indicator&&a.indicator.attr("invisible",!0),a.indicatorLabel&&a.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var a=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",QR(a)),a.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var a=this.api.getZr();a.off("mouseover",this._hoverLinkFromSeriesMouseOver),a.off("mouseout",this._hideIndicator)},_applyTransform:function(b,c,f,a){var d=sU(c,a?null:this.group);return uR[YH(b)?"applyTransform":"transformDirection"](b,d,f)},_dispatchHighDown:function(a,b){b&&b.length&&this.api.dispatchAction({type:a,batch:b})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}}),q7={type:"selectDataRange",event:"dataRangeSelected",update:"update"};VQ(q7,function(a,b){b.eachComponent({mainType:"visualMap",query:a},function(c){c.setSelected(a.selected)})}),TQ(y6);var r7=u7.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(a,b){r7.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var d=this._mode=this._determineMode();k8[this._mode].call(this),this._resetSelected(a,b);var c=this.option.categories;this.resetVisual(function(f,g){"categories"===d?(f.mappingMethod="category",f.categories=ZJ(c)):(f.dataExtent=this.getExtent(),f.mappingMethod="piecewise",f.pieceList=ZN(this._pieceList,function(e){var e=ZJ(e);return"inRange"!==g&&(e.visual=null),e}))})},completeVisualOption:function(){function b(g,h,i){return g&&g[h]&&(YJ(g[h])?g[h].hasOwnProperty(i):g[h]===i)}var c=this.option,f={},a=m3.listVisualTypes(),d=this.isCategory();ZR(c.pieces,function(e){ZR(a,function(g){e.hasOwnProperty(g)&&(f[g]=1)})}),ZR(f,function(h,g){var e=0;ZR(this.stateList,function(i){e|=b(c,i,g)||b(c.target,i,g)},this),!e&&ZR(this.stateList,function(i){(c[i]||(c[i]={}))[g]=p8.get(g,"inRange"===i?"active":"inactive",d)})},this),u7.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(d,f){var h=this.option,c=this._pieceList,g=(f?h:d).selected||{};if(h.selected=g,ZR(c,function(a){var i=this.getSelectedMapKey(a);g.hasOwnProperty(i)||(g[i]=!0)},this),"single"===h.selectedMode){var b=!1;ZR(c,function(a){var i=this.getSelectedMapKey(a);g[i]&&(b?g[i]=!1:b=!0)},this)}},getSelectedMapKey:function(a){return"categories"===this._mode?a.value+"":a.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var a=this.option;return a.pieces&&a.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(a){this.option.selected=ZJ(a)},getValueState:function(a){var b=m3.findPieceIndex(a,this._pieceList);return null!=b&&this.option.selected[this.getSelectedMapKey(this._pieceList[b])]?"inRange":"outOfRange"},findTargetDataIndices:function(a){var b=[];return this.eachTargetSeries(function(e){var c=[],d=e.getData();d.each(this.getDataDimension(d),function(f,h){var g=m3.findPieceIndex(f,this._pieceList);g===a&&c.push(h)},!0,this),b.push({seriesId:e.id,dataIndex:c})},this),b},getRepresentValue:function(a){var b;if(this.isCategory()){b=a.value}else{if(null!=a.value){b=a.value}else{var c=a.interval||[];b=c[0]===-1/0&&1/0===c[1]?0:(c[0]+c[1])/2}}return b},getVisualMeta:function(d){function h(n,i){var m=j.getRepresentValue({interval:n});i||(i=j.getValueState(m));var l=d(m,i);n[0]===-1/0?c[0]=l:1/0===n[1]?c[1]=l:k.push({value:n[0],color:l},{value:n[1],color:l})}if(!this.isCategory()){var k=[],c=[],j=this,b=this._pieceList.slice();if(b.length){var g=b[0].interval[0];g!==-1/0&&b.unshift({interval:[-1/0,g]}),g=b[b.length-1].interval[1],1/0!==g&&b.push({interval:[g,1/0]})}else{b.push({interval:[-1/0,1/0]})}var f=-1/0;return ZR(b,function(a){var e=a.interval;e&&(e[0]>f&&h([f,e[0]],"outOfRange"),h(e.slice()),f=e[1])},this),{stops:k,outerColors:c}}}}),k8={splitNumber:function(){var m=this.option,h=this._pieceList,d=Math.min(m.precision,20),g=this.getExtent(),c=m.splitNumber;c=Math.max(parseInt(c,10),1),m.splitNumber=c;for(var j=(g[1]-g[0])/c;+j.toFixed(d)!==j&&5>d;){d++}m.precision=d,j=+j.toFixed(d);var b=0;m.minOpen&&h.push({index:b++,interval:[-1/0,g[0]],close:[0,0]});for(var p=g[0],f=b+c;f>b;p+=j){var k=b===c-1?g[1]:p+j;h.push({index:b++,interval:[p,k],close:[1,1]})}m.maxOpen&&h.push({index:b++,interval:[g[1],1/0],close:[0,0]}),nE(h),ZR(h,function(a){a.text=this.formatValueText(a.interval)},this)},categories:function(){var a=this.option;ZR(a.categories,function(b){this._pieceList.push({text:this.formatValueText(b,!0),value:b})},this),e3(a,this._pieceList)},pieces:function(){var a=this.option,b=this._pieceList;ZR(a.pieces,function(x,g){YJ(x)||(x={value:x});var k={text:"",index:g};if(null!=x.label&&(k.text=x.label),x.hasOwnProperty("value")){var f=k.value=x.value;k.interval=[f,f],k.close=[1,1]}else{for(var v=k.interval=[],e=k.close=[0,0],y=[1,0,1],j=[-1/0,1/0],w=[],m=0;2>m;m++){for(var q=[["gte","gt","min"],["lte","lt","max"]][m],p=0;3>p&&null==v[m];p++){v[m]=x[q[p]],e[m]=y[p],w[m]=2===p}null==v[m]&&(v[m]=j[m])}w[0]&&1/0===v[1]&&(e[0]=0),w[1]&&v[0]===-1/0&&(e[1]=0),v[0]===v[1]&&e[0]&&e[1]&&(k.value=v[0])}k.visual=m3.retrieveVisuals(x),b.push(k)},this),e3(a,b),nE(b),ZR(b,function(c){var d=c.close,f=[["<","≤"][d[1]],[">","≥"][d[0]]];c.text=c.text||this.formatValueText(null!=c.value?c.value:c.interval,!1,f)},this)}};v7.extend({type:"visualMap.piecewise",doRender:function(){function w(c){var l=c.piece,a=new TH;a.onclick=YN(this._onItemClick,this,l),this._enableHoverLink(a,c.indexInModelPieceList);var e=f.getRepresentValue(l);if(this._createItemSymbol(a,e,[0,0,g[0],g[1]]),p){var i=this.visualMapModel.getValueState(e);a.add(new PG({style:{x:"right"===x?-j:g[0]+j,y:g[1]/2,text:l.text,textVerticalAlign:"middle",textAlign:x,textFont:q,textFill:b,opacity:"outOfRange"===i?0.5:1}}))}m.add(a)}var m=this.group;m.removeAll();var f=this.visualMapModel,j=f.get("textGap"),d=f.textStyleModel,q=d.getFont(),b=d.getTextColor(),x=this._getItemAlign(),g=f.itemSize,v=this._getViewData(),k=v.endsText,p=aam(f.get("showLabel",!0),!k);k&&this._renderEndsText(m,k[0],g,p,x),ZR(v.viewPieceList,w,this),k&&this._renderEndsText(m,k[1],g,p,x),NQ(f.get("orient"),m,f.get("itemGap")),this.renderBackground(m),this.positionGroup(m)},_enableHoverLink:function(a,b){function c(d){var e=this.visualMapModel;e.option.hoverLink&&this.api.dispatchAction({type:d,batch:QR(e.findTargetDataIndices(b))})}a.on("mouseover",YN(c,this,"highlight")).on("mouseout",YN(c,this,"downplay"))},_getItemAlign:function(){var a=this.visualMapModel,b=a.option;if("vertical"===b.orient){return k1(a,this.api,a.itemSize)}var c=b.align;return c&&"auto"!==c||(c="left"),c},_renderEndsText:function(d,g,j,c,h){if(g){var b=new TH,f=this.visualMapModel.textStyleModel;b.add(new PG({style:{x:c?"right"===h?j[0]:0:j[0]/2,y:j[1]/2,textVerticalAlign:"middle",textAlign:c?h:"center",text:g,textFont:f.getFont(),textFill:f.getTextColor()}})),d.add(b)}},_getViewData:function(){var b=this.visualMapModel,c=ZN(b.getPieceList(),function(g,h){return{piece:g,indexInModelPieceList:h}}),f=b.get("text"),a=b.get("orient"),d=b.get("inverse");return("horizontal"===a?d:!d)?c.reverse():f&&(f=f.slice().reverse()),{viewPieceList:c,endsText:f}},_createItemSymbol:function(a,b,c){a.add(xq(this.getControllerVisual(b,"symbol"),c[0],c[1],c[2],c[3],this.getControllerVisual(b,"color")))},_onItemClick:function(c){var d=this.visualMapModel,g=d.option,f=ZJ(g.selected),b=d.getSelectedMapKey(c);"single"===g.selectedMode?(f[b]=!0,ZR(f,function(a,h){f[h]=h===b})):f[b]=!f[b],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:f})}});TQ(y6);var H7=DY({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},mergeDefaultAndTheme:function(){H7.superApply(this,"mergeDefaultAndTheme",arguments),ZR(this.option.feature,function(a,b){var c=n1(b);c&&Y5(a,c.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{normal:{borderColor:"#666",color:"none"},emphasis:{borderColor:"#3E98C5"}}}});aE({type:"toolbox",render:function(q,k,d,g){function c(t,h){var a,u=j[t],n=j[h],i=f[u],e=new RG(i,q,q.ecModel);if(u&&!n){if(t0(u)){a={model:e,onclick:e.option.onclick,featureName:u}}else{var l=n1(u);if(!l){return}a=new l(e,k,d)}p[u]=a}else{if(a=p[n],!a){return}a.model=e,a.ecModel=k,a.api=d}return !u&&n?void (a.dispose&&a.dispose(k,d)):!e.get("show")||a.unusable?void (a.remove&&a.remove(k,d)):(m(e,a,u),e.setIconStatus=function(r,s){var w=this.option,o=this.iconPaths;w.iconStatus=w.iconStatus||{},w.iconStatus[r]=s,o[r]&&o[r].trigger(s)},void (a.render&&a.render(e,k,d,g)))}function m(r,e,y){var n=r.getModel("iconStyle"),z=e.getIcons?e.getIcons():r.get("icon"),s=r.get("title")||{};if("string"==typeof z){var x=z,w=s;z={},s={},z[y]=x,s[y]=w}var t=r.iconPaths={};ZR(z,function(h,i){var l=lV(h,{},{x:-v/2,y:-v/2,width:v,height:v});l.setStyle(n.getModel("normal").getItemStyle()),l.hoverStyle=n.getModel("emphasis").getItemStyle(),Z9(l),q.get("showTitle")&&(l.__title=s[i],l.on("mouseover",function(){var a=n.getModel("emphasis").getItemStyle();l.setStyle({text:s[i],textPosition:a.textPosition||"bottom",textFill:a.fill||a.stroke||"#000",textAlign:a.textAlign||"center"})}).on("mouseout",function(){l.setStyle({textFill:null})})),l.trigger(r.get("iconStatus."+i)||"normal"),b.add(l),l.on("click",YN(e.onclick,e,k,d,i)),t[i]=l})}var b=this.group;if(b.removeAll(),q.get("show")){var v=+q.get("itemSize"),f=q.get("feature")||{},p=this._features||(this._features={}),j=[];ZR(f,function(a,h){j.push(h)}),new I6(this._featureNames||[],j).add(c).update(c).remove(YG(c,null)).execute(),this._featureNames=j,l7(b,q,d),b.add(B9(b.getBoundingRect(),q)),b.eachChild(function(x){var z=x.__title,w=x.hoverStyle;if(w&&z){var A=VY(z,w8(w)),r=x.position[0]+b.position[0],n=x.position[1]+b.position[1]+v,s=!1;n+A.height>d.getHeight()&&(w.textPosition="top",s=!0);var y=s?-5-A.height:v+8;r+A.width/2>d.getWidth()?(w.textPosition=["100%",y],w.textAlign="right"):r-A.width/2<0&&(w.textPosition=[0,y],w.textAlign="left")}})}},updateView:function(b,c,d,a){ZR(this._features,function(e){e.updateView&&e.updateView(e.model,c,d,a)})},updateLayout:function(b,c,d,a){ZR(this._features,function(e){e.updateLayout&&e.updateLayout(e.model,c,d,a)})},remove:function(a,b){ZR(this._features,function(c){c.remove&&c.remove(a,b)}),this.group.removeAll()},dispose:function(a,b){ZR(this._features,function(c){c.dispose&&c.dispose(a,b)})}});var W2=s7.toolbox.saveAsImage;d3.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:W2.title,type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:W2.lang.slice()},d3.prototype.unusable=!VG.canvasSupported;var N6=d3.prototype;N6.onclick=function(C,x){var k=this.model,p=k.get("name")||C.get("title.0.text")||"echarts",j=document.createElement("a"),A=k.get("type",!0)||"png";j.download=p+"."+A,j.target="_blank";var b=x.getConnectedDataURL({type:A,backgroundColor:k.get("backgroundColor",!0)||C.get("backgroundColor")||"#fff",excludeComponents:k.get("excludeComponents"),pixelRatio:k.get("pixelRatio")});if(j.href=b,"function"!=typeof MouseEvent||VG.browser.ie||VG.browser.edge){if(window.navigator.msSaveOrOpenBlob){for(var D=atob(b.split(",")[1]),m=D.length,B=new Uint8Array(m);m--;){B[m]=D.charCodeAt(m)}var q=new Blob([B]);window.navigator.msSaveOrOpenBlob(q,p+"."+A)}else{var z=k.get("lang"),y='<body style="margin:0;"><img src="'+b+'" style="max-width:100%;" title="'+(z&&z[0]||"")+'" /></body>',w=window.open();w.document.write(y)}}else{var v=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});j.dispatchEvent(v)}},h3("saveAsImage",d3);var S3=s7.toolbox.magicType;s0.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:ZJ(S3.title),option:{},seriesIndex:{}};var M6=s0.prototype;M6.getIcons=function(){var a=this.model,b=a.get("icon"),c={};return ZR(a.get("type"),function(d){b[d]&&(c[d]=b[d])}),c};var abn={line:function(b,c,d,a){return"bar"===b?Y5({id:c,type:"line",data:d.get("data"),stack:d.get("stack"),markPoint:d.get("markPoint"),markLine:d.get("markLine")},a.get("option.line")||{},!0):void 0},bar:function(b,c,d,a){return"line"===b?Y5({id:c,type:"bar",data:d.get("data"),stack:d.get("stack"),markPoint:d.get("markPoint"),markLine:d.get("markLine")},a.get("option.bar")||{},!0):void 0},stack:function(b,c,d,a){return"line"===b||"bar"===b?Y5({id:c,stack:"__ec_magicType_stack__"},a.get("option.stack")||{},!0):void 0},tiled:function(b,c,d,a){return"line"===b||"bar"===b?Y5({id:c,stack:""},a.get("option.tiled")||{},!0):void 0}},J7=[["line","bar"],["stack","tiled"]];M6.onclick=function(d,g,j){var c=this.model,h=c.get("seriesIndex."+j);if(abn[j]){var b={series:[]},f=function(t){var k=t.subType,a=t.id,m=abn[j](k,a,t,c);m&&(YW(m,t.option),b.series.push(m));var x=t.coordinateSystem;if(x&&"cartesian2d"===x.type&&("line"===j||"bar"===j)){var n=x.getAxesByScale("ordinal")[0];if(n){var w=n.dim,v=w+"Axis",s=d.queryComponents({mainType:v,index:t.get(name+"Index"),id:t.get(name+"Id")})[0],q=s.componentIndex;b[v]=b[v]||[];for(var i=0;q>=i;i++){b[v][q]=b[v][q]||{}}b[v][q].boundaryGap="bar"===j?!0:!1}}};ZR(J7,function(a){YR(a,j)>=0&&ZR(a,function(e){c.setIconStatus(e,"normal")})}),c.setIconStatus(j,"emphasis"),d.eachComponent({mainType:"series",query:null==h?null:{seriesIndex:h}},f),g.dispatchAction({type:"changeMagicType",currentType:j,newOption:b})}},VQ({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(a,b){b.mergeOption(a.newOption)}),h3("magicType",s0);var I7=s7.toolbox.dataView,P6=new Array(60).join("-"),G7="    ",T2=new RegExp("["+G7+"]+","g");q0.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:ZJ(I7.title),lang:ZJ(I7.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},q0.prototype.onclick=function(w,K){function D(){G.removeChild(N),j._dom=null}var G=K.getDom(),C=this.model;this._dom&&G.removeChild(this._dom);var N=document.createElement("div");N.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",N.style.backgroundColor=C.get("backgroundColor")||"#fff";var A=document.createElement("h4"),z=C.get("lang")||[];A.innerHTML=z[0]||C.get("title"),A.style.cssText="margin: 10px 20px;",A.style.color=C.get("textColor");var F=document.createElement("div"),q=document.createElement("textarea");F.style.cssText="display:block;width:100%;overflow:auto;";var H=C.get("optionToContent"),M=C.get("contentToOption"),L=b3(w);if("function"==typeof H){var J=H(K.getOption());"string"==typeof J?F.innerHTML=J:aaB(J)&&F.appendChild(J)}else{F.appendChild(q),q.readOnly=C.get("readOnly"),q.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",q.style.color=C.get("textColor"),q.style.borderColor=C.get("textareaBorderColor"),q.style.backgroundColor=C.get("textareaColor"),q.value=L.value}var I=L.meta,B=document.createElement("div");B.style.cssText="position:absolute;bottom:0;left:0;right:0;";var E="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",k=document.createElement("div"),b=document.createElement("div");E+=";background-color:"+C.get("buttonColor"),E+=";color:"+C.get("buttonTextColor");var j=this;P8(k,"click",D),P8(b,"click",function(){var c;try{c="function"==typeof M?M(F,K.getOption()):p1(q.value,I)}catch(a){throw D(),new Error("Data view format error "+a)}c&&K.dispatchAction({type:"changeDataView",newOption:c}),D()}),k.innerHTML=z[1],b.innerHTML=z[2],b.style.cssText=E,k.style.cssText=E,!C.get("readOnly")&&B.appendChild(b),B.appendChild(k),P8(q,"keydown",function(c){if(9===(c.keyCode||c.which)){var d=this.value,f=this.selectionStart,a=this.selectionEnd;this.value=d.substring(0,f)+G7+d.substring(a),this.selectionStart=this.selectionEnd=f+1,e1(c)}}),N.appendChild(A),N.appendChild(F),N.appendChild(B),F.style.height=G.clientHeight-80+"px",G.appendChild(N),this._dom=N},q0.prototype.remove=function(a,b){this._dom&&b.getDom().removeChild(this._dom)},q0.prototype.dispose=function(a,b){this.remove(a,b)},h3("dataView",q0),VQ({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(a,b){var c=[];ZR(a.newOption.series,function(e){var d=b.getSeriesByName(e.name)[0];if(d){var f=d.get("data");c.push({name:e.name,data:j2(e.data,f)})}else{c.push(YY({type:"scatter"},e))}}),b.mergeOption(YW({series:c},a.newOption))});var ZG=ZR,X1="\x00_ec_hist_store";kB.extend({type:"dataZoom.select"}),Ak.extend({type:"dataZoom.select"});var V2=s7.toolbox.dataZoom,U2=ZR,L6="\x00_ec_\x00toolbox-dataZoom_";aa7.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:ZJ(V2.title)};var O6=aa7.prototype;O6.render=function(b,c,d,a){this.model=b,this.ecModel=c,this.api=d,PN(b,c,this,a,d),IO(b,c)},O6.onclick=function(a,b,c){F7[c].call(this)},O6.remove=function(){this._brushController.unmount()},O6.dispose=function(){this._brushController.dispose()};var F7={zoom:function(){var a=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:a})},back:function(){this._dispatchZoomAction(WG(this.ecModel))}};O6._onBrush=function(d,g){function j(k,p,q){var o=p.getAxis(k),m=o.model,a=c(k,m,b),i=a.findRepresentativeAxisProxy(m).getMinMaxSpan();(null!=i.minValueSpan||null!=i.maxValueSpan)&&(q=IE(0,q.slice(),o.scale.getExtent(),0,i.minValueSpan,i.maxValueSpan)),a&&(h[a.id]={dataZoomId:a.id,startValue:q[0],endValue:q[1]})}function c(k,l,m){var a;return m.eachComponent({mainType:"dataZoom",subType:"select"},function(i){var e=i.getAxisModel(k,l.componentIndex);e&&(a=i)}),a}if(g.isEnd&&d.length){var h={},b=this.ecModel;this._brushController.updateCovers([]);var f=new IU(JO(this.model.option),b,{include:["grid"]});f.matchOutputRanges(d,b,function(k,l,a){if("cartesian2d"===a.type){var m=k.brushType;"rect"===m?(j("x",a,l[0]),j("y",a,l[1])):j({lineX:"x",lineY:"y"}[m],a,l)}}),HO(b,h),this._dispatchZoomAction(h)}},O6._dispatchZoomAction=function(a){var b=[];U2(a,function(c){b.push(ZJ(c))}),b.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:b})},h3("dataZoom",aa7),TQ(function(d){function f(j,k){if(k){var l=j+"Index",i=k[l];null==i||"all"==i||YH(i)||(i=i===!1||"none"===i?[]:[i]),h(j,function(m,o){if(null==i||"all"==i||-1!==YR(i,o)){var a={type:"select",$fromToolbox:!0,id:L6+j+o};a[l]=o,c.push(a)}})}}function h(j,k){var a=d[j];YH(a)||(a=a?[a]:[]),U2(a,k)}if(d){var c=d.dataZoom||(d.dataZoom=[]);YH(c)||(d.dataZoom=c=[c]);var g=d.toolbox;if(g&&(YH(g)&&(g=g[0]),g&&g.feature)){var b=g.feature.dataZoom;f("xAxis",b),f("yAxis",b)}}});var C8=s7.toolbox.restore;GO.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:C8.title};var D8=GO.prototype;D8.onclick=function(a,b){NN(a),b.dispatchAction({type:"restore",from:this.uid})},h3("restore",GO),VQ({type:"restore",event:"restore",update:"prepareAndUpdate"},function(a,b){b.resetOption("recreate")}),YU.version=bq,YU.dependencies=c2,YU.PRIORITY=j1,YU.init=SU,YU.connect=MW,YU.disConnect=abd,YU.disconnect=abe,YU.dispose=JX,YU.getInstanceByDom=IX,YU.getInstanceById=PW,YU.registerTheme=GX,YU.registerPreprocessor=TQ,YU.registerProcessor=Y1,YU.registerPostUpdate=XQ,YU.registerAction=VQ,YU.registerCoordinateSystem=UQ,YU.getCoordinateSystemDimensions=LW,YU.registerLayout=OW,YU.registerVisual=FX,YU.registerLoading=CY,YU.extendComponentModel=DY,YU.extendComponentView=aE,YU.extendSeriesModel=aar,YU.extendChartView=EY,YU.setCanvasCreator=h6,YU.registerMap=n4,YU.getMap=r3,YU.dataTool=FY})},"sys/mobile/js/mui/table/ScrollableHContainer":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_Contained","dijit/_Container","dojo/dom-style"],function(d,e,c,a,b){return d("mui.table.ScrollableHContainer",[e,c,a],{baseClass:"muiScrollableHContainer",buildRendering:function(){this.inherited(arguments)},startup:function(){this.inherited(arguments)},resizeH:function(f){if(f>0){b.set(this.domNode,{height:f+"px"})}}})})},"sys/mobile/js/mui/view/AddBottomTipMixins":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dojo/dom-construct","dojo/topic","dojo/query","mui/i18n/_i18n!sys/mobile/js/mui/mui-common"],function(c,d,a,b,e,f){return c("mui.view.AddBottomTipMixins",[d],{isAddBottomTip:true,addBottomTip:function(h){this.inherited(arguments);var g=this;if(g.isAddBottomTip){this.subscribe("/dojox/mobile/viewChanged,/dojox/mobile/afterTransitionIn,mui/view/showTop",function(j){var i=h.getElementsByClassName("addBottomTip")[0];var k=e(".muiTop")[0];if(k){if(k.style.display==="none"){a.destroy(i)}else{b.publish("mui/view/addBottomTip")}}else{a.destroy(i)}});this.subscribe("/mui/top/viewChanged",function(j){var i=h.getElementsByClassName("addBottomTip")[0];var k=h.getElementsByClassName("muiTop")[0];if(k){if(k.style.display==="none"){a.destroy(i)}else{b.publish("mui/view/addBottomTip")}}else{a.destroy(i)}});b.subscribe("mui/view/addBottomTip",function(){var i=h.getElementsByClassName("addBottomTip");var j=f["mui.mobile.toEnd.tip"];if(i.length<1){a.create("div",{className:"addBottomTip",innerHTML:"<div class='addBootomTipContent'><div class='notice'>"+j+"</div></div>"},h,"last")}})}}})})},"sys/mobile/js/mui/chart/ChartInfographicMixin":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/dom-style","dojo/window"],function(b,d,a,c){return b("mui.chart.chartInfographicMixin",null,{colors:["#C1232B","#27727B","#FCCE10","#E87C25","#B5C334","#FE8463","#9BCA63","#FAD860","#F3A43B","#60C0DD","#D7504B","#C6E579","#F4E001","#F0805A","#26C0C0"],concatDefaultOptions:function(e){this.defaultColor(e);this.defaultXAxis(e)},defaultXAxis:function(e){var g=e.xAxis;if(g instanceof Array){for(var f=0;f<g.length;f++){if(!e.xAxis[f].axisLabel){e.xAxis[f].axisLabel={}}if(!e.xAxis[f].axisLabel.rotate){e.xAxis[f].axisLabel.rotate=30}}}},defaultColor:function(e){if(!e.color){e.color=this.colors}},registerTheme:function(e){var g=this.colors;var f={color:g,title:{textStyle:{fontWeight:"normal",color:"#27727B"}},visualMap:{color:["#C1232B","#FCCE10"]},toolbox:{iconStyle:{normal:{borderColor:g[0]}}},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#27727B",type:"dashed"},crossStyle:{color:"#27727B"},shadowStyle:{color:"rgba(200,200,200,0.3)"}}},dataZoom:{dataBackgroundColor:"rgba(181,195,52,0.3)",fillerColor:"rgba(181,195,52,0.2)",handleColor:"#27727B"},categoryAxis:{axisLine:{lineStyle:{color:"#27727B"}},splitLine:{show:false}},valueAxis:{axisLine:{show:false},splitArea:{show:false},splitLine:{lineStyle:{color:["#ccc"],type:"dashed"}}},timeline:{lineStyle:{color:"#27727B"},controlStyle:{normal:{color:"#27727B",borderColor:"#27727B"}},symbol:"emptyCircle",symbolSize:3},line:{itemStyle:{normal:{borderWidth:2,borderColor:"#fff",lineStyle:{width:3}},emphasis:{borderWidth:0}},symbol:"circle",symbolSize:3.5},candlestick:{itemStyle:{normal:{color:"#C1232B",color0:"#B5C334",lineStyle:{width:1,color:"#C1232B",color0:"#B5C334"}}}},graph:{color:g},map:{label:{normal:{textStyle:{color:"#C1232B"}},emphasis:{textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{areaColor:"#ddd",borderColor:"#eee"},emphasis:{areaColor:"#fe994e"}}},gauge:{axisLine:{lineStyle:{color:[[0.2,"#B5C334"],[0.8,"#27727B"],[1,"#C1232B"]]}},axisTick:{splitNumber:2,length:5,lineStyle:{color:"#fff"}},axisLabel:{textStyle:{color:"#fff"}},splitLine:{length:"5%",lineStyle:{color:"#fff"}},title:{offsetCenter:[0,-20]}}};e.registerTheme("infographic",f)}})})},"km/imissive/mobile/module/js/MainView":function(){define(["mui/createUtils","mui/i18n/_i18n!km/imissive/mobile/module/js/mui-kmImissive-indexMain"],function(b,e){var c=[];if(window.buttons){for(var d=0;d<window.buttons.length;d++){var a=window.buttons[d];if(a=="send_create"){c.push({icon:"muis-pop-send",text:"新建发文",click:function(){require(["mui/syscategory/SysCategoryUtil"],function(f){f.create({key:"sendAdd",createUrl:"/km/imissive/km_imissive_send_main/kmImissiveSendMain.do?method=add&fdTemplateId=!{curIds}&mobile=true",modelName:"com.landray.kmss.km.imissive.model.KmImissiveSendTemplate",mainModelName:"com.landray.kmss.km.imissive.model.KmImissiveSendMain"})})}})}else{if(a=="receive_create"){c.push({icon:"muis-missive-new-accept",text:"新建收文",click:function(){require(["mui/syscategory/SysCategoryUtil"],function(f){f.create({key:"receiveAdd",createUrl:"/km/imissive/km_imissive_receive_main/kmImissiveReceiveMain.do?method=add&fdTemplateId=!{curIds}&mobile=true",modelName:"com.landray.kmss.km.imissive.model.KmImissiveReceiveTemplate",mainModelName:"com.landray.kmss.km.imissive.model.KmImissiveReceiveMain"})})}})}else{if(a=="sign_create"){c.push({icon:"muis-missive-new-report",text:"新建签报",click:function(){require(["mui/syscategory/SysCategoryUtil"],function(f){f.create({key:"signAdd",createUrl:"/km/imissive/km_imissive_sign_main/kmImissiveSignMain.do?method=add&fdTemplateId=!{curIds}&mobile=true",modelName:"com.landray.kmss.km.imissive.model.KmImissiveSignTemplate",mainModelName:"com.landray.kmss.km.imissive.model.KmImissiveSignMain"})})}})}}}}}return{createView:function(){return{header:{tmpl:b.createTemplate(null,{dojoType:"sys/mportal/module/mobile/containers/Header",dojoProps:{userName:dojoConfig.CurrentUserName}},b.createTemplate(null,{dojoType:"sys/mportal/module/mobile/elements/Statistical",dojoMixins:"km/imissive/mobile/module/js/main/Statistical"}))},button:{icon:"muis-new",datas:c||[]},cards:[{contents:[{tmpl:b.createTemplate(null,{dojoType:"sys/mportal/module/mobile/elements/Functional",dojoMixins:"km/imissive/mobile/module/js/main/Functional"})}]},{title:{text:e["mobile.kmImissive.doneStat"]},contents:[{tmpl:b.createTemplate(null,{dojoType:"sys/mportal/module/mobile/elements/TabsChart",dojoMixins:"km/imissive/mobile/module/js/main/TabsChart"})}]}]}}}})},"km/imissive/mobile/module/js/ModuleMixin":function(){define(["dojo/_base/declare","./MainView"],function(a,c,b){return a("km.imissive.module.ModuleMixin",null,{views:[c]})})},"km/imissive/mobile/module/js/main/TabsChart":function(){define(["dojo/_base/declare","mui/i18n/_i18n!km/imissive/mobile/module/js/mui-kmImissive-indexMain"],function(a,b){return a("km.imissive.module.main.TabsChart",[],{datas:[{text:b["mobile.kmImissive.week"],url:"/km/imissive/km_imissive_main/kmImissiveMain.do?method=approvedImissiveChart&dateType=week",selected:true},{text:b["mobile.kmImissive.month"],url:"/km/imissive/km_imissive_main/kmImissiveMain.do?method=approvedImissiveChart&dateType=month"},{text:b["mobile.kmImissive.year"],url:"/km/imissive/km_imissive_main/kmImissiveMain.do?method=approvedImissiveChart&dateType=year"}]})})},"sys/mobile/js/mui/chart/ChartShineMixin":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/dom-style","dojo/window"],function(b,d,a,c){return b("mui.chart.chartShineMixin",null,{colors:["#c12e34","#e6b600","#0098d9","#2b821d","#005eaa","#339ca8","#cda819","#32a487"],concatDefaultOptions:function(e){this.defaultColor(e);this.defaultXAxis(e)},defaultXAxis:function(e){var g=e.xAxis;if(g instanceof Array){for(var f=0;f<g.length;f++){if(!e.xAxis[f].axisLabel){e.xAxis[f].axisLabel={}}if(!e.xAxis[f].axisLabel.rotate){e.xAxis[f].axisLabel.rotate=30}}}},defaultColor:function(e){if(!e.color){e.color=this.colors}},registerTheme:function(e){var g=this.colors;var f={color:g,title:{textStyle:{fontWeight:"normal"}},visualMap:{color:["#1790cf","#a2d4e6"]},toolbox:{iconStyle:{normal:{borderColor:"#06467c"}}},tooltip:{backgroundColor:"rgba(0,0,0,0.6)"},dataZoom:{dataBackgroundColor:"#dedede",fillerColor:"rgba(154,217,247,0.2)",handleColor:"#005eaa"},timeline:{lineStyle:{color:"#005eaa"},controlStyle:{normal:{color:"#005eaa",borderColor:"#005eaa"}}},candlestick:{itemStyle:{normal:{color:"#c12e34",color0:"#2b821d",lineStyle:{width:1,color:"#c12e34",color0:"#2b821d"}}}},graph:{color:g},map:{label:{normal:{textStyle:{color:"#c12e34"}},emphasis:{textStyle:{color:"#c12e34"}}},itemStyle:{normal:{borderColor:"#eee",areaColor:"#ddd"},emphasis:{areaColor:"#e6b600"}}},gauge:{axisLine:{show:true,lineStyle:{color:[[0.2,"#2b821d"],[0.8,"#005eaa"],[1,"#c12e34"]],width:5}},axisTick:{splitNumber:10,length:8,lineStyle:{color:"auto"}},axisLabel:{textStyle:{color:"auto"}},splitLine:{length:12,lineStyle:{color:"auto"}},pointer:{length:"90%",width:3,color:"auto"},title:{textStyle:{color:"#333"}},detail:{textStyle:{color:"auto"}}}};e.registerTheme("shine",f)}})})},"sys/mobile/js/mui/chart/ChartVintageMixin":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/dom-style","dojo/window"],function(b,d,a,c){return b("mui.chart.chartVintageMixin",null,{colors:["#d87c7c","#919e8b","#d7ab82","#6e7074","#61a0a8","#efa18d","#787464","#cc7e63","#724e58","#4b565b"],concatDefaultOptions:function(e){this.defaultColor(e);this.defaultXAxis(e)},defaultXAxis:function(e){var g=e.xAxis;if(g instanceof Array){for(var f=0;f<g.length;f++){if(!e.xAxis[f].axisLabel){e.xAxis[f].axisLabel={}}if(!e.xAxis[f].axisLabel.rotate){e.xAxis[f].axisLabel.rotate=30}}}},defaultColor:function(e){if(!e.color){e.color=this.colors}},registerTheme:function(e){e.registerTheme("vintage",{color:this.colors,backgroundColor:"#fef8ef",graph:{color:this.colors}})}})})},"sys/mobile/js/mui/view/DocScrollableView":function(){define(["./DocView","./NativeDocView"],function(a,b){return dojoConfig._native?b:a})},"km/imissive/mobile/module/js/Module":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_Contained","dijit/_Container","dojo/_base/array","dojo/dom-construct","dojo/parser","sys/mportal/module/mobile/Tabbar","sys/mportal/module/mobile/TabView","sys/mportal/module/mobile/HashMixin","dojo/_base/lang","sys/mportal/module/mobile/Container","sys/mportal/module/mobile/containers/Card","sys/mportal/module/mobile/containers/TabsCard","sys/mportal/module/mobile/elements/Button","dojo/dom-class"],function(g,m,b,j,l,f,a,h,p,o,d,e,k,c,i,n){return g("km.imissive.module.Module",[m,b,j,o],{views:[],postMixInProperties:function(){this.inherited(arguments);l.forEach(this.views,function(q){var r={icon:q.icon,text:q.text,view:q.createView()};this.tabbars.push(r)},this)},VIEW_CHANGE:"mui.view.change",tabbars:[],containerTmpl:'<div data-dojo-type="sys/mportal/module/mobile/Container">{tmpl}<div fixed="bottom"></div></div>',parseView:function(y){var z=this.getChildren()[y];if(z.isParsed()){return}z.parse();var u=this.tabbars[y].view;if(d.isObject(u)){var r=new e();z.addChild(r);var x=u.header;if(x){this.parseComponent(x,r)}var q=u.cards;l.forEach(q,function(C){var B=C.contents;if(B.length==1){this.parseCard(C,r)}else{this.parseTabsCard(C,r)}},this);var A=u.tmpl;if(A){this.parseComponent({tmpl:A},r)}if(window.kmImissiveRoles){for(var v=0;kmImissiveRoles.length;v++){if("addRole"==kmImissiveRoles[v]){f.create("div",{fixed:"bottom"},r.domNode);var w=u.button;if(w){var s=new i(w);r.addChild(s)}break}}}return}var t=f.create("div",{innerHTML:this.containerTmpl.replace("{tmpl}",u)});a.parse(t,{noStart:true}).then(function(B){z.addChild(B[0])})},parseComponent:function(s,q){if(!s.tmpl){return}var r=s.tmpl;this.parseTmpl(r,q)},parseCard:function(s,q){var r=new k(s);q.addChild(r)},parseTabsCard:function(s,q){var r=new c(s);q.addChild(r)},parseTmpl:function(r,q){var s=f.create("div",{innerHTML:r},q.domNode);a.parse({rootNode:s,noStart:false})},buildRendering:function(){this.inherited(arguments);this.subscribe(this.VIEW_CHANGE,"onViewChange");if(this.tabbars.length==1){n.add(this.domNode,"muiModuleSgl")}l.forEach(this.tabbars,function(s,r){var q=new p({index:r});this.addChild(q);if(this.index==r){this.showView(r);this.defer(function(){q.resize()},1)}},this);this.renderTabbar()},showView:function(r){this.parseView(r);var q=this;require(["dojox/mobile/TransitionEvent"],function(s){setTimeout(function(){new s(document.body,{moveTo:q.getChildren()[r].id,transition:"slide"}).dispatch()},1)})},onViewChange:function(r,q){if(!q){return}this.showView(q.index)},renderTabbar:function(q){if(this.tabbars&&this.tabbars.length<=1){return}this.addChild(new h({datas:this.tabbars}))}})})},"sys/mobile/js/mui/chart/ChartDefaultMixin":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/dom-style","dojo/window"],function(b,d,a,c){return b("mui.chart.chartDefaultMixin",null,{colors:["#c12e34","#e6b600","#0098d9","#2b821d","#005eaa","#339ca8","#cda819","#32a487"],concatDefaultOptions:function(e){this.defaultColor(e);this.defaultXAxis(e)},defaultXAxis:function(e){var g=e.xAxis;if(g instanceof Array){for(var f=0;f<g.length;f++){if(!e.xAxis[f].axisLabel){e.xAxis[f].axisLabel={}}if(!e.xAxis[f].axisLabel.rotate){e.xAxis[f].axisLabel.rotate=30}}}},defaultColor:function(e){if(!e.color){e.color=this.colors}},registerTheme:function(e){e.registerTheme("default",{graph:{}})}})})},"sys/mobile/js/mui/chart/ChartLandrayblueMixin":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/dom-style","dojo/window"],function(b,d,a,c){return b("mui.chart.chartLandrayblueMixin",null,{colors:["#166eff","#69a0fd","#9ec2ff","#c4daff","#c8cbd2","#b0b7c4","#98a4b9","#778398","#ffc0a9","#ff9898"],concatDefaultOptions:function(e){this.defaultColor(e);this.defaultXAxis(e)},defaultXAxis:function(e){var g=e.xAxis;if(g instanceof Array){for(var f=0;f<g.length;f++){if(!e.xAxis[f].axisLabel){e.xAxis[f].axisLabel={}}if(!e.xAxis[f].axisLabel.rotate){e.xAxis[f].axisLabel.rotate=30}}}},defaultColor:function(e){if(!e.color){e.color=this.colors}},registerTheme:function(e){e.registerTheme("landrayblue",{color:this.colors,backgroundColor:"rgba(0, 0, 0, 0)",textStyle:{},title:{textStyle:{color:"#333"},subtextStyle:{color:"#999999"}},line:{itemStyle:{normal:{borderWidth:"0"}},lineStyle:{normal:{width:"3"}},symbolSize:"3",symbol:"circle",smooth:false},radar:{itemStyle:{normal:{borderWidth:"0"}},lineStyle:{normal:{width:"3"}},symbolSize:"3",symbol:"circle",smooth:false},bar:{itemStyle:{normal:{barBorderWidth:0,barBorderColor:"#ccc"},emphasis:{barBorderWidth:0,barBorderColor:"#ccc"}}},pie:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},scatter:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},boxplot:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},parallel:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},sankey:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},funnel:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},gauge:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},candlestick:{itemStyle:{normal:{color:"#69a0fd",color0:"#ffc0a9",borderColor:"#166eff",borderColor0:"#ff9898",borderWidth:1}}},graph:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"}},lineStyle:{normal:{width:1,color:"#aaa"}},symbolSize:"3",symbol:"circle",smooth:false,color:this.colors,label:{normal:{textStyle:{color:"#ffffff"}}}},map:{itemStyle:{normal:{areaColor:"#eee",borderColor:"#4e88e6",borderWidth:0.5},emphasis:{areaColor:"#d1e2ff",borderColor:"#4e90fe",borderWidth:"1"}},label:{normal:{textStyle:{color:"#333333"}},emphasis:{textStyle:{color:"#4e90fe"}}}},geo:{itemStyle:{normal:{areaColor:"#eee",borderColor:"#4e88e6",borderWidth:0.5},emphasis:{areaColor:"#d1e2ff",borderColor:"#4e90fe",borderWidth:"1"}},label:{normal:{textStyle:{color:"#333333"}},emphasis:{textStyle:{color:"#4e90fe"}}}},categoryAxis:{axisLine:{show:true,lineStyle:{color:"#dcdcdc"}},axisTick:{show:true,lineStyle:{color:"#dcdcdc"}},axisLabel:{show:true,textStyle:{color:"#999999"}},splitLine:{show:false,lineStyle:{color:["#ccc"]}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},valueAxis:{axisLine:{show:true,lineStyle:{color:"#dcdcdc"}},axisTick:{show:true,lineStyle:{color:"#dcdcdc"}},axisLabel:{show:true,textStyle:{color:"#999999"}},splitLine:{show:true,lineStyle:{color:["#f2f2f2"]}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},logAxis:{axisLine:{show:true,lineStyle:{color:"#333"}},axisTick:{show:true,lineStyle:{color:"#333"}},axisLabel:{show:true,textStyle:{color:"#999999"}},splitLine:{show:true,lineStyle:{color:["#ccc"]}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},timeAxis:{axisLine:{show:true,lineStyle:{color:"#333"}},axisTick:{show:true,lineStyle:{color:"#333"}},axisLabel:{show:true,textStyle:{color:"#333"}},splitLine:{show:true,lineStyle:{color:["#ccc"]}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},toolbox:{iconStyle:{normal:{borderColor:"#999"},emphasis:{borderColor:"#333333"}}},legend:{textStyle:{color:"#999999"}},tooltip:{axisPointer:{lineStyle:{color:"#e9e9e9",width:"1"},crossStyle:{color:"#e9e9e9",width:"1"}}},timeline:{lineStyle:{color:"#999999",width:1},itemStyle:{normal:{color:"#999999",borderWidth:1},emphasis:{color:"#69a0fd"}},controlStyle:{normal:{color:"#999999",borderColor:"#999999",borderWidth:0.5},emphasis:{color:"#999999",borderColor:"#999999",borderWidth:0.5}},checkpointStyle:{color:"#69a0fd",borderColor:"#166eff"},label:{normal:{textStyle:{color:"#999999"}},emphasis:{textStyle:{color:"#999999"}}}},visualMap:{color:["#166eff","#69a0fd","#9ec2ff","#c4daff","#ffc0a9","#ff9898"]},dataZoom:{backgroundColor:"rgba(47,69,84,0)",dataBackgroundColor:"rgba(47,69,84,0.3)",fillerColor:"rgba(167,183,204,0.4)",handleColor:"#a7b7cc",handleSize:"100%",textStyle:{color:"#333"}},markPoint:{label:{normal:{textStyle:{color:"#ffffff"}},emphasis:{textStyle:{color:"#ffffff"}}}}})}})})},"sys/mobile/js/mui/chart/ChartZoomMixin":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/dom-style","dojo/window"],function(b,d,a,c){return b("mui.chart.chartZoomMixin",null,{session:{},buildRenderingCompleted:function(){this.connect(this.container,"touchstart",this.doTouchStart);this.connect(this.container,"touchmove",this.doTouchMove);this.connect(this.container,"touchend",this.doTouchEnd)},doTouchStart:function(e){this.initTargetTouches(e);this.session.start={};this.session.move={};for(var g=0;g<this.targetTouches.length;g++){var h=this.targetTouches[g],f=h.identifier;this.session.start[f]={identifier:f,pageX:h.pageX,pageY:h.pageY};this.session.move[f]={identifier:f,pageX:h.pageX,pageY:h.pageY}}},doTouchMove:function(e){var h=this.getTargetTouches(e);for(var g=0;g<h.length;g++){var j=h[g],f=j.identifier;this.session.move[f]={identifier:f,pageX:j.pageX,pageY:j.pageY}}},doTouchEnd:function(w){var r=this.getTargetTouches(w);for(var n=0;n<r.length;n++){var f=r[n],p=f.identifier;this.session.move[p]={identifier:p,pageX:f.pageX,pageY:f.pageY}}var h=false,o=false,g=[];for(var p in this.session.start){g.push(this.session.start[p])}for(var n=0;n<g.length;n++){var m=g[n],v=m.identifier,s=this.session.move[v];for(var l=n+1;l<g.length;l++){var k=g[l],u=k.identifier,q=this.session.move[u];var e=this.calculate(m,k),t=this.calculate(s,q);if(t-e>10){o=true}if(e-t>10){h=true}}}if(h){this.doZoomIn();return}if(o){this.doZoomOut();return}},initTargetTouches:function(f){var e=this.toArray(f.touches);this.targetIds=[];this.targetTouches=e.filter(function(h){var g=this.hasParent(h.target,this.domNode);if(g){this.targetIds.push(h.identifier)}return g},this)},getTargetTouches:function(g){var f=this.toArray(g.touches),h=[];f=f.concat(this.toArray(g.changedTouches));for(var e=0;e<f.length;e++){var j=f[e];if(this.contain(this.targetIds,j.identifier)){h.push(j)}}return h},hasParent:function(f,e){while(f){if(f===e){return true}f=f.parentNode}return false},toArray:function(e){return Array.prototype.slice.call(e,0)},contain:function(g,f){if(g==null){return false}for(var e=0;e<g.length;e++){if(g[e]==f){return true}}return false},calculate:function(h,f){var e=Math.abs(h.pageX-f.pageY),g=Math.abs(h.pageY-f.pageY);return Math.sqrt(e*e+g*g)},doZoomOut:function(){var i=c.getBox(document),e=d.getContentBox(this.content),f=e.w+50,g=e.h+10;a.set(this.content,"width",f+"px");a.set(this.content,"height",g+"px");a.set(this.container,"height",g+"px");this.echart.resize()},doZoomIn:function(){var i=c.getBox(document),e=d.getContentBox(this.content),f=e.w-50,g=e.h-10;if(f<=i.w){return}a.set(this.content,"width",f+"px");a.set(this.content,"height",g+"px");a.set(this.container,"height",g+"px");this.echart.resize()}})})},"sys/mobile/js/mui/chart/ChartDarkMixin":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/dom-style","dojo/window"],function(b,d,a,c){return b("mui.chart.chartDarkMixin",null,{colors:["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],concatDefaultOptions:function(e){this.defaultColor(e);this.defaultXAxis(e)},defaultXAxis:function(e){var g=e.xAxis;if(g instanceof Array){for(var f=0;f<g.length;f++){if(!e.xAxis[f].axisLabel){e.xAxis[f].axisLabel={}}if(!e.xAxis[f].axisLabel.rotate){e.xAxis[f].axisLabel.rotate=30}}}},defaultColor:function(e){if(!e.color){e.color=this.colors}},registerTheme:function(f){var e="#eee";var i=function(){return{axisLine:{lineStyle:{color:e}},axisTick:{lineStyle:{color:e}},axisLabel:{textStyle:{color:e}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:e}}}};var h=this.colors;var g={color:h,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:e},crossStyle:{color:e}}},legend:{textStyle:{color:e}},textStyle:{color:e},title:{textStyle:{color:e}},toolbox:{iconStyle:{normal:{borderColor:e}}},dataZoom:{textStyle:{color:e}},timeline:{lineStyle:{color:e},itemStyle:{normal:{color:h[1]}},label:{normal:{textStyle:{color:e}}},controlStyle:{normal:{color:e,borderColor:e}}},timeAxis:i(),logAxis:i(),valueAxis:i(),categoryAxis:i(),line:{symbol:"circle"},graph:{color:h},gauge:{title:{textStyle:{color:e}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};g.categoryAxis.splitLine.show=false;f.registerTheme("dark",g)}})})},"sys/mobile/js/mui/table/ScrollableHView":function(){define(["./HView","./NativeHView"],function(a,b){return dojoConfig._native?b:a})},"sys/mobile/js/mui/chart/Chart":function(){define(["dojo/_base/declare","dojo/_base/array","dijit/_WidgetBase","dijit/registry","dojo/_base/lang","dojo/dom-construct","dojo/dom-style","dojo/dom-class","dojo/dom-geometry","dojo/window","dojo/request","dojo/parser","dojo/query","mui/util","lib/echart/echarts","mui/chart/ChartZoomMixin","mui/chart/ChartDefaultMixin"],function(j,n,i,a,c,e,m,p,d,l,h,b,o,k,f,g,q){return j("mui.chart.chart",[i,g,q],{url:"",isLazy:false,dbcenter:false,drawed:false,chartTmpl:'<div data-dojo-type="mui/table/ScrollableHContainer" data-dojo-dom="container"><div data-dojo-dom="view"><div data-dojo-dom="content"></div></div><div data-dojo-dom="list" style="display:none"><div style="text-align:center;width:40px;color:#37ace1;margin:3px 5px;" data-dojo-dom="backlist">lang_comeBack</div><div data-dojo-type="mui/view/DocScrollableView" data-dojo-dom="scrollview"><div data-dojo-type="mui/table/ScrollableHContainer" data-dojo-dom="listview"><div data-dojo-type="mui/table/ScrollableHView"><table cellspacing="0" cellpadding="0" class="detailTableNormal"><tr><td class="detailTableNormalTd"><table class="muiAgendaNormal muiNormal" width="100%" border="0" cellspacing="0" cellpadding="0"></table></td></tr></table></div></div></div></div></div>',chartTheme:null,lang_props:null,_setUrlAttr:function(r){this._set("url",r);this.drawed=false;this.requestChart()},buildRendering:function(){var s=this;this.inherited(arguments);p.add(this.domNode,"muiChart");this.chartTmpl=this.chartTmpl.replace("lang_comeBack",this.getLangProp("lang_comeBack","返回"));var r=c.replace(this.chartTmpl,{});setTimeout(function(){var t=s.globalGeometry();b.parse(e.create("div",{innerHTML:r},s.domNode,"last")).then(function(u){n.forEach(u,function(x,w){if(w==0){s.container=x.domNode;s.view=o('[data-dojo-dom="view"]',x.domNode)[0];s.content=o('[data-dojo-dom="content"]',x.domNode)[0];s.list=o('[data-dojo-dom="list"]',x.domNode)[0];var v=o('[data-dojo-dom="backlist"]',s.list)[0];s.connect(v,"click",function(){s.switchChart("0")});m.set(x.domNode,"height",t.h+"px");m.set(s.content,"width",t.w+"px");m.set(s.content,"height",t.h+"px");if(!s.isLazy){s.requestChart()}}});s.buildRenderingCompleted()})},1)},buildRenderingCompleted:function(){this.inherited(arguments)},startup:function(){this.inherited(arguments)},globalGeometry:function(){var s=this.getChartDomWidth(this.domNode);if(s>0){return{w:s,h:s}}else{var r=l.getBox(document);return{w:r.w,h:r.w}}},getChartDomWidth:function(s){var r=0;if(s){var r=d.getContentBox(s).w;if(r==0){return this.getChartDomWidth(s.parentNode)}}return r},requestChart:function(s){var s=k.formatUrl(s||this.url),A=this;try{var x=location.href.split("#");console.log("query:"+x);if(x.length>1){var B="";var v=x[1];if(v.indexOf("cri.q=")==0){v=v.substr(6);var u=v.split(";");for(var t=0;t<u.length;t++){var y=u[t].split(":");var r=y[0];var z="";if(y.length>0){z=y[1]}B+="&q."+r+"="+z}}s+=B}}catch(w){console.log(w)}h.post(s).response.then(function(C){var D=A.toJSON(C.data);c.hitch(A,"renderChart")(D)})},switchChart:function(r){if(r=="1"){m.set(this.view,"display","none");this.showList(this.list)}else{m.set(this.view,"display","block");m.set(this.list,"display","none")}},showList:function(z){var x=this;var r=[];var t=[];var J=[];var A=x.result.series;var G=o(".muiAgendaNormal",z)[0];if(A.length==1&&(A[0].type=="pie"||A[0].type=="gauge")){var y=A[0];var I=[];t.push(y.name);for(var K in y.data){var B=y.data[K];r.push(B.name);I.push(B.value)}J.push(I)}else{r=x.result.xAxis[0].data;for(var F=0;F<A.length;F++){var w=A[F];t.push(w.name);J.push(w.data)}}G.innerHTML="";if(J!=null&&J.length>0){var s=e.toDom("<tr></tr>");s.appendChild(e.toDom("<th></th>"));for(var E=0;E<t.length;E++){s.appendChild(e.toDom("<th>"+t[E]+"</th>"))}G.appendChild(s);for(var D=0;D<r.length;D++){var v=e.toDom("<tr></tr>");v.appendChild(e.toDom("<td>"+r[D]+"</td>"));for(var C=0;C<J.length;C++){var H=J[C][D];if(typeof H==="object"){if(H!=null){H=H.value}}v.appendChild(e.toDom("<td>"+H+"</td>"))}G.appendChild(v)}}m.set(z,"display","block");var u=m.get(G,"height");m.set(o('[data-dojo-dom="listview"]',z)[0],"height",(u+40)+"px");m.set(o('[data-dojo-dom="scrollview"]',z)[0],"height",(360-30)+"px")},renderChart:function(s){if(this.content==null||this.drawed){return}var r=this;this.drawed=true;if(this.chartTheme!=null){this.registerTheme(f)}else{this.concatDefaultOptions(s)}this.result=s;if(this.dbcenter&&s.toolbox&&s.toolbox.feature&&!s.toolbox.feature.myDataTableView){var t="/sys/ui/extend/theme/default/images/chart/switch.png";this._merge(s,{toolbox:{right:"25px",itemSize:20,feature:{mark:{show:false},dataZoom:{show:false},dataView:{show:false},magicType:{show:false},restore:{show:true,title:this.getLangProp("lang_restore","还原")},saveAsImage:{show:false},myDataTableView:{show:true,title:this.getLangProp("lang_dataView","数据视图"),icon:"image://"+k.formatUrl(t,true),onclick:function(){r.switchChart("1")}}}}})}this.options=s;this.echart=f.init(this.content,this.chartTheme==null?"landrayblue":this.chartTheme);if(s.on){for(var u in s.on){this.echart.on(u,s.on[u])}delete s.on}if(s.showMode=="dataView"){this.switchChart("1")}if(s.KmssData){this.echart.KmssData=s.KmssData;delete s.KmssData}this.echart.setOption(s)},concatDefaultOptions:function(){this.inherited(arguments)},registerTheme:function(r){this.inherited(r)},refresh:function(){this.echart=f.init(this.content);this.echart.setOption(this.options)},toJSON:function(r){return(new Function("return ("+r+");"))()},_merge:function(r,t){for(var s in t){if(typeof t[s]==="object"){if(!r[s]){r[s]={}}r[s]=this._merge(r[s],t[s])}else{r[s]=t[s]}}return r},getLangProp:function(s,r){if(this.lang_props&&this.lang_props[s]){return this.lang_props[s]}return r}})})},"sys/mobile/js/mui/chart/ChartRomaMixin":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/dom-style","dojo/window"],function(b,d,a,c){return b("mui.chart.chartRomaMixin",null,{colors:["#E01F54","#001852","#f5e8c8","#b8d2c7","#c6b38e","#a4d8c2","#f3d999","#d3758f","#dcc392","#2e4783","#82b6e9","#ff6347","#a092f1","#0a915d","#eaf889","#6699FF","#ff6666","#3cb371","#d5b158","#38b6b6"],concatDefaultOptions:function(e){this.defaultColor(e);this.defaultXAxis(e)},defaultXAxis:function(e){var g=e.xAxis;if(g instanceof Array){for(var f=0;f<g.length;f++){if(!e.xAxis[f].axisLabel){e.xAxis[f].axisLabel={}}if(!e.xAxis[f].axisLabel.rotate){e.xAxis[f].axisLabel.rotate=30}}}},defaultColor:function(e){if(!e.color){e.color=this.colors}},registerTheme:function(e){var g=this.colors;var f={color:g,visualMap:{color:["#e01f54","#e7dbc3"],textStyle:{color:"#333"}},candlestick:{itemStyle:{normal:{color:"#e01f54",color0:"#001852",lineStyle:{width:1,color:"#f5e8c8",color0:"#b8d2c7"}}}},graph:{color:g},gauge:{axisLine:{lineStyle:{color:[[0.2,"#E01F54"],[0.8,"#b8d2c7"],[1,"#001852"]],width:8}}}};e.registerTheme("roma",f)}})})},"sys/mobile/js/mui/list/_ViewScrollEventPublisherMixin":function(){define(["dojo/_base/declare","dojo/topic","dojo/_base/lang","dojox/mobile/common"],function(b,a,d,c){return b("mui.list._ViewScrollEventPublisherMixin",null,{adjust:"/mui/list/adjustDestination",runSlide:"/mui/list/_runSlideAnimation",afScroll:"/mui/list/afterScroll",toTop:"/mui/list/toTop",scrollResizeEvent:"/mui/list/resize",startup:function(){if(this._started){return}this.inherited(arguments);this.subscribe(this.toTop,"handleToTopTopic");this.subscribe("/mui/list/onReload",function(){a.publish(this.adjust,this,{y:0})});this.subscribe(this.scrollResizeEvent,"scrollResize")},scrollResize:function(){var e=this;if(e.resize){setTimeout(function(){e.resize()},300)}},handleToTopTopic:function(h,e){var k={y:0};if(e!=null){k=d.mixin(k,e)}if(k.y&&k.y!=0){var g=this.domNode.offsetHeight;if(this.fixedFooterHeight){g-=this.fixedFooterHeight}if(this.fixedHeaderHeight){g-=this.fixedHeaderHeight}var l=this.containerNode.offsetHeight;var f=l+k.y;var i=0;if(f<g){if(l<g){i=0}else{i=0-(l-g)}k.y=i}}var j=0.5;if(typeof(k.time)!="undefined"&&k.time>=0){j=k.time}this.slideTo(k,j,"linear");window.setTimeout(d.hitch(this,function(){a.publish(this.adjust,this,k)}),520)},adjustDestination:function(g,f,e){a.publish(this.adjust,this,g,f,e);return this.inherited(arguments)},_runSlideAnimation:function(j,i,g,h,f,e){a.publish(this.runSlide,this,{from:j,to:i});this.inherited(arguments)},onAfterScroll:function(e){a.publish(this.afScroll,this,e);return this.inherited(arguments)},onFilter:function(){this._runSlideAnimation(this.getPos(),{y:0},0,"ease-out",this.containerNode,2)}})})},"km/imissive/mobile/module/js/main/Statistical":function(){define(["dojo/_base/declare","sys/mportal/module/mobile/containers/header/CardMixin","mui/i18n/_i18n!km/imissive/mobile/module/js/mui-kmImissive-indexMain"],function(a,c,b){return a("km.imissive.module.main.Statistical",[c],{datas:{menus:[[{countUrl:"/km/imissive/km_imissive_main/kmImissiveMain.do?method=getImissiveLibraryCount",text:b["kmImissive.tree.all"],href:"/km/imissive/mobile/imissive_library/index.jsp"},{countUrl:"/km/imissive/km_imissive_main/kmImissiveMain.do?method=getImissiveApprovalCount",text:b["kmImissive.tree.myapproval"],href:"/km/imissive/mobile/imissive_approval/index.jsp"},{countUrl:"/km/imissive/km_imissive_main/kmImissiveMain.do?method=getImissiveApprovaledCount",text:b["kmImissive.tree.myapproved"],href:"/km/imissive/mobile/imissive_approvaled/index.jsp"}]]}})})}}});require({cache:{"km/imissive/mobile/module/js/mui-kmImissive-indexMain_zh-cn._min_":function(){define("",{"kmImissive.tree.Sign.finished":"办结签报","kmImissive.tree.officialSeal":"机关印章","kmImissive.tree.myapproved.MySend1":"已办公文","kmImissive.tree.signatureSetting":"签章设置","kmImissive.tree.myWaitCheck":"待审","kmImissive.tree.discardBox.Receive":"收文废弃箱","kmImissive.tree.myApproveMissive":"审批公文","kmImissive.tree.serach.send":"发文搜索（政企版）","kmImissive.tree.allSign":"签报库","kmImissive.tree.create.her":"她起草的","kmImissive.tree.draftBox.Sign":"草稿箱签报","kmImissive.tree.manage.sign":"文档维护（签报）","kmImissive.tree.Send.finished1":"已发公文","kmImissive.tree.create.his":"他起草的","kmImissive.tree.fillingBox.Receive":"收文归档箱","kmImissive.tree.Send":"发文","kmImissive.tree.fillingBox":"归档箱","kmImissive.tree.Receive":"收文","kmImissive.tree.all.Receive":"公文查询(收文)","kmImissive.tree.allSend":"发文库","kmImissive.tree.create.my":"我起草的","kmImissive.tree.serach":"公文搜索","kmImissive.tree.myapproval.MyReceive":"待我审的收文","kmImissive.tree.recycle.send":"发文回收站","kmImissive.tree.myapproval.MySign":"待我审的签报","kmImissive.tree.manage.send":"文档维护（发文）","kmImissive.tree.recycle.sign":"签报回收站","kmImissive.tree.Sign":"签报","kmImissive.tree.Exchange":"交换库","kmImissive.tree.mysign":"我会签的","kmImissive.tree.myPublish":"已办结","kmImissive.tree.recycle.receive":"收文回收站","kmImissive.tree.Sign.finished1":"已发签报","kmImissive.tree.myMissive":"我的公文","kmImissive.tree.discardBox":"废弃箱","kmImissive.tree.receiveUnit":"按来文机关","kmImissive.tree.all":"公文库","kmImissive.tree.myapproval.MySend":"待我审的发文","kmImissive.tree.myapproval.send":"待审发文","kmImissive.tree.create.ta":"TA起草的","kmImissive.tree.myapproved.MyReceive1":"已办收文 ","kmImissive.tree.create.my.summary":"我起草的纪要","kmImissive.tree.myapproval":"待我审的","kmImissive.tree.all.Sign":"公文查询(签报)","kmImissive.tree.myapproved.MySign":"我已审的签报","kmImissive.tree.status.all":"全部","kmImissive.tree.serach.sign":"签报搜索（政企版）","kmImissive.tree.myapproval.summary":"待我审的纪要","kmImissive.tree.draftBox":"草稿箱","kmImissive.tree.Receive.finished1":"已发收文","kmImissive.tree.myapproved":"我已审的","kmImissive.tree.myapproval.sign":"待审签报","kmImissive.tree.personalSig":"个人签名","kmImissive.tree.all.Send":"公文查询(发文)","kmImissive.tree.myreceivein":"内部接收","kmImissive.tree.approvalTypeSetup.send":"发文审批意见类型","kmImissive.tree.Receive.finished":"办结收文","kmImissive.tree.discardBox.Sign":"签报废弃箱","kmImissive.tree.myapproved.receive":"已审收文","kmImissive.tree.myapproved.MySign1":"已办签报","kmImissive.tree.sign.her":"她签发的","kmImissive.tree.fillingBox.Sign":"签报归档箱","kmImissive.tree.sign.his":"他签发的","kmImissive.tree.myapproved.send":"已审发文","kmImissive.tree.taMissive":"TA的公文","kmImissive.tree.paramSet":"参数设置","kmImissive.tree.allReceive":"收文库","kmImissive.tree.mydistribute":"我分发的","kmImissive.tree.serach.receive":"收文搜索（政企版）","kmImissive.tree.sigCategorySetting":"签章分类设置","kmImissive.tree.fillingBox.Send":"发文归档箱","kmImissive.tree.myreport":"我上报的","kmImissive.tree.manage.receive":"文档维护（收文）","kmImissive.tree.myapproval.receive":"待审收文","kmImissive.tree.myapproved.sign":"已审签报","kmImissive.tree.title":"政务公文","kmImissive.tree.draftBox.Receive":"草稿箱收文","kmImissive.tree.myapproved.MyReceive":"我已审的收文","kmImissive.tree.myapproved.MySend":"我已审的发文","kmImissive.tree.distributeRecord":"分发记录","kmImissive.tree.Send.finished":"办结发文","kmImissive.tree.myapproved.summary":"我已审的纪要","kmImissive.tree.approvalTypeSetup.receive":"收文审批意见类型","kmImissive.tree.myChecked":"已审","kmImissive.tree.circulation":"公文流转","kmImissive.tree.discard.summary":"纪要废弃箱","kmImissive.tree.receiveStatus":"按状态","kmImissive.tree.all.summary":"纪要查看","kmImissive.tree.myreceiveout":"外部接收","kmImissive.tree.sign.my":"我签发的","kmImissive.tree.receiveTemplate":"按办件类型","kmImissive.tree.reportRecord":"上报记录","kmImissive.tree.discardBox.Send":"发文废弃箱","kmImissive.tree.sign.ta":"TA签发的","kmImissive.tree.signatureLibrary":"签章库","kmImissive.tree.myreceive":"我接收的","kmImissive.tree.draftBox.Send":"草稿箱发文","mobile.kmImissive.send":"发文","mobile.kmImissive.week":"本周","mobile.kmImissive.doneStat":"已处理公文统计","mobile.kmImissive.signedReport":"已审签报","mobile.kmImissive.postsReviewed":"已审发文","mobile.kmImissive.type":"类型","mobile.supplement":"补发","mobile.kmImissive.publishDate":"办结日期","mobile.kmImissive.receive":"收文","mobile.kmImissive.status.toSend":"待发送","mobile.kmImissive.status.signed":"已签收","mobile.kmImissive.deadline":"限办日期","mobile.kmImissive.status.noOpen":"待查阅","mobile.kmImissive.reviewedReceipts":"已审收文","mobile.recall":"撤回","mobile.kmImissive.status.waitSign":"待签收","mobile.kmImissive.status.returnDoc":"已退文","mobile.kmImissive.status.cancel":"已撤回","mobile.recall.success":"撤回成功！","mobile.kmImissive.year":"本年","mobile.approval":"待审","mobile.kmImissive.status":"状态","mobile.approved":"已审","mobile.remind":"催办","mobile.kmImissive.month":"本月","mobile.kmImissive.createTime":"创建时间","mobile.kmImissive.publishTime":"签发日期","mobile.kmImissive.status.return":"已退回"})}}});